(this["webpackJsonphosting-ui"]=this["webpackJsonphosting-ui"]||[]).push([[17],{1109:function(e,t,n){e.exports={item:"MobileEditorPanel_item__3a3vT",disabled:"MobileEditorPanel_disabled__3GyjG",selected:"MobileEditorPanel_selected__2HqMe",menuChild:"MobileEditorPanel_menuChild__1ipMa",display_log_dot:"MobileEditorPanel_display_log_dot__3SQ47",not_selected:"MobileEditorPanel_not_selected__1J7NR",checkIcon:"MobileEditorPanel_checkIcon__18L0q",color_green:"MobileEditorPanel_color_green__2rJUX"}},1111:function(e,t,n){e.exports={close_button:"Tab_close_button__1mN1o",selected:"Tab_selected__2em0B",disabled:"Tab_disabled__3C8F-",wrapper:"Tab_wrapper__115mq",fadeInKeyframe:"Tab_fadeInKeyframe__h8tfp",spinner:"Tab_spinner__3p10B",title:"Tab_title__1SA1M",spinner_wrapper:"Tab_spinner_wrapper__30vpd",loading:"Tab_loading__31VBi",fadeOutKeyframe:"Tab_fadeOutKeyframe__1J1-A"}},1112:function(e,t,n){e.exports={toggle:"Toggle_toggle__3kuR0",check:"Toggle_check__pTVGE",check_input:"Toggle_check_input__2IJsw",switch:"Toggle_switch__1EMXk",switch_label:"Toggle_switch_label__3H7KS",disabled:"Toggle_disabled__28tbT"}},1113:function(e,t,n){e.exports={editor_group:"CodeEditor_editor_group__1XN46",code_editor_top_bar:"CodeEditor_code_editor_top_bar__55XII",code_editor_top_bar_start:"CodeEditor_code_editor_top_bar_start__241CN",loader:"CodeEditor_loader__XgIsR",loading:"CodeEditor_loading__1iEqb",code_editor_top_bar_end:"CodeEditor_code_editor_top_bar_end___w07U",tab_item:"CodeEditor_tab_item__1R50m",cursor_pointer:"CodeEditor_cursor_pointer__2w8Dc",active_tab:"CodeEditor_active_tab__jxGJI",live_switch_group:"CodeEditor_live_switch_group__1sOVG",switch_label:"CodeEditor_switch_label__3OzEZ",editor:"CodeEditor_editor__3PK1t",has_markdown:"CodeEditor_has_markdown__1_fyt",diff_header:"CodeEditor_diff_header__3cBLC",diff_top_bar:"CodeEditor_diff_top_bar__BFDIc",diff_header_left:"CodeEditor_diff_header_left__15scz",is_case_mode:"CodeEditor_is_case_mode__2-MrC",diff_header_right:"CodeEditor_diff_header_right__14rVF",diff_header_border:"CodeEditor_diff_header_border__bwakr",menu_item:"CodeEditor_menu_item__34C_k",menu_switch:"CodeEditor_menu_switch__Q6nnp",flipImage:"CodeEditor_flipImage__1TuvL",dark_theme:"CodeEditor_dark_theme__1wSXA",select_file:"CodeEditor_select_file__3HMNB",run_btn:"CodeEditor_run_btn__2RLSt"}},1114:function(e,t,n){e.exports={panel_button:"PanelIcon_panel_button__2rI33",disabled:"PanelIcon_disabled__1SwP_",active:"PanelIcon_active__Hglm8",locked_icon:"PanelIcon_locked_icon__3lTaY"}},1115:function(e,t,n){e.exports={footer_text:"TextScroller_footer_text__1FDNK",display:"TextScroller_display__AV1hW",move:"TextScroller_move__1UnPp"}},1116:function(e,t,n){e.exports={wrapper:"Splitter_wrapper__2uyuc",position_end:"Splitter_position_end__2YayZ",position_start:"Splitter_position_start__32pHt",horizontal:"Splitter_horizontal__109OC",disabled:"Splitter_disabled__3X63J",preview_pane:"Splitter_preview_pane__UiUH1",opacity_100:"Splitter_opacity_100__TfXbW"}},1117:function(e,t,n){e.exports={display_preview:"PreviewPane_display_preview__936zc",preview_pane:"PreviewPane_preview_pane__3tbF4",preview_horizontal:"PreviewPane_preview_horizontal__3IzRC",preview_top_bar:"PreviewPane_preview_top_bar__32gFo",preview_top_top_bar:"PreviewPane_preview_top_top_bar__1gmTl",preview_top_bottom_bar:"PreviewPane_preview_top_bottom_bar__FwYzL",enable_scroll:"PreviewPane_enable_scroll__2iza8",markdown:"PreviewPane_markdown__2uRCS",preview_content:"PreviewPane_preview_content__3qQ52",preview_size_tab:"PreviewPane_preview_size_tab__1v7PH",display_iframe_overlay:"PreviewPane_display_iframe_overlay__1oAoW",preview_address_field:"PreviewPane_preview_address_field__2kb9f",preview_pane_splitter:"PreviewPane_preview_pane_splitter__39yGh",buttons_preview_pane:"PreviewPane_buttons_preview_pane__odBtV",is_loading:"PreviewPane_is_loading__5OGc5",run_btn:"PreviewPane_run_btn__3sA_1",type_blob:"PreviewPane_type_blob__2-623",preview_error:"PreviewPane_preview_error__1mSCM"}},1118:function(e,t,n){},1119:function(e,t,n){e.exports={panel:"LeftPanel_panel__3J9fc",mobile_view:"LeftPanel_mobile_view__B5LZl",open_panel:"LeftPanel_open_panel__2QQEJ",panel_content:"LeftPanel_panel_content__3-Qad",close_panel_column:"LeftPanel_close_panel_column__20NRp",flipped:"LeftPanel_flipped__2SjhV",splitter:"LeftPanel_splitter__3eNHN",preview_pane:"LeftPanel_preview_pane__13oo_",display_preview:"LeftPanel_display_preview__3z2Zu"}},1120:function(e,t,n){e.exports={button_group:"ButtonGroup_button_group__3JoUH"}},1121:function(e,t,n){e.exports={button_wrapper:"ActionButtonElement_button_wrapper__1V5az",border:"ActionButtonElement_border__13klR",selected:"ActionButtonElement_selected__lCCz7"}},1122:function(e,t,n){e.exports={header:"TopHeaderGroup_header__1eqjB",header_top_row:"TopHeaderGroup_header_top_row__2PaWR",header_buttons_left:"TopHeaderGroup_header_buttons_left__2xT-n",header_buttons_middle:"TopHeaderGroup_header_buttons_middle__19012",header_buttons_right:"TopHeaderGroup_header_buttons_right__3kLzP"}},1123:function(e,t,n){e.exports={wrapper:"BottomPanel_wrapper__2iz4A"}},1124:function(e,t,n){e.exports={open_indicator:"TreeItem_open_indicator__20Rl4",tree_item:"TreeItem_tree_item__11OPc",isFolder:"TreeItem_isFolder__3MtZf",body:"TreeItem_body__32zPe",selected:"TreeItem_selected__1Owbc",is_space:"TreeItem_is_space__1k64p",disabled:"TreeItem_disabled__yzzL8",can_select:"TreeItem_can_select__352ri",isOpen:"TreeItem_isOpen__eQ_1X",display_buttons:"TreeItem_display_buttons__kisBH",action_buttons:"TreeItem_action_buttons__1XToR",mobile_view:"TreeItem_mobile_view__3wgN0",children:"TreeItem_children__3GUAF",expanded:"TreeItem_expanded__2Ownp",delete_menu_item:"TreeItem_delete_menu_item__8TBgL",locked:"TreeItem_locked__3lD0e",fadeInKeyframe:"TreeItem_fadeInKeyframe__1Gtob",is_new:"TreeItem_is_new__1JoDQ",new_indicator:"TreeItem_new_indicator__3sIu2",menu_wrapper:"TreeItem_menu_wrapper__Nxjw4",folder_text:"TreeItem_folder_text__D3x7A",item_header:"TreeItem_item_header__1ObJx",pre_body:"TreeItem_pre_body__r_9La",post_body:"TreeItem_post_body__39fVC",file_icon:"TreeItem_file_icon__2UMeC",expand_folder_btn:"TreeItem_expand_folder_btn__3buhT",file_loader_wrapper:"TreeItem_file_loader_wrapper__1sLqc",spinner:"TreeItem_spinner__1MhQ7",space_level_0:"TreeItem_space_level_0__3bl4x",space_level_1:"TreeItem_space_level_1__1-0cS",space_level_2:"TreeItem_space_level_2__1wDaA",space_level_3:"TreeItem_space_level_3__3BxuW",space_level_4:"TreeItem_space_level_4__aOb_N",space_level_5:"TreeItem_space_level_5__2wfRZ",fadeOutKeyframe:"TreeItem_fadeOutKeyframe__3gkgh",increaseFont:"TreeItem_increaseFont__3-EIg"}},1125:function(e,t,n){e.exports={main_tree:"Tree_main_tree__DU-MY",public_private_main_btn:"Tree_public_private_main_btn__3pVH5",header:"Tree_header__32PIM",header_title:"Tree_header_title__2mOST",action_buttons_wrapper:"Tree_action_buttons_wrapper__2Ylnn",action_buttons:"Tree_action_buttons__2NJQZ",body:"Tree_body__2eqZU",tree_item:"Tree_tree_item__3UchW",root:"Tree_root__1-y0A",footer:"Tree_footer__38kHW"}},1126:function(e,t,n){e.exports={container_fluid_override:"CodeEditorPage_container_fluid_override__9bAlN",code_editor_page:"CodeEditorPage_code_editor_page__2X8Re",left_header_group:"CodeEditorPage_left_header_group__40yCP",space_title:"CodeEditorPage_space_title__2hRG8",action_wrapper:"CodeEditorPage_action_wrapper__2NQvN",body:"CodeEditorPage_body__m0hnp",code_editor:"CodeEditorPage_code_editor__24o14",preview_horizontal:"CodeEditorPage_preview_horizontal__2DtgP",editor_group:"CodeEditorPage_editor_group__2Nj7r",divider_action_btns:"CodeEditorPage_divider_action_btns__1xVvK",action_btns:"CodeEditorPage_action_btns__3-fIF",save_btn:"CodeEditorPage_save_btn__1O1Sc",buttons_preview_editor:"CodeEditorPage_buttons_preview_editor__3EelJ",action_btn_svg_size:"CodeEditorPage_action_btn_svg_size__3Dtiz",color_green:"CodeEditorPage_color_green__3AGX9",display_log_dot:"CodeEditorPage_display_log_dot__1L_cM",not_selected:"CodeEditorPage_not_selected__1U-7E",panel_content:"CodeEditorPage_panel_content__BCANR",footer:"CodeEditorPage_footer__1jEPl",case_footer:"CodeEditorPage_case_footer__17hVr",case_footer_end_group:"CodeEditorPage_case_footer_end_group__2pA4d",case_nav_button:"CodeEditorPage_case_nav_button__3_VpB",case_nav_button_long:"CodeEditorPage_case_nav_button_long__3PauV",case_btn_light:"CodeEditorPage_case_btn_light__Vg1iW",case_btn_dark:"CodeEditorPage_case_btn_dark__1XrUw",diff_group:"CodeEditorPage_diff_group__24Pxx",active:"CodeEditorPage_active__18lTb",code_editor_hint_key:"CodeEditorPage_code_editor_hint_key__2FAB4",code_editor_button:"CodeEditorPage_code_editor_button__2fQcq",preview_error:"CodeEditorPage_preview_error__2efPd",type_error:"CodeEditorPage_type_error__XQpJ1",loading_timer_text:"CodeEditorPage_loading_timer_text__2L-X2",bottom_panel:"CodeEditorPage_bottom_panel__3RL7R",display_bottom_panel:"CodeEditorPage_display_bottom_panel__er6J3",left_panel:"CodeEditorPage_left_panel__2RsbV",display:"CodeEditorPage_display__2VOLg",tech_icon:"CodeEditorPage_tech_icon__3-JIo",button_group:"CodeEditorPage_button_group__n_NMN"}},1275:function(e,t,n){"use strict";n.r(t);var a=n(15),o=n(30),c=n(9),i=n(77),r=n(26),s=n(1),l=n.n(s),d=n(1262),u=n(1263),b=n(1264),_=n(1253),f=n(1254),p=n(1110),j=n(1265),m=n(1266),h=n(1267),O=n(43),g=n(22),v=n(73),C=n.n(v),w=n(217),x=n(5),E=n(81),S=n(16),P=n(715),N=n(633),k=n(215),L=n(801),y=n(1111),T=n.n(y),I=n(3),M=function(e){var t=e.id,n=e.className,a=e.disabled,o=void 0!==a&&a,c=e.starIndicator,i=void 0!==c&&c,l=e.selected,d=e.loading,u=void 0!==d&&d,b=e.children,_=e.index,f=e.onClick,p=e.onClose,j=Object(s.useState)(!1),m=Object(r.a)(j,2),h=m[0],O=m[1];return Object(s.useEffect)((function(){O(i)}),[i]),Object(I.jsxs)("div",{id:t,className:"".concat(T.a.wrapper).concat(l?" ".concat(T.a.selected):"").concat(o?" ".concat(T.a.disabled):"").concat(n?" ".concat(n):""),onClick:function(){return f(_)},children:[Object(I.jsx)("div",{className:"".concat(T.a.spinner_wrapper).concat(u?" ".concat(T.a.loading):""),children:u&&Object(I.jsx)(x.Spinner,{className:T.a.spinner})}),Object(I.jsxs)("div",{className:"".concat(T.a.title).concat(l?" ".concat(T.a.selected):"").concat(o?" ".concat(T.a.disabled):""),children:[b,h?"*":""]}),Object(I.jsx)("div",{className:"".concat(T.a.close_button).concat(l?" ".concat(T.a.selected):"").concat(o?" ".concat(T.a.disabled):""),onClick:function(e){e.preventDefault(),e.stopPropagation(),o||p(_)},children:Object(I.jsx)(L.a,{})})]})},D=n(654),A=n(637),R=n(1112),F=n.n(R),U=function(e){var t=Object(s.createRef)(),n=Object(s.useMemo)((function(){return"switchButton-".concat(Object(A.a)())}),[]),a=Object(s.useState)(!1),o=Object(r.a)(a,2),c=o[0],i=o[1];Object(s.useEffect)((function(){i(!!e.checked&&e.checked)}),[e.checked]);var l=Object(s.useState)(""),d=Object(r.a)(l,2),u=d[0],b=d[1];Object(s.useEffect)((function(){var t;b(null!==(t=e.label)&&void 0!==t?t:"")}),[e.label]);var _=Object(s.useState)(!1),f=Object(r.a)(_,2),p=f[0],j=f[1];Object(s.useEffect)((function(){var t;j(null!==(t=e.disabled)&&void 0!==t&&t)}),[e.disabled]);return Object(I.jsxs)("div",{id:e.id,className:"".concat(F.a.toggle).concat(e.className?" ".concat(e.className):""),children:["left"===e.labelPosition&&Object(I.jsx)("label",{className:"".concat(F.a.switch_label).concat(p?" "+F.a.disabled:""),htmlFor:n,children:u||""}),Object(I.jsxs)("div",{className:"".concat(F.a.check," ").concat(F.a.switch).concat(p?" disabled":""),children:[Object(I.jsx)("input",{ref:t,type:"checkbox",id:n,className:"".concat(F.a.check_input),onChange:function(t){i(t.target.checked),e.onChange&&e.onChange(t)},checked:c,disabled:p,onKeyPress:function(e){var n;"enter"!==e.code.toLowerCase()&&"space"!==e.code.toLowerCase()||(null===(n=t.current)||void 0===n||n.click())}}),(!e.labelPosition||"right"===e.labelPosition)&&Object(I.jsx)("label",{className:"".concat(F.a.switch_label).concat(p?" "+F.a.disabled:""),htmlFor:n,children:e.labelPosition&&"right"!==e.labelPosition?"":u})]})]})},B=n(1113),z=n.n(B);var K,Y=function(e){var t=e.activeTab,n=e.tabs,a=e.disabled,o=e.editor,i=e.diffEditor,l=e.displayPreviewMarkdown,d=e.displayDiffEditor,u=e.onClickTab,b=e.onCloseTab,_=e.className,f=Object(s.useState)(!1),p=Object(r.a)(f,2),j=p[0],m=p[1];Object(s.useEffect)((function(){m("light"===o.editorProps.theme)}),[o.editorProps.theme]);var h=Object(s.useState)(!1),O=Object(r.a)(h,2),g=O[0],v=O[1];Object(s.useEffect)((function(){v("on"===localStorage.getItem("code_editor.word_wrap"))}),[]);var C=Object(s.useState)(!0),w=Object(r.a)(C,2),x=w[0],S=w[1];Object(s.useEffect)((function(){S("off"!==localStorage.getItem("code_editor.line_numbers"))}),[]);var L=Object(s.useState)("off"),y=Object(r.a)(L,2),T=y[0],A=y[1];Object(s.useEffect)((function(){A(g?"on":"off")}),[g]);var R=Object(s.useState)("on"),F=Object(r.a)(R,2),B=F[0],K=F[1];Object(s.useEffect)((function(){K(x?"on":"off")}),[x]);var Y=function(e){u(e)},V=function(e){b(e)};return Object(I.jsxs)("div",{className:z.a.editor_group+(_?" "+_:""),children:[Object(I.jsx)("div",{className:z.a.code_editor_top_bar+(d?" "+z.a.diff_top_bar:""),children:d?Object(I.jsxs)("div",{className:z.a.diff_header,children:[Object(I.jsx)("div",{className:z.a.diff_header_left,children:"Original"}),Object(I.jsx)("div",{className:z.a.diff_header_border}),Object(I.jsx)("div",{className:z.a.diff_header_right,children:"Modified"})]}):Object(I.jsxs)(I.Fragment,{children:[Object(I.jsx)("div",{className:z.a.code_editor_top_bar_start,children:n.map((function(e,n){var o=e.path.split("/"),c="./".concat(o.slice(1).join("/"));return Object(I.jsx)(k.a,{text:c,placement:"top-center",children:Object(I.jsx)(M,{index:n,selected:t===n,loading:e.loading,starIndicator:e.canBeSaved,onClick:Y,onClose:V,disabled:a||e.loading,children:E.o(e.name)},"tab-".concat(e.path,"-").concat(n))},"tooltip-".concat(e.path,"-").concat(n))}))}),Object(I.jsx)("div",{className:z.a.code_editor_top_bar_end,children:Object(I.jsx)(D.a,{triggerElm:Object(I.jsx)(k.a,{text:"Settings",disabled:a,placement:"bottom-end",children:Object(I.jsx)(N.a,{className:"btn-sm-round ".concat(z.a.action_buttons),disabled:a,children:Object(I.jsx)("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:Object(I.jsx)("path",{d:"M1 0L0 1L2.20088 4.08124C2.3886 4.34403 2.69167 4.5 3.01462 4.5H3.08579C3.351 4.5 3.60536 4.60536 3.79289 4.79289L6.46789 7.46789L3.85099 10.1224C3.58121 10.0428 3.2956 10 3 10C1.34315 10 0 11.3431 0 13C0 14.6569 1.34315 16 3 16C4.65685 16 6 14.6569 6 13C6 12.7044 5.95725 12.4188 5.87759 12.149L8.53212 9.53212L9.5 10.5L9.19544 11.4137C9.07566 11.773 9.16918 12.1692 9.43702 12.437L12.7071 15.7071C12.9024 15.9024 13.1583 16 13.4142 16C13.6701 16 13.9261 15.9024 14.1213 15.7071L15.7071 14.1213C15.9024 13.9261 16 13.6701 16 13.4142C16 13.1583 15.9024 12.9024 15.7071 12.7071L12.437 9.43702C12.1692 9.16918 11.773 9.07566 11.4137 9.19544L10.5 9.5L9.53926 8.53926L12.2191 5.89737C12.4681 5.9643 12.7299 6 13 6C14.6569 6 16 4.65685 16 3C16 2.73126 15.9647 2.47078 15.8984 2.22294L13.7574 4.36396L12 3.99998L11.636 2.24264L13.7771 0.101615C13.5292 0.0353359 13.2687 0 13 0C11.3431 0 10 1.34315 10 3C10 3.27012 10.0357 3.53191 10.1026 3.78089L7.46076 6.46075L4.79289 3.79289C4.60536 3.60536 4.5 3.351 4.5 3.08579V3.01462C4.5 2.69167 4.34403 2.3886 4.08124 2.20088L1 0ZM10.6464 10.6464C10.8417 10.4512 11.1583 10.4512 11.3536 10.6464L14.2678 13.5607C14.463 13.7559 14.463 14.0725 14.2678 14.2678C14.0725 14.463 13.7559 14.463 13.5607 14.2678L10.6464 11.3536C10.4512 11.1583 10.4512 10.8417 10.6464 10.6464ZM3 11L3.47105 11.242L4 11.2679L4.28693 11.713L4.73205 12L4.75799 12.5289L5 13L4.75799 13.471L4.73205 14L4.28693 14.2869L4 14.732L3.47105 14.758L3 15L2.52895 14.758L2 14.732L1.71307 14.2869L1.26795 14L1.24202 13.471L1 13L1.24202 12.5289L1.26795 12L1.71307 11.713L2 11.2679L2.52895 11.242L3 11Z",fill:"black"})})})}),placement:"left-start",disabled:a,children:Object(I.jsxs)(I.Fragment,{children:[Object(I.jsxs)("div",{className:"-menu-item ".concat(z.a.menu_item),children:[Object(I.jsxs)("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:j?z.a.flipImage:"",children:[Object(I.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M5.23341 1.20695C6.65034 0.437222 8.27411 0 10 0C15.5228 0 20 4.47715 20 10C20 15.5228 15.5228 20 10 20C8.5411 20 7.15517 19.6876 5.90546 19.126C2.42422 17.5617 0 14.064 0 10C0 6.20304 2.11615 2.90034 5.23341 1.20695ZM7.78153 1.53369C8.49001 1.34856 9.2335 1.25 10 1.25C14.8325 1.25 18.75 5.16751 18.75 10C18.75 14.8325 14.8325 18.75 10 18.75C9.23349 18.75 8.49001 18.6514 7.78153 18.4663C10.9415 16.9589 13.125 13.7344 13.125 10C13.125 6.26557 10.9415 3.04112 7.78153 1.53369Z",fill:"black"}),Object(I.jsx)("path",{d:"M7.78153 1.53369C10.9415 3.04112 13.125 6.26557 13.125 10C13.125 13.7344 10.9415 16.9589 7.78153 18.4663C8.49001 18.6514 9.23349 18.75 10 18.75C14.8325 18.75 18.75 14.8325 18.75 10C18.75 5.16751 14.8325 1.25 10 1.25C9.2335 1.25 8.49001 1.34856 7.78153 1.53369ZM5.23341 1.20695C6.65034 0.437222 8.27411 0 10 0C15.5228 0 20 4.47715 20 10C20 15.5228 15.5228 20 10 20C8.5411 20 7.15517 19.6876 5.90546 19.126C2.42422 17.5617 0 14.064 0 10C0 6.20304 2.11615 2.90034 5.23341 1.20695Z",fill:"black"})]}),Object(I.jsx)(U,{label:"Dark/Light mode",disabled:a,labelPosition:"left",checked:!j,onChange:function(){o.toggleTheme()},className:z.a.menu_switch})]}),Object(I.jsxs)("div",{className:"-menu-item ".concat(z.a.menu_item),children:[Object(I.jsx)("svg",{width:"24",height:"22",viewBox:"0 0 24 22",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:Object(I.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M0 1.49951C0 1.2343 0.105357 0.979941 0.292893 0.792405C0.48043 0.604869 0.734784 0.499512 1 0.499512H23C23.2652 0.499512 23.5196 0.604869 23.7071 0.792405C23.8946 0.979941 24 1.2343 24 1.49951C24 1.76473 23.8946 2.01908 23.7071 2.20662C23.5196 2.39415 23.2652 2.49951 23 2.49951H1C0.734784 2.49951 0.48043 2.39415 0.292893 2.20662C0.105357 2.01908 0 1.76473 0 1.49951ZM0 9.49951C0 9.23429 0.105357 8.97994 0.292893 8.79241C0.48043 8.60487 0.734784 8.49951 1 8.49951H19C20.3261 8.49951 21.5979 9.0263 22.5355 9.96398C23.4732 10.9017 24 12.1734 24 13.4995C24 14.8256 23.4732 16.0974 22.5355 17.035C21.5979 17.9727 20.3261 18.4995 19 18.4995H16.414L17.708 19.7915C17.8958 19.9793 18.0013 20.234 18.0013 20.4995C18.0013 20.7651 17.8958 21.0197 17.708 21.2075C17.5202 21.3953 17.2656 21.5008 17 21.5008C16.7344 21.5008 16.4798 21.3953 16.292 21.2075L13.292 18.2075C13.1989 18.1146 13.125 18.0043 13.0746 17.8828C13.0242 17.7613 12.9982 17.631 12.9982 17.4995C12.9982 17.368 13.0242 17.2377 13.0746 17.1162C13.125 16.9948 13.1989 16.8844 13.292 16.7915L16.292 13.7915C16.4798 13.6037 16.7344 13.4982 17 13.4982C17.2656 13.4982 17.5202 13.6037 17.708 13.7915C17.8958 13.9793 18.0013 14.234 18.0013 14.4995C18.0013 14.7651 17.8958 15.0197 17.708 15.2075L16.414 16.4995H19C19.7956 16.4995 20.5587 16.1834 21.1213 15.6208C21.6839 15.0582 22 14.2952 22 13.4995C22 12.7039 21.6839 11.9408 21.1213 11.3782C20.5587 10.8156 19.7956 10.4995 19 10.4995H1C0.734784 10.4995 0.48043 10.3942 0.292893 10.2066C0.105357 10.0191 0 9.76473 0 9.49951ZM0 17.4995C0 17.2343 0.105357 16.9799 0.292893 16.7924C0.48043 16.6049 0.734784 16.4995 1 16.4995H10C10.2652 16.4995 10.5196 16.6049 10.7071 16.7924C10.8946 16.9799 11 17.2343 11 17.4995C11 17.7647 10.8946 18.0191 10.7071 18.2066C10.5196 18.3942 10.2652 18.4995 10 18.4995H1C0.734784 18.4995 0.48043 18.3942 0.292893 18.2066C0.105357 18.0191 0 17.7647 0 17.4995Z",fill:"black"})}),Object(I.jsx)(U,{label:"Word wrap",disabled:a,labelPosition:"left",checked:g,className:z.a.menu_switch,onChange:function(e){var t=e.target.checked?"on":"off";v(e.target.checked),localStorage.setItem("code_editor.word_wrap",t)}})]}),Object(I.jsxs)("div",{className:"-menu-item ".concat(z.a.menu_item),children:[Object(I.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",className:"bi bi-123",viewBox:"0 0 16 16",children:Object(I.jsx)("path",{d:"M2.873 11.297V4.142H1.699L0 5.379v1.137l1.64-1.18h.06v5.961h1.174Zm3.213-5.09v-.063c0-.618.44-1.169 1.196-1.169.676 0 1.174.44 1.174 1.106 0 .624-.42 1.101-.807 1.526L4.99 10.553v.744h4.78v-.99H6.643v-.069L8.41 8.252c.65-.724 1.237-1.332 1.237-2.27C9.646 4.849 8.723 4 7.308 4c-1.573 0-2.36 1.064-2.36 2.15v.057h1.138Zm6.559 1.883h.786c.823 0 1.374.481 1.379 1.179.01.707-.55 1.216-1.421 1.21-.77-.005-1.326-.419-1.379-.953h-1.095c.042 1.053.938 1.918 2.464 1.918 1.478 0 2.642-.839 2.62-2.144-.02-1.143-.922-1.651-1.551-1.714v-.063c.535-.09 1.347-.66 1.326-1.678-.026-1.053-.933-1.855-2.359-1.845-1.5.005-2.317.88-2.348 1.898h1.116c.032-.498.498-.944 1.206-.944.703 0 1.206.435 1.206 1.07.005.64-.504 1.106-1.2 1.106h-.75v.96Z"})}),Object(I.jsx)(U,{label:"Line numbers",disabled:a,labelPosition:"left",checked:x,className:z.a.menu_switch,onChange:function(e){var t=e.target.checked?"on":"off";S(e.target.checked),localStorage.setItem("code_editor.line_numbers",t)}})]})]})})})]})}),Object(I.jsxs)("div",{className:z.a.editor+(l?" "+z.a.has_markdown:"")+(j?"":" "+z.a.dark_theme),children:[t>-1&&Object(I.jsx)(P.b,Object(c.a)(Object(c.a)({},o),{},{displayDiffEditor:d,diffEditor:i,wordWrap:T,lineNumbers:B})),-1===t&&Object(I.jsx)("div",{className:z.a.select_file,children:"Please select a file to edit..."})]})]})},V=n(88),H=function(e){return unescape(encodeURIComponent(e)).length},G=n(33),Z=n(41),q=n(32),W=n(109);n(1114),n(707);!function(e){e.HowTo="how_to",e.Folders="folders",e.DarkLight="dark_light",e.Case="case",e.Shortcut="shortcut"}(K||(K={}));var X,J=function(e){return Object(I.jsxs)("svg",{width:"384",height:"512",viewBox:"0 0 384 512",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:e.className?e.className:"",children:[Object(I.jsx)("g",{clipPath:"url(#clip0_3379_66769)",children:Object(I.jsx)("path",{d:"M369.9 97.8999L286 13.9999C277 4.9999 264.8 -0.100098 252.1 -0.100098H48C21.5 -9.76548e-05 0 21.4999 0 47.9999V464C0 490.5 21.5 512 48 512H336C362.5 512 384 490.5 384 464V131.9C384 119.2 378.9 106.9 369.9 97.8999ZM347.3 120.6C349.4 122.7 350.8 125.2 351.5 128H256V32.4999C258.8 33.1999 261.3 34.5999 263.4 36.6999L347.3 120.6ZM336 480H48C39.2 480 32 472.8 32 464V47.9999C32 39.1999 39.2 31.9999 48 31.9999H224V136C224 149.3 234.7 160 248 160H352V464C352 472.8 344.8 480 336 480Z",fill:"#282A35"})}),Object(I.jsx)("defs",{children:Object(I.jsx)("clipPath",{id:"clip0_3379_66769",children:Object(I.jsx)("rect",{width:"384",height:"512",fill:"white"})})})]})},Q=n(1115),$=n.n(Q);!function(e){e.ERROR="error",e.DEFAULT="default"}(X||(X={}));var ee=function(e){var t=l.a.createRef(),n=l.a.useRef(null),a=l.a.useRef(null),o=l.a.useRef(0),c=l.a.useState(0),i=Object(r.a)(c,2),s=i[0],d=i[1],u=l.a.useState(!1),b=Object(r.a)(u,2),_=b[0],f=b[1],p=l.a.useState(!1),j=Object(r.a)(p,2),m=j[0],h=j[1],O=l.a.useState(!1),g=Object(r.a)(O,2),v=g[0],C=g[1],w=l.a.useCallback((function(){if(t.current){var e=t.current.children.item(0);!m&&e.clientWidth+30>=window.innerWidth?a.current=setTimeout((function(){a.current=null,h(!0)}),2e3):m&&h(!1)}}),[t,m]),x=l.a.useCallback((function(e){w()}),[w]),E=l.a.useCallback((function(){f(!1),a.current&&(clearTimeout(a.current),a.current=null),a.current=setTimeout((function(){a.current=null;var t=o.current;t===e.list.length-1?t=0:t+=1,d(t),e.handleActiveTextSet&&e.handleActiveTextSet(t),f(!0)}),600)}),[e]);return l.a.useEffect((function(){o.current=s}),[s]),l.a.useEffect((function(){return window.addEventListener("resize",x),function(){window.removeEventListener("resize",x)}}),[]),l.a.useEffect((function(){v||(C(!0),a.current=setTimeout((function(){a.current=null,f(!0),n.current=setInterval((function(){e.list.length>1&&E()}),3e4)}),2e3))}),[w,v,e.list.length,E]),l.a.useEffect((function(){_&&w()}),[_]),l.a.useEffect((function(){return function(){n.current&&(clearInterval(n.current),n.current=null),a.current&&(clearTimeout(a.current),a.current=null)}}),[]),Object(I.jsx)("div",{ref:t,className:$.a.footer_text+(_?" "+$.a.display:"")+(m?" "+$.a.move:"")+(e.className?" "+e.className:""),children:e.list[s].element})},te=n(730);var ne,ae=function(e){var t=e.size,n=e.className;return Object(I.jsx)("svg",{className:n,width:t,height:t,viewBox:"0 0 16 17",xmlns:"http://www.w3.org/2000/svg",children:Object(I.jsx)("path",{d:"M15.625 0.750008H14.759C14.5484 0.750008 14.3791 0.923383 14.3841 1.13395L14.4575 4.2142C13.0649 2.11982 10.6809 0.74157 7.97523 0.750039C3.71313 0.763383 0.243353 4.25029 0.25001 8.51238C0.256697 12.7869 3.72392 16.25 8.00001 16.25C9.9977 16.25 11.8188 15.4942 13.1931 14.2529C13.3529 14.1086 13.3604 13.8604 13.2081 13.7081L12.5913 13.0913C12.4508 12.9507 12.224 12.9418 12.0757 13.074C10.9934 14.0389 9.56579 14.625 8.00001 14.625C4.61495 14.625 1.87501 11.8856 1.87501 8.50001C1.87501 5.11495 4.61445 2.37501 8.00001 2.37501C10.4858 2.37501 12.6232 3.85257 13.5836 5.9782L9.63395 5.88416C9.42342 5.87916 9.25001 6.04844 9.25001 6.25907V7.12501C9.25001 7.3321 9.41792 7.50001 9.62501 7.50001H15.625C15.8321 7.50001 16 7.3321 16 7.12501V1.12501C16 0.917914 15.8321 0.750008 15.625 0.750008Z"})})},oe=n(149),ce=n(733),ie=n(656),re=n(1117),se=n.n(re);!function(e){e.DEFAULT="default",e.BLOB="blob"}(ne||(ne={}));var le=function(e){var t=Object(s.useState)(0),n=Object(r.a)(t,2),a=n[0],o=n[1],c=Object(s.useState)(0),i=Object(r.a)(c,2),d=i[0],u=i[1],b=Object(s.useState)(!1),_=Object(r.a)(b,2),f=_[0],p=_[1],j=Object(s.useState)(e.orientation===S.b.NONE?S.b.VERTICAL:e.orientation),m=Object(r.a)(j,2),h=m[0],O=m[1],g=Object(s.createRef)(),v=l.a.useMemo((function(){var t="Preview-window-"+Object(q.f)();return e.getId&&e.getId(t),t}),[]),C=Object(s.useState)(!!e.loading),w=Object(r.a)(C,2),x=w[0],E=w[1];return Object(s.useEffect)((function(){E(!!e.loading&&!e.displayError)}),[e.loading,e.displayError]),Object(s.useEffect)((function(){e.orientation===S.b.NONE?O((function(e){return e===S.b.NONE?S.b.VERTICAL:e})):(O(e.orientation),g.current&&(g.current.style.transition="none",g.current.style.position="absolute",g.current.style.left="calc(50% - calc(50px / 2))",g.current.style.top="calc(50% - calc(120px / 2))"))}),[e.orientation]),Object(s.useEffect)((function(){e.handleMounted&&e.handleMounted()}),[]),Object(s.useEffect)((function(){p(e.calculateSize||!1)}),[e.calculateSize]),Object(s.useEffect)((function(){var e=function(e){g.current&&(g.current.style.position="fixed",g.current.style.left=e.pageX+10+"px",g.current.style.top=e.pageY+10+"px")};return f?document.addEventListener("mousemove",e):document.removeEventListener("mousemove",e),function(){document.removeEventListener("mousemove",e)}}),[h,f,g]),Object(I.jsxs)("div",{id:v,ref:e.refPreviewPane,className:se.a.preview_pane+(e.display?" "+se.a.display_preview:"")+(h===S.b.HORIZONTAL?" "+se.a.preview_horizontal:"")+(e.className?" "+e.className:""),onTransitionEnd:e.handleTransitionEnd,children:[Object(I.jsx)(ie.a,{refElement:e.refPreviewPane,orientation:h,handleMouseDownResizer:e.handleMouseDownResizer,handleMouseMoveResizer:e.handleMouseMoveResizer,handleMouseUpResizer:e.handleMouseUpResizer,onMove:function(t){o(t.width),u(t.height),e.calculateSize||p(t.move)},disabled:!e.display}),Object(I.jsxs)("div",{className:se.a.preview_top_bar,children:[Object(I.jsxs)("div",{className:se.a.preview_top_top_bar,children:[Object(I.jsx)(k.a,{text:"Reload preview",placement:"right-center",children:Object(I.jsx)("button",{className:se.a.buttons_preview_pane,disabled:e.disabled||x||e.displayError||!e.externalURL,onClick:e.handleRefresh,children:Object(I.jsx)(ae,{size:15})})}),Object(I.jsx)("div",{className:se.a.preview_address_field,children:e.urlDisplayed}),Object(I.jsx)(k.a,{text:"View in a new tab",placement:"left-center",children:Object(I.jsx)("button",{className:se.a.buttons_preview_pane,disabled:!e.enableOverrideExternal&&(e.disabled||x||e.displayError||!e.externalURL),children:Object(I.jsx)("a",{href:e.externalURL,target:"_blank",rel:"noreferrer",children:Object(I.jsx)(te.a,{size:15})})})})]}),Object(I.jsx)("div",{className:se.a.preview_top_bottom_bar+" d-none",children:a+" x "+d})]}),Object(I.jsxs)("div",{className:se.a.preview_content+(e.displayMarkdown?" "+se.a.enable_scroll:""),children:[Object(I.jsx)("div",{className:se.a.display_iframe_overlay+(f?"":" d-none")}),Object(I.jsxs)("div",{ref:g,className:se.a.preview_size_tab+(f?"":" d-none"),children:["Size: ",a+" x "+d]}),!!x&&Object(I.jsx)(oe.a,{text:e.loadingText,children:!!e.loadingChild&&e.loadingChild}),!!e.displayError&&!x&&Object(I.jsx)("div",{className:se.a.preview_error,children:e.displayErrorBody?e.displayErrorBody:Object(I.jsxs)("div",{children:[Object(I.jsx)("h5",{children:"An error occured"}),Object(I.jsx)("div",{children:"Could not find a index.html file in the root of the space, nor any other html files."}),Object(I.jsx)("div",{children:"To view a preview here you need to start editing an html file."})]})}),!e.displayError&&!e.displayMarkdown&&Object(I.jsx)("iframe",{title:"Preview",id:"w3s_code_editor_preview_iframe",name:"w3s_code_editor_preview_iframe",className:x?se.a.is_loading:"",ref:e.refIframe,style:{width:"100%",height:"100%"},frameBorder:"0",onLoad:e.handleOnIframeLoaded}),!e.displayError&&e.displayMarkdown&&!!e.markdownCode&&!x&&Object(I.jsx)(ce.a,{code:e.markdownCode,className:se.a.markdown})]})]})},de=(n(1118),n(629)),ue=n(216);var be=function(e){var t=Object(s.useMemo)((function(){return Object(I.jsx)(x.Button,{variant:"tertiary",text:"Continue without saving",disabled:e.loading,onClick:e.onNoSaveClicked})}),[e.loading,e.onNoSaveClicked]);return Object(I.jsxs)(ue.a,{show:e.show,size:"lg",className:"save-content-modal",title:"Save changes?",okText:"Save and continue",loading:e.loading,extraButtons:t,handleClose:e.onCancelClicked,handleOk:function(){e.onSaveClicked(e.index&&e.index>-1?e.index:void 0)},children:[Object(I.jsx)("p",{children:"Do you want to save the changes before continuing?"}),!!e.errorMessage&&Object(I.jsx)(de.a,{variant:"danger",children:e.errorMessage})]})},_e=n(240),fe=n(728);var pe,je=function(e){var t=e.size,n=e.className;return Object(I.jsx)("svg",{className:n,width:t,height:t,viewBox:"0 0 8 15",xmlns:"http://www.w3.org/2000/svg",children:Object(I.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7.35355 1.14645C7.54882 1.34171 7.54882 1.65829 7.35355 1.85355L1.70711 7.5L7.35355 13.1464C7.54882 13.3417 7.54882 13.6583 7.35355 13.8536C7.15829 14.0488 6.84171 14.0488 6.64645 13.8536L0.646447 7.85355C0.451184 7.65829 0.451184 7.34171 0.646447 7.14645L6.64645 1.14645C6.84171 0.951184 7.15829 0.951184 7.35355 1.14645Z",strokeLinecap:"round",strokeLinejoin:"round"})})},me=n(1119),he=n.n(me);!function(e){e.TOP="top",e.BOTTOM="bottom"}(pe||(pe={}));var Oe,ge=function(e){var t=Object(s.createRef)(),n=Object(s.useState)(!1),a=Object(r.a)(n,2),o=a[0],c=a[1],i=Object(s.useMemo)((function(){return"Panel-"+Object(q.f)()}),[]);return Object(s.useEffect)((function(){e.openPanel&&c(!1)}),[e.openPanel]),Object(I.jsx)("div",{id:i,ref:t,className:he.a.panel+(e.displayPreview===S.b.NONE||e.mobileView?"":" "+he.a.display_preview)+(e.openPanel&&!e.mobileView?" "+he.a.open_panel:"")+(e.mobileView?" "+he.a.mobile_view:"")+(e.className?" "+e.className:""),onTransitionEnd:function(t){c(!e.openPanel),e.panelTransitionEnd&&e.panelTransitionEnd(t)},children:Object(I.jsxs)("div",{className:he.a.panel_content+(e.contentClassName?" "+e.contentClassName:""),children:[e.panelItem.panel,Object(I.jsx)(ie.a,{refElement:t,orientation:S.b.VERTICAL,position:"positionEnd",className:he.a.splitter,handleMouseDownResizer:e.handleMouseDownResizer,handleMouseMoveResizer:e.handleMouseMoveResizer,handleMouseUpResizer:e.handleMouseUpResizer,disabled:!e.openPanel||e.mobileView}),Object(I.jsx)("div",{className:"".concat(he.a.close_panel_column).concat(o?" ".concat(he.a.flipped):"").concat(e.mobileView?" d-none":""),onClick:e.toggleOpenPanel,children:Object(I.jsx)(je,{size:12})})]})})},ve=n(1120),Ce=n.n(ve),we=n(1121),xe=n.n(we),Ee=function(e){var t=e.disabled,n=void 0!==t&&t,a=e.children,o=e.border,c=void 0!==o&&o,i=e.selected,l=void 0!==i&&i,d=e.onClick,u=e.className,b=e.id,_=Object(s.useState)(!1),f=Object(r.a)(_,2),p=f[0],j=f[1];return Object(s.useEffect)((function(){j(n)}),[n]),Object(I.jsx)("button",{id:b,className:"".concat(xe.a.button_wrapper).concat(c?" ".concat(xe.a.border):"").concat(l?" ".concat(xe.a.selected):"").concat(u?" ".concat(u):""),disabled:p,onClick:d,children:a})},Se=function(e){var t=e.disabled,n=void 0!==t&&t,a=e.children,o=e.tooltip,c=e.placement,i=void 0===c?"top-center":c,r=e.border,l=void 0!==r&&r,d=e.selected,u=void 0!==d&&d,b=e.onClick,_=e.className,f=e.id;return Object(s.useMemo)((function(){return"string"==typeof o}),[o])?Object(I.jsx)(k.a,{text:o,placement:i,children:Object(I.jsx)(Ee,{id:f,className:_,border:l,selected:u,onClick:b,disabled:n,children:a})}):Object(I.jsx)(Ee,{id:f,className:_,border:l,selected:u,onClick:b,disabled:n,children:a})};!function(e){e.Left="left",e.Center="center",e.Right="right"}(Oe||(Oe={}));var Pe=function(e){var t=Object(s.useState)(e.activeButton||Oe.Left),n=Object(r.a)(t,2),a=n[0],o=n[1];function c(t){a!==t&&(o(t),e.onClickButton&&e.onClickButton(t))}return Object(s.useEffect)((function(){o(e.activeButton||Oe.Left)}),[e.activeButton]),Object(I.jsxs)("div",{"aria-label":e.ariaLabel,role:"group",className:Ce.a.button_group+(e.className?" "+e.className:""),children:[Object(I.jsx)(Se,{onClick:function(){return c(Oe.Left)},disabled:e.disabled,selected:e.activeButton===Oe.Left,tooltip:"No preview",placement:"left-center",children:Object(I.jsxs)("svg",{width:"24",height:"18",viewBox:"0 0 24 18",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[Object(I.jsx)("path",{d:"M24 15.4286C24 16.8487 22.6569 18 21 18L3 18C1.34315 18 2.02477e-06 16.8487 2.16962e-06 15.4286L3.48096e-06 2.57143C3.62581e-06 1.15127 1.34315 -1.69776e-06 3 -1.57361e-06L21 -2.24801e-07C22.6569 -1.00647e-07 24 1.15127 24 2.57143L24 15.4286ZM11.25 16.7143L11.25 1.28571L3 1.28571C2.17158 1.28571 1.5 1.86135 1.5 2.57143L1.5 15.4286C1.5 16.1387 2.17158 16.7143 3 16.7143L11.25 16.7143ZM12.75 16.7143L21 16.7143C21.8284 16.7143 22.5 16.1387 22.5 15.4286L22.5 2.57143C22.5 1.86135 21.8284 1.28571 21 1.28571L12.75 1.28571L12.75 16.7143Z",fill:"black"}),Object(I.jsx)("rect",{x:"9.75",y:"1.28564",width:"4.5",height:"15.4286",fill:"white"})]})}),Object(I.jsx)(Se,{onClick:function(){return c(Oe.Center)},disabled:e.disabled,selected:e.activeButton===Oe.Center,tooltip:"Vertical preview view",placement:"bottom-center",children:Object(I.jsx)("svg",{width:"24",height:"18",viewBox:"0 0 24 18",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:Object(I.jsx)("path",{d:"M24 15.4286C24 16.8487 22.6569 18 21 18L3 18C1.34314 18 -1.8067e-06 16.8487 -1.68255e-06 15.4286L-5.5854e-07 2.57143C-4.34386e-07 1.15127 1.34315 -1.98073e-06 3 -1.83588e-06L21 -2.62268e-07C22.6569 -1.17422e-07 24 1.15127 24 2.57143L24 15.4286ZM11.25 16.7143L11.25 1.28571L3 1.28571C2.17157 1.28571 1.5 1.86135 1.5 2.57143L1.5 15.4286C1.5 16.1386 2.17157 16.7143 3 16.7143L11.25 16.7143ZM12.75 16.7143L21 16.7143C21.8284 16.7143 22.5 16.1387 22.5 15.4286L22.5 2.57143C22.5 1.86135 21.8284 1.28571 21 1.28571L12.75 1.28571L12.75 16.7143Z",fill:"black"})})}),Object(I.jsx)(Se,{onClick:function(){return c(Oe.Right)},disabled:e.disabled,selected:e.activeButton===Oe.Right,tooltip:"Horizontal preview view",placement:"right-center",children:Object(I.jsx)("svg",{width:"24",height:"18",viewBox:"0 0 24 18",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:Object(I.jsx)("path",{d:"M3.42857 18C1.53502 18 -4.40331e-08 16.9926 -9.83506e-08 15.75L-6.88454e-07 2.25C-7.42772e-07 1.00736 1.53502 -6.7098e-08 3.42857 -1.49868e-07L20.5714 -8.99206e-07C22.465 -9.81975e-07 24 1.00736 24 2.25L24 15.75C24 16.9926 22.465 18 20.5714 18L3.42857 18ZM1.71429 8.4375L22.2857 8.4375L22.2857 2.25C22.2857 1.62868 21.5182 1.125 20.5714 1.125L3.42857 1.125C2.4818 1.125 1.71429 1.62868 1.71429 2.25L1.71429 8.4375ZM1.71429 9.5625L1.71429 15.75C1.71429 16.3713 2.4818 16.875 3.42857 16.875L20.5714 16.875C21.5182 16.875 22.2857 16.3713 22.2857 15.75L22.2857 9.5625L1.71429 9.5625Z",fill:"black"})})})]})},Ne=n(1122),ke=n.n(Ne),Le=function(e){return"object"===typeof(t=e)&&"function"!==typeof t&&void 0!==t;var t};var ye,Te=function(e){return Object(I.jsx)("div",{className:ke.a.header+(e.className?" "+e.className:""),children:Le(e.children)?Object(I.jsxs)("div",{className:ke.a.header_top_row,children:[Object(I.jsx)("div",{className:ke.a.header_buttons_left,children:!!e.children&&!!e.children.left&&e.children.left}),Object(I.jsx)("div",{className:ke.a.header_buttons_middle,children:!!e.children&&!!e.children.center&&e.children.center}),Object(I.jsx)("div",{className:ke.a.header_buttons_right,children:!!e.children&&!!e.children.right&&e.children.right})]}):e.children})},Ie=n(223),Me=n(1123),De=n.n(Me),Ae=l.a.lazy((function(){return Promise.all([n.e(3),n.e(26)]).then(n.bind(null,1272))})),Re=l.a.lazy((function(){return Promise.all([n.e(20),n.e(28)]).then(n.bind(null,1287))})),Fe=l.a.lazy((function(){return n.e(23).then(n.bind(null,1288))})),Ue=function(e){var t=e.handleMouseDownResizer,n=e.handleMouseUpResizer,a=e.handleMouseMoveResizer,o=e.onClickClose,c=e.id,i=void 0===c?"bottom-panel":c,l=e.className,d=e.spaceId,u=e.disabled,b=void 0!==u&&u,_=e.displayLogs,f=void 0!==_&&_,p=e.displayTerminal,j=void 0!==p&&p,m=e.displayStatus,h=void 0!==m&&m,O=e.onTerminalConnected,g=e.onLogsConnected,v=Object(s.createRef)(),C=Object(s.useRef)(0),w=Object(s.useState)(!1),x=Object(r.a)(w,2),E=x[0],P=x[1],N=Object(s.useState)(!1),k=Object(r.a)(N,2),L=k[0],y=k[1],T=Object(s.useState)(!1),M=Object(r.a)(T,2),D=M[0],A=M[1],R=Object(s.useState)("none"),F=Object(r.a)(R,2),U=F[0],B=F[1];return Object(s.useEffect)((function(){f?(C.current+=1,P(!0)):C.current>0&&(C.current-=1)}),[f]),Object(s.useEffect)((function(){j?(C.current+=1,A(!0)):C.current>0&&(C.current-=1)}),[j]),Object(s.useEffect)((function(){h?(C.current+=1,y(!0)):C.current>0&&(C.current-=1)}),[h]),Object(s.useEffect)((function(){!f||j||h?f||!j||h?f||j||!h?C.current>1&&B("none"):B("status"):B("terminal"):B("log")}),[f,h,j]),Object(I.jsxs)("div",{id:i,ref:v,className:"".concat(De.a.wrapper).concat(l?" ".concat(l):""),children:[Object(I.jsxs)(s.Suspense,{fallback:Object(I.jsx)(Ie.a,{}),children:[(j||D||"terminal"===U)&&Object(I.jsx)(Re,{id:"".concat(i,"-terminal"),disabled:b,spaceId:d,connect:j,onClickClose:function(e){e.preventDefault(),e.stopPropagation(),o("terminal")},onConnected:O,nrOfItemsDisplayed:C.current,className:D&&!j&&"terminal"!==U?"d-none":""}),(f||E||"log"===U)&&Object(I.jsx)(Fe,{id:"".concat(i,"-logs"),disabled:b,isDisplayed:f&&E,spaceId:d,onClickClose:function(e){e.preventDefault(),e.stopPropagation(),o("log")},onConnected:g,nrOfItemsDisplayed:C.current,className:E&&!f&&"log"!==U?"d-none":""}),(h||L||"status"===U)&&Object(I.jsx)(Ae,{id:"".concat(i,"-status"),disabled:b,onClickClose:function(e){e.preventDefault(),e.stopPropagation(),o("status")},nrOfItemsDisplayed:C.current,className:L&&!h&&"status"!==U?"d-none":""})]}),Object(I.jsx)(ie.a,{refElement:v,orientation:S.b.HORIZONTAL,handleMouseDownResizer:t,handleMouseMoveResizer:a,handleMouseUpResizer:n,disabled:!f&&!j&&!h})]})},Be=n(784),ze=n(165),Ke=n(673),Ye=n(316);!function(e){e[e.NONE=0]="NONE",e[e.GLOBAL_STATE=1]="GLOBAL_STATE",e[e.SESSION_STORAGE=2]="SESSION_STORAGE",e[e.API_CALL=3]="API_CALL"}(ye||(ye={}));var Ve=function(e,t){return function(){var n=Object(o.a)(Object(a.a)().mark((function n(o,c){var i,r,s,l,d,u,b,_,f,p;return Object(a.a)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(i={error:{code:"1",description:"Could not retrieve space preview session base url"},data:null,origin:ye.NONE,updated:!1},s=Object(Ke.a)(),l=c(),void 0===(d=l.spacePreviewSession)[e]){n.next=13;break}if(r=d[e],!(s<r.expiryUts)){n.next=13;break}return i.error={code:"0"},i.data=r,i.origin=ye.GLOBAL_STATE,i.updated=!1,void 0!==t&&t(i),n.abrupt("return",i);case 13:if(null===(u=sessionStorage.getItem("spacePreviewSession.".concat(e)))){n.next=29;break}if(n.prev=15,r=JSON.parse(u),!(s<r.expiryUts)){n.next=25;break}return o(Object(Ye.b)(e,r)),i.error={code:"0"},i.data=r,i.origin=ye.SESSION_STORAGE,i.updated=!1,void 0!==t&&t(i),n.abrupt("return",i);case 25:n.next=29;break;case 27:n.prev=27,n.t0=n.catch(15);case 29:return n.next=31,Object(x.fetchSpaces)({method:"GET",url:"/space-preview-session/".concat(e)});case 31:if(b=n.sent,x.logging.logDebug("SpacePreviewSessionAction -> getSpacePreviewSession -> reqRes: ",b),"0"===b.error.code){n.next=40;break}return i.error={code:"FTAANSPSHF",description:"Fetching via api a new space preview session has failed",meta:{"reqRes.error":b.error}},"UDNFATRR"===b.error.code?i.error.meta.previewUrl="https://www.".concat(Object(ze.b)(),"/_/error/unauthorized.html"):i.error.meta.previewUrl="https://www.".concat(Object(ze.b)(),"/_/error/internal.html"),i.origin=ye.API_CALL,i.updated=!1,void 0!==t&&t(i),n.abrupt("return",i);case 40:_=b.data.id,f="https://sess_".concat(_,".").concat(Object(ze.b)()),p=s+b.data.ttl,r={id:_,rawExpiryUts:p,expiryUts:p-300,baseUrl:f};try{sessionStorage.setItem("spacePreviewSession.".concat(e),JSON.stringify(r))}catch(a){}return o(Object(Ye.b)(e,r)),i.error={code:"0"},i.data=r,i.origin=ye.API_CALL,i.updated=!0,void 0!==t&&t(i),n.abrupt("return",i);case 52:case"end":return n.stop()}}),n,null,[[15,27]])})));return function(e,t){return n.apply(this,arguments)}}()},He=function(e){var t={code:"1",description:"Internal server error"};return e instanceof Error?t.description=e.message:"string"===typeof e&&(t.description=e),t},Ge=n(783),Ze=n(731),qe=n(653),We=n(723),Xe=n(724),Je=n(782),Qe=function(e){var t=Object(s.useState)(!1),n=Object(r.a)(t,2),a=n[0],o=n[1],c=Object(s.useMemo)((function(){return"number"===typeof e?e:q.a.medium}),[e]),i=Object(s.useCallback)((function(){window.innerWidth>c?o(!1):o(!0)}),[c]);return Object(s.useEffect)((function(){return window.addEventListener("resize",i),i(),function(){window.removeEventListener("resize",i)}}),[e,i]),a},$e=n(646),et=n(1255),tt=n(1256),nt=n(1241),at=n(1258),ot=n(1259),ct=n(1260),it=n(1246),rt=n(1247),st=n(671),lt=n(1248),dt=n(1257),ut=n(1242),bt=n(1243),_t=n(1244),ft=n(1245),pt=n(729),jt=n(683),mt=n(669),ht=n(218),Ot=n(1124),gt=n.n(Ot);function vt(e,t,n,a){var o=n||e.split("/");null===o||void 0===o||o.pop();var c=o.join("/");if(!n&&t.includes(c))return t.replace(c,".");if(n){var i=a+"../";return t.includes(c)?t.replace(c,i.substring(0,i.length-1)):vt(e,t,o,i)}return vt(e,t,o,"")}var Ct=function(e){var t=Object(s.useState)(),n=Object(r.a)(t,2),a=n[0],o=n[1],c=Object(s.useState)(!1),i=Object(r.a)(c,2),l=i[0],d=i[1],u=Object(s.useState)(!1),b=Object(r.a)(u,2),_=b[0],f=b[1],p=Object(s.useMemo)((function(){return Object(ht.a)(e.space)}),[e.space]),j=Object(s.useState)(!1),m=Object(r.a)(j,2),h=m[0],O=m[1],g=Object(s.useState)(""),v=Object(r.a)(g,2),C=v[0],w=v[1];Object(s.useEffect)((function(){e.copyExternalLink||e.item.isFolder||(e.selectedPath?w(vt(e.selectedPath,e.item.path)||e.externalLink||""):w(e.externalLink||""))}),[e.copyExternalLink,e.externalLink,e.item.isFolder,e.item.path,e.selectedPath]);var S=Object(s.useState)(!1),P=Object(r.a)(S,2),y=P[0],T=P[1],M=Object(s.useRef)(),A=function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];t?(T(!1),e.handleRemovedNewIndicator(e.item.path)):M.current=setTimeout((function(){T(!1),M.current=void 0,e.handleRemovedNewIndicator(e.item.path)}),3e4)};Object(s.useEffect)((function(){M.current&&(clearTimeout(M.current),M.current=void 0),T(e.item.markAsNew||!1)}),[e.item.markAsNew]);var R=Object(s.useState)(!1),F=Object(r.a)(R,2),U=F[0],B=F[1];Object(s.useEffect)((function(){e.disabled||e.item.isFolder&&0===e.item.children.length?B(!0):B(!1)}),[e.disabled,e.item.isFolder,e.item.children,e.item]);var z=Object(s.useState)(e.item.expanded||!1),K=Object(r.a)(z,2),Y=K[0],V=K[1];Object(s.useEffect)((function(){e.item.expanded?V(e.item.expanded):V(!1)}),[e.item.expanded]);var H=Object(s.useState)(!1),G=Object(r.a)(H,2),Z=G[0],q=G[1];Object(s.useEffect)((function(){e.mobileView?q(e.item.isFolder&&e.canSelectFolder||"pdf"!==e.item.extension):q(e.item.isFolder&&e.canSelectFolder||e.item.isTextBased&&"pdf"!==e.item.extension)}),[e.canSelectFolder,e.item.extension,e.item.isFolder,e.item.isTextBased,e.mobileView]);var W=Object(s.useState)("Preview image"),X=Object(r.a)(W,2),J=X[0],Q=X[1],$=Object(s.useState)(!1),ee=Object(r.a)($,2),te=ee[0],ne=ee[1];Object(s.useEffect)((function(){ne(e.item.isOpen||!1)}),[e.item.isOpen]);var ae=Object(s.useState)(!1),oe=Object(r.a)(ae,2),ce=oe[0],ie=oe[1];Object(s.useEffect)((function(){e.item.mimeType===E.c.mp3?(ie(!0),Q("Preview audio")):ie(!1)}),[e.item]);var re=Object(s.useState)(!1),se=Object(r.a)(re,2),le=se[0],de=se[1];Object(s.useEffect)((function(){e.item.mimeType===E.c.mp4?(de(!0),Q("Preview video")):de(!1)}),[e.item]);var ue=Object(s.useState)(!1),be=Object(r.a)(ue,2),_e=be[0],fe=be[1];function pe(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];t.preventDefault(),t.stopPropagation(),U&&!n||(A(!0),e.handleExpandClicked&&e.handleExpandClicked(e.item.path,!Y),V(!Y))}Object(s.useEffect)((function(){fe("index.html"===e.item.name.toLowerCase()&&e.item.path===e.spaceId+"/index.html")}),[e.item.name,e.item.path,e.spaceId]);function je(){O(!1)}return Object(I.jsxs)("div",{className:gt.a.tree_item+(U||!e.item.isTextBased&&!e.item.isFolder?" "+gt.a.disabled:"")+(e.item.isFolder?" "+gt.a.isFolder:"")+(e.className?" "+e.className:""),children:[Object(I.jsxs)("div",{className:gt.a.body+(Z?" "+gt.a.can_select:"")+(e.selected===e.item.path?" "+gt.a.selected:"")+(U?" "+gt.a.disabled:"")+(te?" "+gt.a.isOpen:"")+(h||e.selected===e.item.path&&e.mobileView?" "+gt.a.display_buttons:"")+(e.item.isSpace?" "+gt.a.is_space:"")+(e.mobileView?" "+gt.a.mobile_view:""),onClick:e.item.isFolder&&!e.canSelectFolder?pe:function(t){!U&&Z&&(A(!0),e.handleClickItem&&e.handleClickItem(t,e.item.path,!1))},children:[Object(I.jsx)("div",{className:"".concat(gt.a["space_level_"+e.level]).concat(e.item.isFolder?" ".concat(gt.a.isFolder):"")}),e.item.isFolder&&Object(I.jsxs)("div",{className:gt.a.pre_body,children:[e.item.isFolder&&Object(I.jsx)("button",{className:gt.a.expand_folder_btn,disabled:U,onClick:pe,children:e.item.expanded?Object(I.jsx)(et.a,{}):Object(I.jsx)(tt.a,{})}),e.item.isSpace&&Object(I.jsx)(st.a,{spaceState:"OPEN",size:$e.a.Small,spaceTechnology:p})]}),Object(I.jsxs)("div",{className:gt.a.item_header+(U||!e.item.isFolder&&!e.item.isTextBased||e.item.isTextBased&&"pdf"===e.item.extension?" "+gt.a.disabled:""),children:[Object(I.jsxs)("div",{className:"".concat(e.item.isFolder?gt.a.folder_text:"").concat(y?" ".concat(gt.a.is_new):""),children:[e.item.name,e.item.isFolder?"/":""]}),y&&Object(I.jsx)("div",{className:gt.a.new_indicator,children:"New!"}),_e&&Object(I.jsx)(k.a,{text:"This will be used as the home page for visitors to your space",disabled:U,placement:"right-center",children:Object(I.jsx)(lt.a,{className:"index-star"})}),e.isLocked&&e.item.isFolder&&Object(I.jsx)(k.a,{text:"Locked because a file underneath it is open for editing",disabled:U,placement:"right-center",children:Object(I.jsx)(dt.a,{className:gt.a.locked})}),(e.loading||l)&&Object(I.jsx)(x.Spinner,{className:gt.a.spinner,size:"small"})]}),Object(I.jsxs)("div",{className:"".concat(gt.a.post_body).concat(e.mobileView?" ".concat(gt.a.mobile):""),children:[!e.item.isTextBased&&!e.item.isFolder&&Object(I.jsx)(k.a,{text:J,disabled:U,placement:"bottom-center",className:U?gt.a.disabled:"",children:Object(I.jsxs)(N.a,{className:"btn-sm-round ".concat(gt.a.action_buttons),disabled:U,onClick:function(){return!!e.handleShowImagePreviewModal&&e.handleShowImagePreviewModal(e.item)||void 0},children:[ce&&Object(I.jsx)(ut.a,{}),le&&Object(I.jsx)(bt.a,{}),!ce&&!le&&Object(I.jsx)(_t.a,{})]})}),!e.item.isFolder&&Object(I.jsxs)(I.Fragment,{children:[e.mobileView&&e.item.isTextBased&&Object(I.jsx)(N.a,{className:"btn-sm-round ".concat(gt.a.action_buttons),disabled:e.disabled||te,onClick:function(t){A(!0),e.handleClickItem&&e.handleClickItem(t,e.item.path,!0)},children:Object(I.jsx)(nt.a,{})}),Object(I.jsx)(k.a,{text:_?"Copied":"Copy ".concat(e.copyExternalLink?"full":"relative"," path"),disabled:U||e.item.path===e.selectedPath,placement:"bottom-center",className:U||e.item.path===e.selectedPath?gt.a.disabled:"",children:Object(I.jsx)(pt.CopyToClipboard,{text:e.copyExternalLink?e.externalLink:C,onCopy:function(e){f(!0),A(!0),a&&clearTimeout(a),o(setTimeout((function(){o(void 0),f(!1)}),1e3))},children:Object(I.jsx)(N.a,{className:"btn-sm-round ".concat(gt.a.action_buttons),disabled:U||e.item.path===e.selectedPath,onClick:function(e){return e.stopPropagation()},children:Object(I.jsx)(ft.a,{})})})})]}),e.item.isFolder&&Object(I.jsxs)(I.Fragment,{children:[Object(I.jsx)(k.a,{text:"New file",disabled:e.disabled,placement:"bottom-end",children:Object(I.jsx)(N.a,{className:"btn-sm-round ".concat(gt.a.action_buttons),disabled:e.disabled,onClick:function(t){t.preventDefault(),t.stopPropagation(),A(!0),Y||pe(t,!0),e.handleClickNewFile(t,e.item.path)},children:Object(I.jsx)(at.a,{})})}),Object(I.jsx)(k.a,{text:e.level>=4?"Maximum nesting level reached":"New folder",disabled:e.disabled,placement:"bottom-end",children:Object(I.jsx)(N.a,{className:"btn-sm-round ".concat(gt.a.action_buttons),disabled:e.disabled||e.level>=4,onClick:function(t){t.preventDefault(),t.stopPropagation(),A(!0),Y||pe(t,!0),e.handleClickNewFolder(t,e.item.path)},children:Object(I.jsx)(ot.a,{})})})]}),Object(I.jsx)(D.a,{triggerElm:Object(I.jsx)(k.a,{text:"More",disabled:e.disabled,placement:"bottom-end",children:Object(I.jsx)(N.a,{className:"btn-sm-round ".concat(gt.a.action_buttons),disabled:e.disabled,onClick:function(){O(!h)},children:Object(I.jsx)(jt.a,{})})}),placement:"left-center",disabled:e.disabled,className:"tree-item-popover ".concat(gt.a.menu_wrapper),onDisappear:je,onOutsideClick:je,children:Object(I.jsxs)(I.Fragment,{children:[e.item.isFolder&&Object(I.jsx)("div",{className:gt.a.file_loader_wrapper,onClick:function(e){e.preventDefault(),e.stopPropagation()},children:Object(I.jsx)(mt.a,{space:e.space,active_path:e.item.path,innerProps:{noDragEventsBubbling:!0},lite:!0,children:Object(I.jsxs)(N.a,{className:"-menu-item",disabled:e.disabled,children:[Object(I.jsx)(ct.a,{})," Upload"]})})}),Object(I.jsxs)(N.a,{className:"-menu-item",disabled:te||e.isLocked||e.disabled,onClick:function(t){t.preventDefault(),t.stopPropagation(),A(!0),e.handleClickRename(t,e.item.path,e.item.parent)},children:[Object(I.jsx)(it.a,{})," Rename"]}),!e.item.isFolder&&Object(I.jsxs)(N.a,{className:"-menu-item",disabled:e.disabled||e.isLocked||te,onClick:function(t){t.preventDefault(),t.stopPropagation(),A(!0),e.handleClickMove(t,e.item.path)},children:[Object(I.jsx)(rt.a,{})," Move to folder"]}),Object(I.jsx)("div",{className:"-divider"}),Object(I.jsxs)(N.a,{className:"-menu-item ".concat(gt.a.delete_menu_item),disabled:e.disabled||e.isLocked,onClick:function(t){t.preventDefault(),t.stopPropagation(),A(!0),e.handleClickDelete(t,e.item.path)},children:[Object(I.jsx)(L.a,{})," ",e.item.isFolder?"Delete folder":"Delete"]})]})})]})]}),!!e.children&&Object(I.jsx)("div",{className:gt.a.children+(e.item.expanded?" "+gt.a.expanded:""),onTransitionEnd:function(t){t.preventDefault(),t.stopPropagation(),d(!1),e.handleTransitionEnd&&e.handleTransitionEnd(t)},children:e.children})]})};function wt(e,t){if(e.isFolder){var n=t.filter((function(t){return t.parent===e.path}));e.children=n,n.length>0&&n.forEach((function(e){e.isFolder&&(e=wt(e,t))}))}return e}var xt=function(e,t){return e.isFolder&&!t.isFolder?-1:!e.isFolder&&t.isFolder?1:e.isTextBased&&!t.isTextBased?-1:!e.isTextBased&&t.isTextBased?1:"index.html"===e.name.toLowerCase()&&t.isTextBased?-1:"index.html"===t.name.toLowerCase()&&e.isTextBased?1:function(e,t,n){return n?e.name.toLowerCase()>t.name.toLowerCase()?1:-1:e.name.toLowerCase()<t.name.toLowerCase()?1:-1}(e,t,!0)},Et=n(1261),St=n(602),Pt=n(1125),Nt=n.n(Pt);var kt=function(e){var t=Object(s.useState)(!0),n=Object(r.a)(t,2),a=n[0],o=n[1],i=Object(s.useState)(e.selectedPath||""),l=Object(r.a)(i,2),d=l[0],u=l[1],b=Object(s.useState)(e.selectedPath||""),_=Object(r.a)(b,2),f=_[0],p=_[1];Object(s.useEffect)((function(){e.selectedPath!==f&&(p(e.selectedPath||""),u(e.selectedPath||""),o(!0))}),[e.selectedPath,f]);var j=Object(s.useState)(!1),m=Object(r.a)(j,2),h=m[0],O=m[1],g=Object(s.useState)(!1),v=Object(r.a)(g,2),C=v[0],w=v[1];Object(s.useEffect)((function(){w(!0)}),[e.openItems.length]);var S=Object(s.useState)(!1),P=Object(r.a)(S,2),L=P[0],y=P[1];Object(s.useEffect)((function(){y(e.filterNoneTextFiles||!1)}),[e.filterNoneTextFiles]);var T=Object(s.useState)(!1),M=Object(r.a)(T,2),A=M[0],R=M[1];Object(s.useEffect)((function(){R(!0)}),[L]);var F=Object(s.useState)(!1),U=Object(r.a)(F,2),B=U[0],z=U[1],K=Object(s.useState)(0),Y=Object(r.a)(K,2),V=Y[0],H=Y[1],G=Object(s.useState)(0),Z=Object(r.a)(G,2),q=Z[0],W=Z[1],X=Object(s.useState)([]),J=Object(r.a)(X,2),Q=J[0],$=J[1];Object(s.useEffect)((function(){if(A||C||e.updateFileTree||e.spaceItems.length>0&&(0===Q.length||V!==e.spaceItems.length)){var t=Q.length>0;z(!0);var n=e.spaceItems.filter((function(e){return e.is_folder||e.is_text_based&&"pdf"!==e.extension||z(!1),!L||(e.is_folder||e.is_text_based&&"pdf"!==e.extension)})).map((function(n){var a,o=!1,i=Q.length>0?Q.findIndex((function(e){return e.path===n.path})):-1,r=e.openItems.findIndex((function(e){return e.path===n.path}))>-1;if(i>-1?a=Object(c.a)(Object(c.a)({},Q[i]),{},{isOpen:r}):(o=!0,a={name:n.base_name,path:n.path,children:[],parent:"",isFolder:n.is_folder||!1,isSpace:!1,mimeType:n.mime_type,expanded:!1,markAsNew:!e.updateFileTree&&!A&&t,isTextBased:n.is_text_based,extension:n.extension,isOpen:r,fullPathURL:n.is_text_based&&"pdf"===n.extension||!n.is_text_based&&!n.is_folder?Object(E.i)(n,!1,e.customDomain?e.customDomain:void 0):void 0}),(C||o||Q.length>e.spaceItems.length)&&O(!0),o){var s=n.path.split("/");a.parent=s.slice(0,s.length-(n.is_folder?2:1)).join("/"),"/"!==a.parent.charAt(a.parent.length-1)&&(a.parent+="/")}return a})).sort(xt);$(n),W(n.length),w(!1),A&&O(!0),R(!1),H(e.spaceItems.length),e.onFileTreeUpdated(),x.logging.logDebug("CodeEditorPage -> Tree -> hook for all element -> [allElementsLength, mySpaceItems]",q,n)}}),[Q,q,e,e.customDomain,L,e.mobileView,e.spaceItems,e.openItems,C,V,A]);var ee=Object(s.useState)(),te=Object(r.a)(ee,2),ne=te[0],ae=te[1];Object(s.useEffect)((function(){if(e.spaceId&&(!ne||h)&&Q.length>0){var t=wt({name:e.spaceId,path:e.spaceId+"/",children:[],parent:"",isFolder:!0,isSpace:!0,expanded:!0,isTextBased:!1},Q);ae(t),O(!1),x.logging.logDebug("CodeEditorPage -> Tree -> hook for root element -> [resetRootElement, myItem]",h,t)}}),[Q,e.spaceId,h,ne]);var oe=Object(s.useCallback)((function(e){var t=Q.findIndex((function(t){return t.path===e}));return t>-1?Q[t]:null}),[Q]),ce=Object(s.useCallback)((function(e){oe(e).markAsNew=!1}),[oe]),ie=Object(s.useCallback)((function(e,t){ne.path===e?ne.expanded=t:oe(e).expanded=t}),[oe,ne]),re=Object(s.useCallback)((function(t,n){var a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];t.preventDefault(),t.stopPropagation();var o=oe(n);o&&(o.isFolder&&e.canSelectFolder||!o.isFolder)&&(d===o.path?u(f):u(o.path),(!e.mobileView||e.mobileView&&(o.isFolder||o.isTextBased))&&e.onClickRow&&e.onClickRow(n,a))}),[oe,e,d,f]),se=Object(s.useCallback)((function(t,n){t.preventDefault(),t.stopPropagation(),e.onClickNewFile(n)}),[e]),le=Object(s.useCallback)((function(t,n){t.preventDefault(),t.stopPropagation(),e.onClickNewFolder(n)}),[e]),de=Object(s.useCallback)((function(t,n,a){t.preventDefault(),t.stopPropagation(),e.onClickRename(n,a)}),[e]),ue=Object(s.useCallback)((function(t,n){t.preventDefault(),t.stopPropagation(),e.onClickMove(n)}),[e]),be=Object(s.useCallback)((function(t,n){t.preventDefault(),t.stopPropagation(),e.onClickDelete(n)}),[e]),_e=Object(s.useCallback)((function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,o=n+1,c=!1;return t.isFolder?e.openItems.forEach((function(e){e.path.indexOf(t.path)>-1&&(c=!0)})):t.isSpace&&(c=e.openItems.length>0),t.isLocked=c,Object(I.jsx)(Ct,{item:t,spaceId:e.spaceId,space:e.space,className:"".concat(Nt.a.tree_item).concat(0===n?" ".concat(Nt.a.root):""),disabled:e.disabled,level:n,isLocked:t.isLocked||!1,loading:a,selectedPath:f,selected:d,mobileView:e.mobileView,canSelectFolder:e.canSelectFolder,handleExpandClicked:ie,handleClickItem:re,handleClickNewFile:se,handleClickNewFolder:le,handleClickRename:de,handleClickDelete:be,handleClickMove:ue,handleRemovedNewIndicator:ce,copyExternalLink:!1,externalLink:t.fullPathURL,handleShowImagePreviewModal:e.handleShowImagePreviewModal,children:t.children.length>0&&t.children.map((function(e){return _e(e,o)}))},t.path)}),[e.openItems,e.spaceId,e.space,e.disabled,e.mobileView,e.canSelectFolder,e.handleShowImagePreviewModal,a,f,d,ie,re,se,le,de,be,ue,ce]),fe=Object(s.useState)(),pe=Object(r.a)(fe,2),je=pe[0],me=pe[1];return Object(s.useEffect)((function(){if(ne){var e=_e(ne);me(e)}}),[_e,ne]),Object(s.useEffect)((function(){if(a&&je){if(""!==f){var e=f.split("/");for(e.pop();e.length>0;){var t=oe(e.join("/")+"/");t?t.expanded=!0:ne.expanded=!0,e.pop()}}o(!1)}}),[je,a,oe,ne,f]),Object(I.jsxs)("div",{className:Nt.a.main_tree+(e.className?" "+e.className:""),children:[Object(I.jsx)("div",{className:Nt.a.header,children:e.headerChild?e.headerChild:Object(I.jsxs)(I.Fragment,{children:[Object(I.jsx)("div",{className:Nt.a.header_title,children:e.header||"Files & Folders"}),Object(I.jsxs)("div",{className:Nt.a.action_buttons_wrapper,children:[Object(I.jsx)(mt.a,{space:e.space,active_path:"".concat(e.spaceId,"/"),innerProps:{noDragEventsBubbling:!0},lite:!0,children:Object(I.jsx)(k.a,{text:"Upload to root",disabled:e.disabled,placement:"bottom-end",children:Object(I.jsx)(N.a,{className:"btn-sm-round ".concat(Nt.a.action_buttons),disabled:e.disabled,children:Object(I.jsx)(ct.a,{})})})}),Object(I.jsx)(k.a,{text:"New root file",disabled:e.disabled,placement:"bottom-end",children:Object(I.jsx)(N.a,{className:"btn-sm-round ".concat(Nt.a.action_buttons),disabled:e.disabled,onClick:function(t){return se(t,"".concat(e.spaceId,"/"))},children:Object(I.jsx)(at.a,{})})}),Object(I.jsx)(k.a,{text:"New root folder",disabled:e.disabled,placement:"bottom-end",children:Object(I.jsx)(N.a,{className:"btn-sm-round ".concat(Nt.a.action_buttons),disabled:e.disabled,onClick:function(t){return le(t,"".concat(e.spaceId,"/"))},children:Object(I.jsx)(ot.a,{})})}),Object(I.jsx)(D.a,{triggerElm:Object(I.jsx)(k.a,{text:"Filter",disabled:e.disabled,placement:"bottom-end",children:Object(I.jsx)(N.a,{className:"btn-sm-round ".concat(Nt.a.action_buttons),disabled:e.disabled,children:Object(I.jsx)(Et.a,{})})}),placement:"left-start",disabled:e.disabled,children:Object(I.jsxs)(N.a,{className:"-menu-item",disabled:e.disabled||B,onClick:function(){e.disabled||B||(y(!L),R(!0))},children:[L&&Object(I.jsx)(St.a,{}),"Filter out non-editable files"]})})]})]})}),Object(I.jsx)("div",{className:Nt.a.body,children:!!je&&je}),(!!e.footerChild||!!e.publicSwitchElement)&&Object(I.jsxs)("div",{className:Nt.a.footer,children:[e.publicSwitchElement&&e.publicSwitchElement,!!e.footerChild&&e.footerChild]})]})},Lt=n(1126),yt=n.n(Lt),Tt=l.a.lazy((function(){return n.e(29).then(n.bind(null,1285))})),It=l.a.lazy((function(){return Promise.all([n.e(1),n.e(6),n.e(19)]).then(n.bind(null,1286))})),Mt=l.a.lazy((function(){return n.e(32).then(n.bind(null,1270))})),Dt={xml:"xml",txt:"plaintext",svg:"html",js:"javascript",json:"json",html:"html",htm:"html",css:"css",md:"markdown",ts:"typescript",tsx:"typescript",vue:"typescript",py:"python",php:"php",scss:"scss"},At="about:blank";t.default=function(e){var t=Object(g.d)((function(e){return e.main})),n=Object(s.useState)(e.main_state||t),l=Object(r.a)(n,2),v=l[0],N=l[1];Object(s.useEffect)((function(){(t||e.main_state)&&N(e.main_state||t)}),[t,e.main_state]);var L=Object(O.i)().spaceId,y=Object(g.d)((function(e){return e.main.spaces})),T=Object(s.useState)(),M=Object(r.a)(T,2),D=M[0],A=M[1];Object(s.useEffect)((function(){var e=y.filter((function(e){return e.id===L}));A(e[0])}),[L,y]);var R=Object(s.useMemo)((function(){return null===D||void 0===D?void 0:D.state}),[null===D||void 0===D?void 0:D.state]),F=Object(s.useMemo)((function(){return Object(ht.b)(D)}),[D]),B=Object(s.useMemo)((function(){return Object(ht.a)(D)}),[D]),z=Object(s.useMemo)((function(){return Object(ht.c)(D)}),[D]),Q=Object(g.c)(),$=Object(O.g)(),te=Object(s.useState)(ue.b),ne=Object(r.a)(te,2),ae=ne[0],oe=ne[1],ce=Object(s.useRef)({previewWithRequestsCountOn:v.editor_content.useRequestsOnPreview||!1}),ie=Object(s.createRef)(),re=Object(s.createRef)(),se=Object(s.useState)(!1),de=Object(r.a)(se,2),pe=de[0],je=de[1],me=Object(s.useState)(!1),he=Object(r.a)(me,2),ve=he[0],Ce=he[1],we=Object(s.useState)(!1),xe=Object(r.a)(we,2),Ee=xe[0],Ne=xe[1],ke=Object(s.useState)(!1),Le=Object(r.a)(ke,2),ye=Le[0],Me=Le[1],De=Object(s.useState)(!1),Ae=Object(r.a)(De,2),Re=Ae[0],Fe=Ae[1],Ye=Object(s.useState)(!1),et=Object(r.a)(Ye,2),tt=et[0],nt=et[1],at=Object(s.useState)(!1),ot=Object(r.a)(at,2),ct=ot[0],it=ot[1],rt=Object(s.useState)(!1),st=Object(r.a)(rt,2),lt=st[0],dt=(st[1],Object(s.useState)("Loading...")),ut=Object(r.a)(dt,2),bt=ut[0],_t=ut[1],ft=Object(s.useState)(!1),pt=Object(r.a)(ft,2),jt=pt[0],mt=pt[1],Ot=Object(s.useState)(!1),gt=Object(r.a)(Ot,2),vt=gt[0],Ct=gt[1],wt=Object(s.useState)(!0),xt=Object(r.a)(wt,2),Et=xt[0],St=xt[1],Pt=Object(s.useState)(!1),Nt=Object(r.a)(Pt,2),Lt=Nt[0],Rt=Nt[1],Ft=Object(s.useState)(!1),Ut=Object(r.a)(Ft,2),Bt=Ut[0],zt=Ut[1],Kt=Object(s.useState)(!1),Yt=Object(r.a)(Kt,2),Vt=Yt[0],Ht=Yt[1],Gt=Object(s.useState)(!1),Zt=Object(r.a)(Gt,2),qt=Zt[0],Wt=Zt[1],Xt=Object(s.useState)(!1),Jt=Object(r.a)(Xt,2),Qt=Jt[0],$t=Jt[1],en=Object(s.useState)(S.b.NONE),tn=Object(r.a)(en,2),nn=tn[0],an=tn[1],on=Object(s.useState)(Oe.Left),cn=Object(r.a)(on,2),rn=cn[0],sn=cn[1],ln=Object(s.useState)(localStorage.getItem("code_editor.theme")||P.a.LIGHT),dn=Object(r.a)(ln,2),un=dn[0],bn=dn[1],_n=Object(s.useState)([]),fn=Object(r.a)(_n,2),pn=fn[0],jn=fn[1],mn=Object(s.useState)(-2),hn=Object(r.a)(mn,2),On=hn[0],gn=hn[1],vn=Object(s.useState)(!1),Cn=Object(r.a)(vn,2),wn=Cn[0],xn=Cn[1],En=Qe(),Sn=Object(s.useRef)(!1),Pn=Object(s.useState)(!1),Nn=Object(r.a)(Pn,2),kn=Nn[0],Ln=Nn[1],yn=Object(s.useState)(!1),Tn=Object(r.a)(yn,2),In=Tn[0],Mn=Tn[1],Dn=Object(s.useState)(!1),An=Object(r.a)(Dn,2),Rn=An[0],Fn=An[1],Un=Object(s.useState)(!1),Bn=Object(r.a)(Un,2),zn=Bn[0],Kn=Bn[1],Yn=Object(s.useState)(!1),Vn=Object(r.a)(Yn,2),Hn=Vn[0],Gn=Vn[1],Zn=Object(s.useState)(!1),qn=Object(r.a)(Zn,2),Wn=qn[0],Xn=qn[1];Object(s.useEffect)((function(){In&&Xn(!0)}),[In]);var Jn=Object(s.useState)(!1),Qn=Object(r.a)(Jn,2),$n=Qn[0],ea=Qn[1];Object(s.useEffect)((function(){ea(kn||In||Rn)}),[kn,Rn,In]);var ta=Object(s.useState)(!0),na=Object(r.a)(ta,2),aa=na[0],oa=na[1];Object(s.useEffect)((function(){oa(window.innerWidth>q.a.medium)}),[]);var ca=Object(s.useMemo)((function(){return[{element:Object(I.jsxs)("div",{children:[Object(I.jsx)("strong",{children:"Tip:"})," There might be a a couple of seconds delay when saving before you see the changes in the preview. Press"," ",Object(I.jsx)("strong",{children:"Run"})," again to reload the preview."]}),type:X.DEFAULT},{element:Object(I.jsxs)("div",{children:[Object(I.jsx)("strong",{children:"Tip:"})," Press the ",Object(I.jsx)("strong",{children:"Reload"})," icon, to refresh the preview. It might take a few seconds before you can see your changes go live."]}),type:X.DEFAULT},{element:Object(I.jsxs)("div",{children:[Object(I.jsx)("strong",{children:"Tip:"})," Press ",Object(I.jsx)("span",{className:yt.a.code_editor_hint_key,children:"F1"})," to show Command palette."]}),type:X.DEFAULT}]}),[]),ia=Object(s.useRef)("".concat(L,"/")),ra=Object(s.useRef)(),sa=Object(s.useState)(!1),la=Object(r.a)(sa,2),da=la[0],ua=la[1],ba=Object(s.useState)(!1),_a=Object(r.a)(ba,2),fa=_a[0],pa=_a[1],ja=Object(s.useState)(At),ma=Object(r.a)(ja,2),ha=ma[0],Oa=ma[1],ga=Object(s.useState)(0),va=Object(r.a)(ga,2),Ca=va[0],wa=va[1],xa=Object(s.useState)(At),Ea=Object(r.a)(xa,2),Sa=Ea[0],Pa=Ea[1],Na=Object(s.useRef)(null),ka=Object(s.useRef)(null),La=Object(s.useRef)(),ya=Object(s.useRef)(-1),Ta=Object(s.useState)(!1),Ia=Object(r.a)(Ta,2),Ma=Ia[0],Da=Ia[1],Aa=Object(s.useState)(!1),Ra=Object(r.a)(Aa,2),Fa=Ra[0],Ua=Ra[1],Ba=Object(s.useRef)(null),za=Object(s.useRef)(null),Ka=Object(s.useRef)(null),Ya=Object(s.useRef)(!1),Va=Object(s.useState)(""),Ha=Object(r.a)(Va,2),Ga=Ha[0],Za=(Ha[1],Object(s.useState)(Be.a.CodeEditor)),qa=Object(r.a)(Za,2),Wa=qa[0],Xa=qa[1],Ja=Object(s.useRef)(""),Qa=Object(s.useState)(!1),$a=Object(r.a)(Qa,2),eo=$a[0],to=$a[1],no=Object(s.useState)(!1),ao=Object(r.a)(no,2),oo=ao[0],co=ao[1],io=Object(s.useState)(),ro=Object(r.a)(io,2),so=ro[0],lo=ro[1],uo=Object(s.useState)(),bo=Object(r.a)(uo,2),_o=bo[0],fo=bo[1];Object(s.useEffect)((function(){_o&&(za.current&&(clearTimeout(za.current),za.current=null),za.current=setTimeout((function(){fo(_o-1),za.current=null}),1e3))}),[_o]);var po=Object(s.useRef)(!1),jo=Object(s.useState)(),mo=Object(r.a)(jo,2),ho=mo[0],Oo=mo[1],go=Object(s.useRef)(!1),vo=Object(s.useState)(!1),Co=Object(r.a)(vo,2),wo=Co[0],xo=Co[1],Eo=Object(s.useCallback)((function(e){e.stopPropagation(),e.preventDefault(),St(!0),setTimeout((function(){"OPEN"===R?D.state="PRIVATE":"PRIVATE"===R&&(D.state="OPEN"),St(!1)}),1500)}),[D,R]),So=(Object(s.useMemo)((function(){return Object(I.jsx)(U,{label:"OPEN"===R?"Online":"Offline",checked:"OPEN"===R,disabled:Et||Lt||Vt,onChange:Eo})}),[Vt,Et,Eo,Lt,R]),Object(s.useState)(!1)),Po=Object(r.a)(So,2),No=Po[0],ko=Po[1],Lo=Object(s.useCallback)((function(e){var t=D.files.find((function(t){return t.path===e}));return x.logging.logDebug("CodeEditorPage -> getFile -> myFile:",t),t}),[D]),yo=Object(s.useCallback)((function(e){var t,n;if(z)if(t=v.editor_content.domainNameForSpace?e?E.i(e,!0,v.editor_content.domainNameForSpace):void 0:e?E.i(e,!0,void 0):void 0){var a,o=null===(a=t)||void 0===a?void 0:a.split("/"),c="https://".concat(o[2]);Pa(c)}else Pa(At);else t=v.editor_content.domainNameForSpace?e?E.i(e,!0,v.editor_content.domainNameForSpace):void 0:e?E.i(e,!0,void 0):void 0,Pa((null===(n=t)||void 0===n?void 0:n.split("?")[0])||"Error")}),[v.editor_content.domainNameForSpace,z]),To=Object(s.useState)(),Io=Object(r.a)(To,2),Mo=Io[0],Do=Io[1];Object(s.useEffect)((function(){if(!Mo||Mo.path!==v.editor_content.file_path){if(!D)return;var e=Lo(v.editor_content.file_path);Do(e),Na.current=null,go.current="text/html"===(null===e||void 0===e?void 0:e.mime_type),xo("md"===(null===e||void 0===e?void 0:e.extension)),Oo(void 0),yo(e),ko(!1),localStorage.removeItem("code_editor.iscrollpos"),co(!0)}}),[Mo,Lo,v.editor_content.file_path,yo,D,L]);var Ao=Object(s.useState)(null),Ro=Object(r.a)(Ao,2),Fo=Ro[0],Uo=Ro[1];Object(s.useEffect)((function(){if(oo)if(co(!1),z)yo(Mo),Uo(null),to(!0);else if(go.current)x.logging.logDebug("CodeEditorPage -> previewFile useEffect hook -> isHTMLfile",null),Uo(null),to(!0);else{if(!D)return x.logging.logDebug("CodeEditorPage -> previewFile useEffect hook -> !spaces || spaces.length === 0",null),Uo(null),void to(!0);var e=D.files.filter((function(e){return"text/html"===e.mime_type}));if(0===e.length)return x.logging.logDebug("CodeEditorPage -> previewFile useEffect hook -> htmlFiles.length === 0",null),Uo(null),void to(!0);var t=e.find((function(e){return"index.html"===e.rel_path.toLowerCase()}));t||(t=e.find((function(e){return 1===e.rel_path.split("/").length}))),x.logging.logDebug("CodeEditorPage -> previewFile useEffect hook -> previewFile:",t),Uo(t||null),t&&yo(t),to(!0)}}),[oo,L,D,yo,Mo,z]);var Bo=Object(s.useState)(),zo=Object(r.a)(Bo,2),Ko=zo[0],Yo=zo[1];Object(s.useEffect)((function(){var e=v.usage,t=v.quota,n=t.web_traffic.number_of_requests-e.web_traffic.number_of_requests,a=t.web_traffic.data_served-e.web_traffic.data_served,o=t.storage.amount-e.storage.amount,c=n<0||a<0||o<0;if(x.logging.logDebug("CodeEditorPage -> requestError useEffect hook -> [isQuotaUsedUp, remainingRequests, remainingData, remainingStorage]",c,n,a,o),c&&(!wo||wo&&!No)){var i=v.subscription_plan,r=Object(_e.a)(i,"MMM DD, YYYY"),s=x.util.getUpgradeLink(),l=s,d=[];n<0&&d.push("".concat(t.web_traffic.number_of_requests," requests per month")),a<0&&d.push("".concat(t.web_traffic.data_served/1024," MB data served per month")),o<0&&d.push("".concat(t.storage.amount/1024," MB storage used"));var u="";u=1===d.length?d[0]:2===d.length?"".concat(d[0]," and ").concat(d[1]):"".concat(d[0],", ").concat(d[1]," and ").concat(d[2]),Yo(Object(I.jsxs)("div",{children:[Object(I.jsx)("h3",{children:"Check your monthly quota"}),Object(I.jsxs)("span",{children:["With a ",Object(I.jsx)("strong",{children:i.cname})," plan you get ",u,". Since you have reached"," ",d.length>1?"these limits":"this limit",", we have temporarily closed"," ",e.storage.number_of_spaces>1?"all your spaces":"your space"," for public access. Your"," ",e.storage.number_of_spaces>1?"spaces":"space"," will be opened again when your next subscription period starts,"," ",Object(I.jsx)("strong",{children:r}),".",Object(I.jsx)("br",{}),Object(I.jsx)("br",{}),i.can_be_upgraded?Object(I.jsxs)(I.Fragment,{children:["To get more quota, ",Object(I.jsx)("a",{href:s,children:"upgrade your plan"}),"."]}):Object(I.jsx)("a",{href:l,children:"Learn more"})]})]})),wo&&Ht(!1),Fn(!0)}else Yo(void 0)}),[No,wo,v.quota,v.quota.web_traffic.number_of_requests,v.subscription_plan,v.usage,v.usage.web_traffic.number_of_requests]);var Vo=Object(s.useState)(!1),Ho=Object(r.a)(Vo,2),Go=Ho[0],Zo=Ho[1];Object(s.useEffect)((function(){Zo(!!Ko||!z&&!Fo&&!!Mo&&!go.current)}),[Mo,Fo,Ko,z]);var qo=Object(s.useState)(!1),Wo=Object(r.a)(qo,2),Xo=Wo[0],Jo=Wo[1],Qo=Object(s.useCallback)((function(e){localStorage.setItem("code_editor.preview",e),an(e)}),[]),$o=Object(s.useCallback)((function(e,t){var n;e&&e.preventDefault(),e&&e.stopPropagation(),!wn&&nn===S.b.VERTICAL&&((null===(n=ie.current)||void 0===n?void 0:n.clientWidth)||0)+500>=window.innerWidth&&Qo(S.b.NONE),xn(null==t?!wn:t)}),[nn,wn,ie,Qo]),ec=Object(s.useCallback)((function(e){var t=un===P.a.LIGHT?P.a.DARK:P.a.LIGHT;x.logging.logDebug("CodeEditorPage -> toggleTheme -> [new_theme, theme]",t,un),bn(t),localStorage.setItem("code_editor.theme",t)}),[un]),tc=Object(s.useState)([]),nc=Object(r.a)(tc,2),ac=nc[0],oc=nc[1];Object(s.useEffect)((function(){var e=D||{files:[],folders:[]};oc([].concat(Object(i.a)(e.files),Object(i.a)(e.folders)))}),[D]);var cc=Object(s.useState)(!1),ic=Object(r.a)(cc,2),rc=ic[0],sc=ic[1];Object(s.useEffect)((function(){sc(Et||Lt||Vt||Go||wo&&!No||On<0)}),[On,No,Vt,wo,Et,Go,Lt]);var lc=Object(s.useCallback)((function(e){var t=v.editor_content;t.file_path=e,Q(Object(G.k)(t))}),[Q,v.editor_content]),dc=Object(s.useCallback)((function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=ac.findIndex((function(t){return t.path===e}));if(n>-1){var a=ac[n];t||!En&&!a.is_folder?(x.logging.logDebug("CodeEditorPage -> clickItemInTree -> treePanelItem",a),La.current=void 0,lc(a.path),ia.current="".concat(L,"/")):ia.current=e}}),[En,lc,L,ac]),uc=Object(s.useCallback)((function(e){var t=D.files.find((function(t){return t.path===e.path}));lo(t)}),[D]),bc=Object(s.useCallback)((function(){je(!1)}),[]),_c=Object(s.useCallback)((function(e){var t=ac.find((function(t){return t.path===e}));ra.current=t,Me(!0)}),[ac]),fc=Object(s.useCallback)((function(e,t){var n=ac.find((function(t){return t.path===e}));ra.current=n,ia.current=t,Fe(!0)}),[ac]),pc=Object(s.useCallback)((function(e){var t=ac.find((function(t){return t.path===e}));ra.current=t,ia.current=e,Ne(!0)}),[ac]),jc=function(e){ia.current=e,nt(!0)},mc=function(e){ia.current=e,it(!0)},hc=Object(s.useMemo)((function(){return{child:Object(I.jsx)(J,{}),type:K.Folders,locked:!1,tooltip:"Files",disabled:lt,panel:Object(I.jsx)(s.Suspense,{fallback:Object(I.jsx)(Ie.a,{}),children:Object(I.jsx)(kt,{spaceId:L,space:D,spaceItems:ac,canSelectFolder:En,filterNoneTextFiles:!1,mobileView:En,updateFileTree:pe,openItems:pn,isPanelClosed:!wn,disabled:Et||Lt||Vt,selectedPath:On>-1?pn[On].path:void 0,customDomain:v.editor_content.domainNameForSpace,header:"Files",onClickRow:dc,handleShowImagePreviewModal:uc,onClickNewFile:mc,onClickNewFolder:jc,onClickRename:fc,onClickMove:pc,onClickDelete:_c,onFileTreeUpdated:bc,className:En?yt.a.mobile_view:""})})}}),[lt,L,D,ac,En,pe,pn,wn,Et,Lt,Vt,On,v.editor_content.domainNameForSpace,dc,uc,fc,pc,_c,bc]),Oc=Object(s.useCallback)((function(e,t){"quota"===e.context?Q(Object(W.a)(e,t)):"BRIFC3"===e.code?Q(Object(Z.a)({id:Object(q.f)(),dismissed:!1,type:"error",header:"Your file could not be saved",body:Object(I.jsxs)(I.Fragment,{children:["Sorry, the file ",Object(I.jsx)("strong",{children:E.o(t.base_name)})," could not be saved. This is a permanent error with code ",e.code,". Please contact support."]})})):Q(Object(Z.a)({id:Object(q.f)(),dismissed:!1,type:"error",header:"File processing error",body:"".concat(e.description)}))}),[Q]);function gc(e){var t=v.editor_content;pn[On].editorContent=ci(),e>-1&&(t.file_path=pn[e].path,Q(Object(G.k)(t)))}var vc=Object(s.useState)(),Cc=Object(r.a)(vc,2),wc=Cc[0],xc=Cc[1],Ec=function(e){if(e){var t=pn.findIndex((function(t){return t.path===e}));On===t&&gc(t<pn.length&&t>0?t-1:1===pn.length?-1:1)}xc(e)};function Sc(e){if(pn[e].canBeSaved){var t=ac.findIndex((function(t){return t.path===pn[e].path}));t>-1&&(La.current=ac[t],ya.current=e,pa(!0))}else ya.current=-1,Ec(pn[e].path)}var Pc=Object(s.useCallback)((function(e){return e.replace(/ *\<!--[^)]*\--> */g,"")}),[]),Nc=Object(s.useCallback)((function(e){return/^\s+$/.test(e)}),[]),kc=Object(s.useCallback)((function(e){var t=Pc(e);(Nc(t)||0===t.length)&&(t="## The file is empty \n\n >Click on **Edit markdown** at the bottom of the screen to add content."),Oo(t)}),[Pc,Nc]),Lc=function(e,t,n){e.addEventListener?e.addEventListener(t,n,!1):e.attachEvent&&e.attachEvent("on"+t,n)},yc=function(e,t,n){e.removeEventListener?e.removeEventListener(t,n):e.detachEvent&&e.detachEvent("on"+t,n)},Tc=Object(s.useState)(""),Ic=Object(r.a)(Tc,2),Mc=Ic[0],Dc=Ic[1],Ac=Object(s.useState)({}),Rc=Object(r.a)(Ac,2),Fc=Rc[0],Uc=Rc[1],Bc=Object(s.useState)(""),zc=Object(r.a)(Bc,2),Kc=zc[0],Yc=zc[1],Vc=Object(s.useState)(null),Hc=Object(r.a)(Vc,2),Gc=Hc[0],Zc=Hc[1],qc=Object(s.useState)(!1),Wc=Object(r.a)(qc,2),Xc=Wc[0],Jc=Wc[1],Qc=Object(s.useCallback)((function(e,t){x.logging.logDebug("_setIframePreviewScrollYPosMap -> prs: ",{context:e,scrollYPos:t});var n=Object(c.a)({},Fc);n[e]=t,Uc(n),Yc(e)}),[Fc]),$c=Object(s.useCallback)((function(e){var t=e.context,n=e.iframe,a=e.iframeUpdatedSrc,o=e.scrollYPos,c=void 0===o?0:o;x.logging.logDebug("_updateIframePreviewSrcWithScrollYPos -> prs: ",{context:t,iframeUpdatedSrc:a,scrollYPos:c}),n.src="".concat(a,"&scrollYPos=").concat(c),Zc(null),Jc(!1)}),[]);Object(s.useEffect)((function(){if(null!==Gc&&(x.logging.logDebug("_updateIframePreviewSrcWithScrollYPos when ready -> prs: ",{iframePreviewScrollYPosLastUpdatedContext:Kc,forceUpdateDelayedIframePreviewSrc:Xc,delayedIframePreviewUpdateContext:Gc.context,delayedIframePreviewUpdateSrc:Gc.iframeUpdatedSrc}),Kc&&Kc===Gc.context&&void 0!==Fc[Gc.context]||!0===Xc)){var e=0;void 0!==Fc[Gc.context]&&(e=Fc[Gc.context]),$c(Object(c.a)(Object(c.a)({},Gc),{},{scrollYPos:e}))}}),[Fc,Kc,Gc,Xc,$c]);var ei=Object(s.useCallback)(function(){var e=Object(o.a)(Object(a.a)().mark((function e(t){var n,o,c;return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.spaceId,o=t.showErrorInNotificationPane,c=void 0!==o&&o,e.abrupt("return",new Promise((function(e){Q(Ve(n,(function(t){x.logging.logDebug("CodeEditorPage -> _asyncGetSpacePreviewSession -> prs, res: ",{prs:{spaceId:n,showErrorInNotificationPane:c},res:t}),c&&"0"!==t.error.code&&Q(Object(Z.a)({id:Object(q.f)(),dismissed:!1,type:"error",header:"Preview error",body:Object(I.jsx)(I.Fragment,{children:"Sorry, we have encountered an error while generating the preview session. Please try again and contact support if the error persists."})})),e(t)})))})));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[Q]),ti=Object(s.useCallback)((function(e){if(void 0!==e.origin&&function(e){if(e.length&&-1!==e.indexOf(".")){var t=e.split(".");if(3===t.length)return"".concat(t[1],".").concat(t[2])}return""}(e.origin)===Object(ze.b)()&&void 0!==e.data){yc(window,"message",ti),x.logging.logDebug("_iframePreviewMessageHandler -> event: ",JSON.stringify(e));var t=function(e){var t=e.jsonStr,n=e.requiredFields,a={error:{code:"0"},data:{}};try{if(a.data=JSON.parse(t),"undefined"!==typeof n)for(var o=0;o<n.length;o++){var c=n[o];if("undefined"===typeof a.data[c])return a.error={code:"FINPID",description:"Field is not present in data",meta:{key:c}},a}}catch(r){var i=r;a.error=He(i)}return a}({jsonStr:e.data,requiredFields:["type","action"]});if(x.logging.logDebug("_iframePreviewMessageHandler -> dataParseRes: ",JSON.stringify(t)),"0"===t.error.code){var n=t.data;if("response"===n.type&&"getScrollPos"===n.action){var a=n.data||{};void 0!==a.context&&a.context&&void 0!==a.scrollYPos&&a.scrollYPos>-1&&Qc(a.context,a.scrollYPos)}}}}),[Qc]);Object(s.useEffect)((function(){var e=null;if(En){var t=function(){x.logging.logDebug("CodeEditorPage -> refreshExternalPreviewUrl -> _callback"),ei({spaceId:L}).then((function(e){if(x.logging.logDebug("CodeEditorPage -> refreshExternalPreviewUrl -> _callback -> _asyncGetSpacePreviewSession -> res: ",e),"0"===e.error.code){var t,n=e.data.id;t=Fo?Fo.rel_path:(null===Mo||void 0===Mo?void 0:Mo.rel_path)||"",Oa("https://".concat(L,".").concat(Object(ze.b)(),"/_/init/external-preview.html?sessId=").concat(n,"&spacePath=").concat(encodeURIComponent("/"+t))),x.logging.logDebug("CodeEditorPage -> refreshExternalPreviewUrl -> _callback -> _asyncGetSpacePreviewSession -> externalPreviewUrlExpiryUts > getCurrentUts(): ",Ca>Object(Ke.a)()),wa(e.data.expiryUts)}else void 0!==e.error.meta.previewUrl&&(Oa(e.error.meta.previewUrl),wa(-1))}))},n=Object(Ke.a)();if(Ca>0&&Ca>n){var a=1e3*(Ca-n)-100;x.logging.logDebug("CodeEditorPage -> refreshExternalPreviewUrl -> timeoutMs: ",a),e=setTimeout(t,a)}else En&&0===Ca&&t()}return function(){return clearTimeout(e)}}),[ei,Mo,Fo,L,Ca,En]);var ni=Object(s.useCallback)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:re.current,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;x.logging.logDebug("CodeEditorPage -> setIframeSrc -> [myIframe, myContent]: ",e,t),e?(Ce(!1),!wo||wo&&!No?(x.logging.logDebug("CodeEditorPage -> setIframeSrc -> myIframe: ",e),ei({spaceId:L}).then((function(t){x.logging.logDebug("CodeEditorPage -> setIframeSrc -> _asyncGetSpacePreviewSession -> res: ",t);var n=C.a.findDOMNode(e);if("0"===t.error.code){var a,o=t.data.id,c=t.data.baseUrl;a=Fo?Fo.rel_path:(null===Mo||void 0===Mo?void 0:Mo.rel_path)||"",a="/".concat(a),Oa("https://".concat(L,".").concat(Object(ze.b)(),"/_/init/external-preview.html?sessId=").concat(o,"&spacePath=").concat(encodeURIComponent(a))),wa(t.data.expiryUts),Mc&&Mc!==o?(x.logging.logDebug("CodeEditorPage -> setIframeSrc -> previewType = DEFAULT -> _asyncGetSpacePreviewSession -> updated"),yc(window,"message",ti),Lc(window,"message",ti),e.contentWindow.postMessage(JSON.stringify({type:"request",action:"getScrollPos",spaceId:L,spacePath:a}),"*"),Zc({context:"".concat(L).concat(a),iframe:n,iframeUpdatedSrc:"".concat(c,"/_/init/iframe-preview.html?spaceId=").concat(L,"&spacePath=").concat(encodeURIComponent(a))}),setTimeout((function(){Jc(!0)}),100)):(x.logging.logDebug("CodeEditorPage -> setIframeSrc -> previewType = DEFAULT -> _asyncGetSpacePreviewSession -> init or cached"),n.src="".concat(c,"/_/init/iframe-preview.html?spaceId=").concat(L,"&spacePath=").concat(encodeURIComponent(a))),Dc(o)}else void 0!==t.error.meta.previewUrl&&(n.src=t.error.meta.previewUrl)})),wo&&kc(pn[On].content)):(kc(pn[On].content),Ht(!1))):wo&&(kc(pn[On].content),Ht(!1))}),[ei,ti,On,kc,No,null===Mo||void 0===Mo?void 0:Mo.rel_path,Mc,wo,Fo,re,L,pn]),ai=Object(s.useCallback)((function(e,t){x.logging.logDebug("CodeEditorPage -> setDisplayValue -> newToggleValue: ",t),wn&&t===S.b.VERTICAL&&window.innerWidth<=q.a.medium&&$o(e,!1),nn===S.b.NONE&&t!==nn?(x.logging.logDebug("CodeEditorPage -> setDisplayValue -> (displayPreview === OrientationType.NONE && newToggleValue !== displayPreview) -> Calling setIframeSrc!!"),jt?ni():Ce(!0)):nn===S.b.NONE&&wo&&!No&&kc(pn[On].content),Qo(t)}),[On,kc,nn,No,jt,wo,wn,ni,Qo,pn,$o]),oi=Object(s.useCallback)((function(e){oa(window.innerWidth>q.a.medium)}),[]),ci=Object(s.useCallback)((function(){return x.logging.logDebug("CodeEditorPage -> getEditorContents -> innerInstance.current: ",ka.current.getValue()),jt&&ka.current?ka.current.getValue():" "}),[jt]),ii=Object(s.useCallback)((function(e,t,n){if(On>-1&&!Sn.current){x.logging.logDebug("CodeEditorPage -> handleChangedFileContents -> [sameAsCached, newContent, reloadContent]: ",e,t,n);var a=Object(i.a)(pn),o=a[On];o.canBeSaved=!e,o.editorContent=t||o.editorContent,jn(a),zt(!e||pn.findIndex((function(e){return e.canBeSaved}))>-1),Ka.current&&(clearTimeout(Ka.current),Ka.current=null),wo&&!No&&kc(pn[On].content)}}),[On,kc,No,wo,pn]),ri=Object(s.useCallback)(function(){var e=Object(o.a)(Object(a.a)().mark((function e(t,n){var o,c,i,r,s,l,d;return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(x.logging.logDebug("CodeEditorPage -> handleFileSave -> instantiated:",jt),jt){e.next=3;break}return e.abrupt("return",Promise.resolve());case 3:if(!v.usage_status._out_of_quota){e.next=6;break}return Q(Object(W.a)({code:"ACTION_FORBIDDEN_WHEN_QUOTA_EXCEEDED",description:"Your space is temporarily closed, and editing files is not allowed.",meta:{header_text:"Space temporarily closed"}})),e.abrupt("return",Promise.reject());case 6:if(c=(o="number"===typeof n?n:On)!==On?pn[o].editorContent:ci(),pn[o].editorContent=c,pn[o].loading=!0,i=Lo(pn[o].path),r=Object(V.a)(i),x.logging.logDebug("CodeEditorPage -> handleFileSave -> tabs["+o+"].content !== editor_contents:",pn[o].content!==c),!pn[o].canBeSaved){e.next=45;break}if(s=H(c),!((l=s/1024)>v.quota.storage.max_file_size)){e.next=20;break}return r.size=s,Q(Object(W.a)({code:"SPACE_FILE_SIZE_QUOTA_EXCEEDED"},Mo)),e.abrupt("return",Promise.reject());case 20:if(!(v.usage.storage.amount+l>v.quota.storage.amount)){e.next=24;break}return r.size=s,Q(Object(W.a)({code:"TOTAL_STORAGE_AMOUNT_QUOTA_EXCEEDED"},Mo)),e.abrupt("return",Promise.reject());case 24:return Rt(!0),_t("Saving..."),e.next=28,Object(x.fetchSpaces)({url:"/files",method:"POST",data:{action:"updateContents",file:{path:r.path,contents:c},_out_of_quota:v.usage_status._out_of_quota}});case 28:if(d=e.sent,x.logging.logDebug("CodeEditorPage -> file_update_req_res: ",d),"undefined"!==typeof d.data._update_main_state&&Q(Object(G.q)(d.data._update_main_state)),"undefined"!==typeof d.data._update_space&&null!==d.data._update_space&&Q(Object(G.r)(d.data._update_space)),"0"===d.error.code){e.next=37;break}return Rt(!1),ii(!0),Oc(d.error,Mo),e.abrupt("return",Promise.reject());case 37:return r.contents=c,r.size=s,pn[o].content=c,pn[o].canBeSaved=!1,pn[o].loading=!1,Rt(!1),ii(!0),e.abrupt("return",Promise.resolve());case 45:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),[On,Q,Mo,ci,Lo,ii,Oc,jt,v.quota.storage.amount,v.quota.storage.max_file_size,v.usage.storage.amount,v.usage_status._out_of_quota,pn]),si=Object(s.useCallback)((function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];x.logging.logDebug("CodeEditorPage -> refreshPreview -> noSave: ",t),Ht(!0),t||nn!==S.b.NONE||ai(null,S.b.VERTICAL);try{pn[On].canBeSaved&&!t?ri(e).then((function(){Wt(!0)})):Wt(!0)}catch(n){Ht(!1)}}),[On,nn,ri,ai,pn]),li=Object(s.useCallback)((function(e){x.logging.logDebug("CodeEditorPage -> setNewActiveTab -> displayPreview:",nn),gn(e),nn!==S.b.NONE?si(null,!0):wo&&pn.length>e&&kc(pn[e].content)}),[kc,nn,wo,si,pn]),di=Object(s.useCallback)(function(){var e=Object(o.a)(Object(a.a)().mark((function e(t){var n,o,c,r,s,l=arguments;return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=l.length>1&&void 0!==l[1]&&l[1],x.logging.logDebug("CodeEditorPage -> fetchFileContents -> getPreviewFile: ",n),o={name:t.base_name,path:t.path,content:"",editorContent:"",language:"",canBeSaved:!1,loading:!0,timestamp:0},jn([].concat(Object(i.a)(pn),[o])),e.next=6,E.m(t,v);case 6:if(c=e.sent,x.logging.logDebug("CodeEditorPage -> fetchFileContents -> FileUtil.getSignedFilePreviewUrlResponse -> file_signed_url_req_res: ",c),"undefined"!==typeof(r=c.data)._update_main_state&&Q(Object(G.q)(r._update_main_state)),"undefined"!==typeof r._update_space&&null!==r._update_space&&Q(Object(G.r)(r._update_space)),"0"===c.error.code){e.next=14;break}return Oc(c.error,t),e.abrupt("return",Promise.reject());case 14:return e.next=16,Object(x.fetch)({method:"GET",url:c.data.url,authenticated:!1});case 16:if("0"===(s=e.sent).error.code){e.next=20;break}return Oc(s.error,t),e.abrupt("return",Promise.reject());case 20:return"application/json"===t.mime_type?o.content=JSON.stringify(s.data,null,4):(o.content=s.data.toString(),0===o.content.length&&(o.content=" ")),o.editorContent=o.content,o.loading=!1,n?Na.current=o.content:(o.language=Dt[t.extension]||"plaintext",li(pn.length),wo&&Oo(Pc(o.content)),$t(!0)),e.abrupt("return",Promise.resolve());case 25:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[Q,Pc,Oc,wo,v,li,pn]),ui=Object(s.useCallback)((function(e){if(!ce.current.previewWithRequestsCountOn||On<0)return 0;var t=(new Date).getTime()-pn[On].timestamp,n=0,a=1e3*e;return t<=a&&(n=a-t),n}),[On,pn]),bi=function(){oe(Object(c.a)(Object(c.a)({},ue.b),{},{show:!0,title:"Admin",size:"fullscreen",displayOk:!1,displayCancel:!1,scrollable:!0,children:Object(I.jsx)(s.Suspense,{fallback:Object(I.jsx)(Ie.a,{}),children:Object(I.jsx)(It,{})})}))};function _i(){pa(!1),Da(!1)}function fi(e){return pi.apply(this,arguments)}function pi(){return(pi=Object(o.a)(Object(a.a)().mark((function e(t){var n,o,c;return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!((n="number"===typeof t?t:pn.findIndex((function(e){return!0===e.canBeSaved})))>-1)){e.next=21;break}if(!Ma){e.next=10;break}return Sn.current=!0,e.next=6,ri(void 0,n);case 6:(o=pn.findIndex((function(e){return!0===e.canBeSaved})))>-1?fi(o):(_i(),localStorage.removeItem("code_editor.iscrollpos"),mi("onSaveContent"),Sn.current=!1,$.push("/space/".concat(L))),e.next=19;break;case 10:if(!La.current){e.next=18;break}return c=pn.findIndex((function(e){return e.path===La.current.path})),e.next=14,ri(void 0,c);case 14:Ec(La.current.path),_i(),e.next=19;break;case 18:_i();case 19:e.next=22;break;case 21:_i();case 22:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var ji=Object(s.useRef)(),mi=Object(s.useCallback)((function(e){z&&(F!==S.d.REACT&&F!==S.d.VUE||x.logging.logDebug("CodeEditorPage -> "+e+" -> closeDynamicDevServer -> BUILD AND CLOSE SERVER NEEDS TO BE CALLED HERE"))}),[z,F]);Object(s.useEffect)((function(){ve&&re.current&&ni()}),[re,ni,ve]),Object(s.useEffect)((function(){da&&(si(null,!0),ua(!1))}),[da,si]),Object(s.useEffect)((function(){Xo&&(Jo(!1),nn!==S.b.NONE&&si(void 0,!0))}),[nn,si,Xo]),Object(s.useEffect)((function(){On>-1&&St(!1)}),[On]),Object(s.useEffect)((function(){if(eo&&Mo){x.logging.logDebug("CodeEditorPage -> loadFileContent useEffect hook -> file:",Mo),to(!1),St(!0),_t("Loading file...");var e=pn.findIndex((function(e){return e.path===Mo.path}));-1===e?di(Object(V.a)(Mo)):(li(e),St(!1))}}),[di,Mo,eo,Fo,li,pn]),Object(s.useEffect)((function(){function e(e){var t,n;e?(t=yt.a.container_fluid_override,n="container-fluid"):(n=yt.a.container_fluid_override,t="container-fluid");var a=document.querySelector("."+n);null===a||void 0===a||a.classList.add(t),null===a||void 0===a||a.classList.remove(n)}return e(!0),document.body.classList.add("code-editor-modal-body-wrp"),Q(Object(G.i)(!1)),Q(Object(G.j)(!1)),function(){e(!1),document.body.classList.remove("code-editor-modal-body-wrp")}}),[]),Object(s.useEffect)((function(){if(Object(q.d)(),En){var e=0;kn&&(e+=1),Rn&&(e+=1),In&&(e+=1),e>1&&In?(Ln(!1),Fn(!1)):e>1&&kn&&Fn(!1)}}),[kn,En,Rn,In]);var hi=Object(s.useCallback)((function(e){var t=window.screen;window.innerWidth<=q.a.medium&&(0===t.orientation.angle||180===t.orientation.angle)&&(nn!==S.b.NONE&&Qo(S.b.NONE),wn&&$o(void 0,!1)),oa(window.innerWidth>q.a.medium)}),[nn,wn,Qo,$o]);return Object(s.useEffect)((function(){return window.addEventListener("resize",oi),window.addEventListener("orientationchange",hi),function(){window.removeEventListener("resize",oi),window.removeEventListener("orientationchange",hi)}}),[]),Object(s.useEffect)((function(){if(qt){x.logging.logDebug("CodeEditorPage -> reloadIframeContent effect hook"),Wt(!1);var e=re.current,t=wo||po.current?0:ui(16);Ba.current&&(clearTimeout(Ba.current),Ba.current=null,za.current&&(clearTimeout(za.current),za.current=null),fo(void 0)),n=!1,x.logging.logDebug("CodeEditorPage -> reloadIframeContent effect hook -> setMyTimeout -> timer:",t),za.current&&(clearTimeout(za.current),za.current=null),t>0&&fo(Math.ceil(t/1e3)),Ba.current=setTimeout((function(){ni(e),za.current&&(clearTimeout(za.current),za.current=null),fo(void 0),On>-1&&(pn[On].timestamp=(new Date).getTime()),Ba.current=null,n&&Ht(!1)}),t)}var n}),[On,di,ui,Nc,wo,Fo,re,qt,ni,pn]),Object(s.useEffect)((function(){nn===S.b.NONE?sn(Oe.Left):nn===S.b.VERTICAL?sn(Oe.Center):sn(Oe.Right)}),[nn]),Object(s.useEffect)((function(){Et||Lt||_t("Loading...")}),[Et,Lt]),Object(s.useEffect)((function(){function e(e){return e.returnValue=!0,!0}return Bt?window.addEventListener("beforeunload",e):window.removeEventListener("beforeunload",e),function(){window.removeEventListener("beforeunload",e)}}),[Bt]),Object(s.useEffect)((function(){function e(e){Bt?(window.history.pushState(null,document.title,window.location.href),ya.current=-1,Da(!0),pa(!0)):(mi("popstate -> me_popState"),$.push("/space/".concat(L)))}return window.history.pushState(null,document.title,window.location.href),window.addEventListener("popstate",e),function(){window.removeEventListener("popstate",e)}}),[mi,Bt,$,L]),Mo||v.editor_content.file_path||-2!==On?Object(I.jsxs)("div",{className:"code_editor_page "+yt.a.code_editor_page,children:[Object(I.jsx)(Te,{children:{left:Object(I.jsxs)("div",{className:yt.a.left_header_group,children:[Object(I.jsx)(k.a,{text:"Back to files",placement:"bottom-start",children:Object(I.jsx)(w.a,{text:"",handleOnClick:function(e,t){x.logging.logDebug("CodeEditorPage -> clickBackToFiles -> myHistory",t),pn.findIndex((function(e){return!0===e.canBeSaved}))>-1?(La.current=void 0,ya.current=-1,Da(!0),pa(!0)):(localStorage.removeItem("code_editor.iscrollpos"),mi("clickBackToFiles"),t.push("/space/".concat(L)))}})}),Object(I.jsx)($e.b,{className:yt.a.tech_icon,title:L,showIcon:!0,showDot:!0,spaceState:R,iconType:B,size:$e.a.Medium}),Object(I.jsxs)("div",{className:yt.a.action_wrapper,children:[Object(I.jsxs)("button",{className:yt.a.action_btns+" "+yt.a.buttons_preview_editor,disabled:Et||Lt||Go,onClick:function(){window.open(ha,"_blank","noreferrer")},children:[Object(I.jsx)(d.a,{}),"Preview"]}),Object(I.jsxs)("button",{className:"".concat(yt.a.action_btns," ").concat(yt.a.save_btn),disabled:Lt||Et||!(On>-1&&pn[On].canBeSaved),onClick:ri,children:[Lt?Object(I.jsx)(x.Spinner,{size:"small"}):Object(I.jsx)(u.a,{}),Lt?"Saving":pn&&On>-1&&pn[On].canBeSaved?"Save":"Saved"]}),!z&&Object(I.jsx)(k.a,{text:"Save and run code in preview.",placement:"bottom-start",children:Object(I.jsxs)("button",{className:"".concat(yt.a.action_btns," ").concat(yt.a.run_btn),disabled:rc,onClick:si,children:[Object(I.jsx)(b.a,{}),"Run"]})})]})]}),center:Object(I.jsx)(Pe,{className:yt.a.button_group,tooltipLeft:"No preview",tooltipCenter:"Vertical preview",tooltipRight:"Horizontal preview",activeButton:rn,onClickButton:function(e){e===Oe.Left?ai(void 0,S.b.NONE):e===Oe.Center?ai(void 0,S.b.VERTICAL):ai(void 0,S.b.HORIZONTAL)},disabled:Et||Lt||Vt||lt||0===pn.length}),right:En?Object(I.jsx)(I.Fragment,{}):Object(I.jsxs)(I.Fragment,{children:[z&&Object(I.jsx)(Se,{disabled:Et||Lt||Vt||lt||Wn,placement:"bottom-end",tooltip:"Terminal",selected:In,onClick:function(){return Mn(!In)},className:yt.a.action_btn_svg_size,children:Object(I.jsx)(_.a,{className:Hn?yt.a.color_green:""})}),z&&Object(I.jsxs)(Se,{disabled:Et||Lt||Vt||lt,placement:"bottom-end",tooltip:"Logs",selected:kn,onClick:function(){return Ln(!kn)},className:yt.a.action_btn_svg_size,children:[Object(I.jsx)(f.a,{}),zn&&Object(I.jsx)("svg",{className:"".concat(yt.a.display_log_dot).concat(kn?"":" ".concat(yt.a.not_selected)),viewBox:"0 0 64 64",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:Object(I.jsx)("circle",{cx:"12",cy:"12",r:"12"})})]}),Object(I.jsx)(Se,{disabled:Et||Lt||Vt||lt,placement:"bottom-center",tooltip:"Status",selected:Rn,onClick:function(){return Fn(!Rn)},className:yt.a.action_btn_svg_size,children:Object(I.jsx)(p.a,{})}),Object(I.jsx)(Se,{disabled:Et||Lt||Vt||lt,placement:"bottom-center",tooltip:"Keyboard shortcuts",onClick:function(){oe(Object(c.a)(Object(c.a)({},ue.b),{},{show:!0,title:"Keyboard shortcuts",size:"lg",displayOk:!1,displayCancel:!1,scrollable:!0,children:Object(I.jsx)(s.Suspense,{fallback:Object(I.jsx)(Ie.a,{}),children:Object(I.jsx)(Mt,{})})}))},className:yt.a.action_btn_svg_size,children:Object(I.jsx)(j.a,{})}),Object(I.jsx)(Se,{disabled:Et||Lt||Vt||lt,placement:"bottom-end",tooltip:"How to library",onClick:function(){oe(Object(c.a)(Object(c.a)({},ue.b),{},{show:!0,title:"How To Library",size:"lg",displayOk:!1,displayCancel:!1,scrollable:!0,children:Object(I.jsx)(s.Suspense,{fallback:Object(I.jsx)(Ie.a,{}),children:Object(I.jsx)(Tt,{})})}))},className:yt.a.action_btn_svg_size,children:Object(I.jsx)(m.a,{})}),z&&Object(I.jsx)(Se,{disabled:Et||Lt||Vt||lt,placement:"bottom-end",tooltip:"Admin",onClick:bi,className:yt.a.action_btn_svg_size,children:Object(I.jsx)(h.a,{})})]})}}),Object(I.jsxs)("div",{className:yt.a.body,children:[Object(I.jsx)(ge,{displayPreview:nn,openPanel:wn,disabled:Et||Lt||Vt,panelItem:hc,toggleOpenPanel:$o,contentClassName:yt.a.panel_content,className:"".concat(En?yt.a.left_panel:"").concat(En&&Wa===Be.a.Files?" ".concat(yt.a.display):""),mobileView:En}),Object(I.jsxs)("div",{className:yt.a.code_editor+(nn===S.b.HORIZONTAL?" "+yt.a.preview_horizontal:""),children:[Object(I.jsx)(Y,{className:yt.a.editor_group+(nn===S.b.HORIZONTAL?" "+yt.a.preview_horizontal:""),activeTab:On,disabled:Et||Lt,tabs:pn,displayPreviewMarkdown:wo&&!No,displayDiffEditor:!1,onClickTab:gc,onCloseTab:Sc,editor:{disabled:Et||Lt,onSave:ri,onChangedContents:ii,resetContent:Fa,closeModelPath:wc,onModelClosed:function(){Ec(void 0);var e=pn.findIndex((function(e){return e.path===wc})),t=Object(i.a)(pn);if(t.splice(e,1),t.length>0){var n=On;On===e?n=e<=t.length&&e>0?e-1:0:On>e&&(n=On-1),jn(t);var a=t.findIndex((function(e){return!0===e.canBeSaved}));zt(a>-1),lc(t[n].path),li(n)}else jn([]),zt(!1),lc(""),li(-1),nn!==S.b.NONE&&an(S.b.NONE)},contentHasBeenReset:function(e){if(La.current){x.logging.logDebug("CodeEditorPage -> editorContentHasBeenReset -> value",e),Ua(!1),pn[On].content=e,pn[On].editorContent=e,pn[On].canBeSaved=!1;var t=pn.findIndex((function(e){return!0===e.canBeSaved}));zt(t>-1),lc(La.current.path),_i()}},toggleTheme:ec,mardownProps:{code:ho,preview:wo&&!No,disable:Et||Lt||Vt,onClick:function(e){ko(!No),No?(si(e,!0),Pa(ji.current||"")):(ji.current=Sa,yo(Mo))}},editorProps:{defaultLanguage:pn&&On>-1?pn[On].language:"",value:pn&&On>-1?pn[On].editorContent:" ",defaultValue:pn&&On>-1?pn[On].content:" ",path:pn&&On>-1?pn[On].path:void 0,theme:un,onMount:function(e,t){if(x.logging.logDebug("CodeEditorPage -> handleEditorDidMount -> instantiated:",jt),!jt){var n=window.innerWidth<=q.a.medium?S.b.NONE:localStorage.getItem("code_editor.preview");n&&ai(null,n),mt(!0),St(!1),wn||$o(void 0,!0)}ka.current=e}},mobileViewElementDisplayed:Wa},diffEditor:{toggleTheme:ec,diffEditorProps:{language:pn&&On>-1?pn[On].language:"",modified:Ga,original:pn&&On>-1?pn[On].content:"",theme:un,options:{renderSideBySide:aa},onMount:function(e,t){x.logging.logDebug("CodeEditorPage -> handleDiffEditorDidMount -> diffInstantiated:",vt),vt||($o(void 0,!1),Ct(!0),St(!1))}}}}),!lt&&!En&&Qt&&Object(I.jsx)(le,{display:nn!==S.b.NONE,refPreviewPane:ie,refIframe:re,disabled:Et||Lt||wo&&!No,enableOverrideExternal:wo&&!No,loading:Vt,orientation:nn,urlDisplayed:Sa,displayMarkdown:wo&&No,markdownCode:ho,externalURL:ha,calculateSize:!1,displayError:Go,displayErrorBody:Ko,handleTransitionEnd:function(e){var t,n,a=document.getElementsByClassName(yt.a.panel_content)[0].clientWidth,o=(null===(t=ie.current)||void 0===t?void 0:t.style.width)||(null===(n=ie.current)||void 0===n?void 0:n.clientWidth)||0;"string"===typeof o&&(o=o.substring(0,o.length-2)),wn&&nn===S.b.VERTICAL&&Number(o)+a+110>=window.innerWidth&&$o(e,!1)},handleRefresh:function(e){return si(e,!0)},handleMouseMoveResizer:function(e,t){var n=document.getElementsByClassName(yt.a.panel_content)[0].clientWidth;nn===S.b.VERTICAL&&wn&&n+t+50>window.innerWidth&&$o(e,!1)},handleMounted:function(){x.logging.logDebug("CodeEditorPage -> previewMounted -> iFrameFirstTimeLoaded.current",Ya.current),Ya.current?Go&&Ht(!1):(On>-1&&(pn[On].timestamp=(new Date).getTime()),Ya.current=!0)},handleOnIframeLoaded:function(e){x.logging.logDebug("CodeEditorPage -> onIframeLoaded -> isLoadingRefresh",Vt),Vt&&(po.current=!1,Ht(!1),za.current&&(clearTimeout(za.current),za.current=null,fo(void 0)))},loadingChild:_o?Object(I.jsxs)("div",{className:yt.a.loading_timer_text,children:["Your preview will be ready in ",Object(I.jsx)("strong",{children:_o})," ",1===_o?"second.":"seconds."]}):void 0,loadingText:bt,getId:function(e){Ja.current=e}})]})]}),Object(I.jsx)(Ue,{disabled:Et||Lt||Vt,displayLogs:kn,displayStatus:Rn,spaceId:L,displayTerminal:In,className:"".concat(yt.a.bottom_panel).concat($n?" ".concat(yt.a.display_bottom_panel):""),id:"Code-editor-bottom-panel",onClickClose:function(e){switch(e){case"log":Ln(!1);break;case"status":Fn(!1);break;case"terminal":Mn(!1)}Xa(Be.a.CodeEditor)},handleMouseDownResizer:function(){nn===S.b.HORIZONTAL&&(document.getElementById(Ja.current).style.display="none")},handleMouseUpResizer:function(){nn===S.b.HORIZONTAL&&(document.getElementById(Ja.current).style.display="flex")},onTerminalConnected:function(e){Xn(!1),Gn(e)},onLogsConnected:function(e){Kn(e)}}),En&&Object(I.jsx)(Be.b,{disabled:Et||Lt||Wn,isDynamicSpace:z,activeItem:Wa,terminalIsConnected:Hn,logsIsConnected:zn,onClickItem:function(e){switch(Xa(e),Fn(!1),Ln(!1),Mn(!1),e){case Be.a.Status:Fn(!0);break;case Be.a.Log:Ln(!0);break;case Be.a.Terminal:Mn(!0);break;case Be.a.Admin:bi()}}}),!En&&Object(I.jsx)("div",{className:yt.a.footer,children:Object(I.jsx)(ee,{list:ca})}),!!so&&Object(I.jsx)(fe.a,{show:!0,close:function(){lo(void 0)},file:so}),Object(I.jsx)(Ge.a,{show:ct,close:function(){it(!1)},space:D,spaceId:L,active_path:ia.current,spaceVariantType:F,spaceTechnology:B}),D&&D.folders&&Object(I.jsxs)(I.Fragment,{children:[Object(I.jsx)(Ze.a,{show:tt,close:function(){nt(!1)},path:ia.current,spaceId:L,existingFolders:D.folders,defaultName:Object(qe.g)(ia.current,D.folders)}),Object(I.jsx)(Je.a,{show:Ee,close:function(){Ne(!1),je(!0)},files:[ra.current],spaceId:L,space_folders:D.folders,active_path:ia.current,removeCreateNewFolder:!0})]}),Object(I.jsx)(We.a,{show:Re,close:function(){Fe(!1),je(!0)},file:ra.current,spaceId:L,active_path:ia.current}),Object(I.jsx)(Xe.a,{show:ye,onDeleteSuccess:function(e){var t=pn.findIndex((function(t){return t.path===e.path}));t>-1&&(pn[t].canBeSaved=!1,Sc(t))},close:function(){Me(!1)},file:ra.current,spaceId:L}),Object(I.jsx)(be,{show:fa,loading:Lt,index:ya.current,onCancelClicked:_i,onNoSaveClicked:function(){Ma?(_i(),localStorage.removeItem("code_editor.iscrollpos"),mi("onNoSaveContent"),$.push("/space/".concat(L))):ya.current>-1?(Ec(pn[ya.current].path),ya.current=-1,_i()):(ya.current=-1,_i())},onSaveClicked:fi}),Object(I.jsx)(ue.a,{show:ae.show,title:ae.title,size:ae.size,disabled:Et||Lt,displayOk:ae.displayOk,displayCancel:ae.displayCancel,scrollable:ae.scrollable,handleClose:function(){oe(Object(c.a)({},ue.b))},children:ae.children})]}):v&&v.spaces&&0!==v.spaces.length?Object(I.jsx)(O.a,{to:"/space/".concat(L)}):Object(I.jsx)(O.a,{to:"/"})}},656:function(e,t,n){"use strict";var a=n(26),o=n(1),c=n(16),i=n(1116),r=n.n(i),s=n(3);t.a=function(e){var t=e.orientation,n=void 0===t?c.b.VERTICAL:t,i=e.position,l=void 0===i?"positionStart":i,d=e.disabled,u=void 0!==d&&d,b=e.id,_=e.className,f=e.refElement,p=e.onMove,j=e.handleMouseDownResizer,m=e.handleMouseUpResizer,h=e.handleMouseMoveResizer,O=Object(o.useState)(0),g=Object(a.a)(O,2),v=g[0],C=g[1],w=Object(o.useState)(0),x=Object(a.a)(w,2),E=x[0],S=x[1],P=Object(o.useState)(!1),N=Object(a.a)(P,2),k=N[0],L=N[1],y=Object(o.useMemo)((function(){return n===c.b.NONE?c.b.VERTICAL:n}),[n]),T=Object(o.useRef)({width:0,height:0,x:0,y:0}),I=Object(o.useRef)(null),M=Object(o.useCallback)((function(e){var t,n=document.getElementById(null===(t=f.current)||void 0===t?void 0:t.id),a=0;if(n&&T.current&&e){if(y===c.b.HORIZONTAL){var o=0;e.clientY&&e.clientY>0?o=e.clientY:e.targetTouches&&e.targetTouches.length>0&&(o=e.targetTouches[0].clientY);var i=T.current.height-(o-("positionEnd"===l?-1:1)*T.current.y);i&&n.style&&(a=Math.abs(i),n.style.height=a+"px")}else{var r=0;e.clientX&&e.clientX>0?r=e.clientX:e.targetTouches&&e.targetTouches.length>0&&(r=e.targetTouches[0].clientX);var s=T.current.width-(r-("positionEnd"===l?-1:1)*T.current.x);s&&n.style&&(a=Math.abs(s),n.style.width=a+"px")}h&&h(e,a)}}),[f,y,h,l]),D=Object(o.useCallback)((function(e){e.preventDefault(),e.stopPropagation(),m&&m(e),document.removeEventListener("mouseup",D),document.removeEventListener("mousemove",M),document.removeEventListener("touchmove",M),document.removeEventListener("touchend",D),L(!1)}),[m,M]),A=Object(o.useCallback)((function(e){var t,n;(e.preventDefault(),e.stopPropagation(),u)||(j&&j(e),T.current.width=(null===(t=f.current)||void 0===t?void 0:t.clientWidth)||0,T.current.height=(null===(n=f.current)||void 0===n?void 0:n.clientHeight)||0,T.current.x=e.clientX||e.targetTouches[0].clientX,T.current.y=e.clientY||e.targetTouches[0].clientY,document.addEventListener("mousemove",M),document.addEventListener("mouseup",D),document.addEventListener("touchmove",M),document.addEventListener("touchend",D),L(!0))}),[u,j,D,f,M]);return Object(o.useEffect)((function(){return I.current=new ResizeObserver((function(e){C(Math.round(e[0].contentRect.width)),S(Math.round(e[0].contentRect.height))})),f.current&&I.current&&I.current.observe(f.current),function(){I.current&&I.current.disconnect(),document.removeEventListener("mouseup",D),document.removeEventListener("mousemove",M),document.removeEventListener("touchmove",M),document.removeEventListener("touchend",D)}}),[D,f,M]),Object(o.useEffect)((function(){"function"===typeof p&&p({width:v,height:E,move:k})}),[E,k,p,v]),Object(s.jsx)("div",{id:b,className:r.a.wrapper+(y===c.b.HORIZONTAL?" "+r.a.horizontal:"")+("positionEnd"===l?" "+r.a.position_end:" "+r.a.position_start)+(u?" "+r.a.disabled:"")+(_?" "+_:""),onMouseDown:A,onTouchStart:A,children:Object(s.jsx)("div",{className:k?r.a.opacity_100:""})})}},707:function(e,t,n){"use strict";var a=n(26),o=n(1),c=n(3);t.a=function(e){var t=Object(o.useState)(e.fill?e.fill:"#282a35"),n=Object(a.a)(t,2),i=n[0],r=n[1];return Object(o.useEffect)((function(){r(e.fill||"#282a35")}),[e.fill]),Object(c.jsx)("div",{className:e.className,children:Object(c.jsx)("svg",{"aria-hidden":"true",focusable:"false","data-prefix":"fas","data-icon":"lock",className:"svg-inline--fa fa-lock fa-w-14",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512",children:Object(c.jsx)("path",{fill:i,d:"M400 224h-24v-72C376 68.2 307.8 0 224 0S72 68.2 72 152v72H48c-26.5 0-48 21.5-48 48v192c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V272c0-26.5-21.5-48-48-48zm-104 0H152v-72c0-39.7 32.3-72 72-72s72 32.3 72 72v72z"})})})}},715:function(e,t,n){"use strict";n.d(t,"a",(function(){return O}));var a,o=n(9),c=n(26),i=n(1),r=n.n(i),s=n(780),l=n(813),d=n(732),u=n(5),b=n(733),_=["title","titleId"];function f(){return f=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},f.apply(this,arguments)}function p(e,t){if(null==e)return{};var n,a,o=function(e,t){if(null==e)return{};var n,a,o={},c=Object.keys(e);for(a=0;a<c.length;a++)n=c[a],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(a=0;a<c.length;a++)n=c[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function j(e,t){var n=e.title,o=e.titleId,c=p(e,_);return i.createElement("svg",f({width:9,height:9,viewBox:"0 0 9 9",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":o},c),n?i.createElement("title",{id:o},n):null,a||(a=i.createElement("path",{d:"M5.11066 1.6391L7.36102 3.88945L2.47447 8.77599L0.468106 8.99748C0.199512 9.02718 -0.0274217 8.80007 0.00246111 8.53148L0.225703 6.52371L5.11066 1.6391V1.6391ZM8.75285 1.30406L7.69623 0.247437C7.36664 -0.0821533 6.83209 -0.0821533 6.5025 0.247437L5.50846 1.24148L7.75881 3.49183L8.75285 2.49779C9.08244 2.16802 9.08244 1.63365 8.75285 1.30406V1.30406Z",fill:"#282A35"})))}var m=i.forwardRef(j),h=(n.p,n(3));var O,g=function(e){return e.slashed?Object(h.jsx)("svg",{"aria-hidden":"true",focusable:"false","data-prefix":"far","data-icon":"eye-slash",role:"img",xmlns:"http://www.w3.org/2000/svg",width:"15",height:"14",viewBox:"0 0 640 512",children:Object(h.jsx)("path",{fill:"currentColor",d:"M634 471L36 3.51A16 16 0 0 0 13.51 6l-10 12.49A16 16 0 0 0 6 41l598 467.49a16 16 0 0 0 22.49-2.49l10-12.49A16 16 0 0 0 634 471zM296.79 146.47l134.79 105.38C429.36 191.91 380.48 144 320 144a112.26 112.26 0 0 0-23.21 2.47zm46.42 219.07L208.42 260.16C210.65 320.09 259.53 368 320 368a113 113 0 0 0 23.21-2.46zM320 112c98.65 0 189.09 55 237.93 144a285.53 285.53 0 0 1-44 60.2l37.74 29.5a333.7 333.7 0 0 0 52.9-75.11 32.35 32.35 0 0 0 0-29.19C550.29 135.59 442.93 64 320 64c-36.7 0-71.71 7-104.63 18.81l46.41 36.29c18.94-4.3 38.34-7.1 58.22-7.1zm0 288c-98.65 0-189.08-55-237.93-144a285.47 285.47 0 0 1 44.05-60.19l-37.74-29.5a333.6 333.6 0 0 0-52.89 75.1 32.35 32.35 0 0 0 0 29.19C89.72 376.41 197.08 448 320 448c36.7 0 71.71-7.05 104.63-18.81l-46.41-36.28C359.28 397.2 339.89 400 320 400z"})}):Object(h.jsx)("svg",{"aria-hidden":"true",focusable:"false","data-prefix":"far","data-icon":"eye",className:"svg-inline--fa fa-eye fa-w-18",role:"img",xmlns:"http://www.w3.org/2000/svg",width:"15",height:"14",viewBox:"0 0 640 512",children:Object(h.jsx)("path",{fill:"currentColor",d:"M288 144a110.94 110.94 0 0 0-31.24 5 55.4 55.4 0 0 1 7.24 27 56 56 0 0 1-56 56 55.4 55.4 0 0 1-27-7.24A111.71 111.71 0 1 0 288 144zm284.52 97.4C518.29 135.59 410.93 64 288 64S57.68 135.64 3.48 241.41a32.35 32.35 0 0 0 0 29.19C57.71 376.41 165.07 448 288 448s230.32-71.64 284.52-177.41a32.35 32.35 0 0 0 0-29.19zM288 400c-98.65 0-189.09-55-237.93-144C98.91 167 189.34 112 288 112s189.09 55 237.93 144C477.1 345 386.66 400 288 400z"})})},v=(n(755),n(223)),C=n(784),w=r.a.lazy((function(){return n.e(34).then(n.bind(null,1271))}));!function(e){e.LIGHT="light",e.DARK="vs-dark"}(O||(O={}));var x={padding:{top:20,bottom:20},extraEditorClassName:"extraEditorClassName",minimap:{enabled:!1},readOnly:!1,scrollbar:{useShadows:!0,verticalHasArrows:!1,horizontalHasArrows:!1,vertical:"auto",horizontal:"auto",verticalScrollbarSize:10,horizontalScrollbarSize:10,arrowSize:11}},E={height:"100%",width:"100%",defaultLanguage:"javascript",theme:localStorage.getItem("code_editor.theme")||O.LIGHT,defaultValue:" ",path:"",loading:Object(h.jsx)("div",{children:"Loading code..."}),options:x};t.b=function(e){var t=Object(i.useRef)(null),n=Object(i.useRef)(),a=Object(i.useState)(!1),r=Object(c.a)(a,2),_=r[0],f=r[1],p=Object(i.useState)(e.editorProps.path||E.path||""),j=Object(c.a)(p,2),O=j[0],S=j[1],P=Object(i.useState)(e.resetContent||!1),N=Object(c.a)(P,2),k=N[0],L=N[1];Object(i.useEffect)((function(){L(e.resetContent||!1)}),[e.resetContent]);var y=Object(i.useState)(e.mardownProps),T=Object(c.a)(y,2),I=T[0],M=T[1];Object(i.useEffect)((function(){M(Object(o.a)({},e.mardownProps))}),[e.mardownProps]);var D=Object(i.useState)(""),A=Object(c.a)(D,2),R=A[0],F=A[1];Object(i.useEffect)((function(){e.editorProps.defaultValue&&e.editorProps.defaultValue!==R&&F(e.editorProps.defaultValue)}),[R,e.editorProps.defaultValue]);var U=Object(i.useState)(!1),B=Object(c.a)(U,2),z=B[0],K=B[1];Object(i.useEffect)((function(){K(!!e.displayDiffEditor)}),[e.displayDiffEditor]);var Y=Object(i.useState)(!1),V=Object(c.a)(Y,2),H=V[0],G=V[1];Object(i.useEffect)((function(){G(!!e.displayDiffEditor)}),[e.displayDiffEditor]);var Z=Object(i.useState)(!1),q=Object(c.a)(Z,2),W=q[0],X=q[1],J=Object(i.useState)(!1),Q=Object(c.a)(J,2),$=Q[0],ee=Q[1],te=Object(i.useState)(!1),ne=Object(c.a)(te,2),ae=ne[0],oe=ne[1];Object(i.useEffect)((function(){ae&&(oe(!1),e.disabled||e.toggleTheme())}),[e,ae]);var ce=Object(i.useMemo)((function(){return{TOGGLE_DARK_LIGHT_THEME:"alt+t",SAVE:"ctrl+s"}}),[]),ie=Object(i.useCallback)((function(){var n,a,c=null!==(n=e.wordWrap)&&void 0!==n?n:"off",i=null!==(a=e.lineNumbers)&&void 0!==a?a:"on";t.current&&t.current.updateOptions(Object(o.a)(Object(o.a)({},e.editorProps),{},{wordWrap:c,lineNumbers:i}))}),[e.editorProps,e.lineNumbers,e.wordWrap]);Object(i.useEffect)((function(){ie()}),[ie,e.wordWrap,e.lineNumbers]);var re=Object(i.useCallback)((function(t){u.logging.logDebug("Editor -> hotkeyToggleDarkLightTheme"),t&&t.preventDefault(),e.toggleTheme()}),[e]),se=Object(i.useCallback)((function(){var e="";return _&&t.current&&(e=t.current.getValue()),u.logging.logDebug("Editor -> getEditorContents -> returnValue",e),e}),[_]),le=Object(i.useCallback)((function(){e.disabled||(u.logging.logDebug("Editor -> handleSave"),F(se()),e.onSave&&e.onSave(t.current))}),[se,e]),de=Object(i.useCallback)((function(e){e&&e.preventDefault(),u.logging.logDebug("Editor -> hotKeyHandleSave"),le()}),[le]),ue=Object(i.useMemo)((function(){return{TOGGLE_DARK_LIGHT_THEME:re,SAVE:de}}),[de,re]),be=Object(i.useCallback)((function(){var t=se(),n=R===t;u.logging.logDebug("Editor -> onEditorChange -> [sameAsCached, currentContents]",n,t),e.onChangedContents&&e.onChangedContents(n,t)}),[R,se,e]),_e=function(e){e.stopPropagation(),e.preventDefault()},fe=Object(i.useRef)(),pe=Object(i.useState)(!1),je=Object(c.a)(pe,2),me=je[0],he=je[1];return Object(i.useEffect)((function(){if(me&&n.current){var a,o=null===(a=n.current)||void 0===a?void 0:a.editor.getModels(),c=o.findIndex((function(t){return t.uri.path==="/".concat(e.closeModelPath)}));u.logging.logDebug("Editor -> hook for disposeModel -> [editorRef.current, monacoRef.current, models, modelIndex]",t.current,n.current,o,c),c>-1&&(o[c].dispose(),fe.current&&(S(fe.current),fe.current=void 0)),e.onModelClosed&&e.onModelClosed(),he(!1)}}),[me,e]),Object(i.useEffect)((function(){!me&&"string"===typeof e.closeModelPath&&e.closeModelPath.length>0&&(fe.current=O!==e.closeModelPath?O:void 0,he(!0))}),[me,O,e.closeModelPath]),Object(i.useEffect)((function(){$&&(ee(!1),be())}),[be,$]),Object(i.useEffect)((function(){W&&(X(!1),le())}),[le,W]),Object(i.useEffect)((function(){e.editorProps.path&&e.editorProps.path!==O&&(F(e.editorProps.defaultValue||""),S(e.editorProps.path||""))}),[O,e.editorProps.defaultValue,e.editorProps.path]),Object(i.useEffect)((function(){k&&(L(!1),t.current&&t.current.setValue(R),e.contentHasBeenReset&&e.contentHasBeenReset(R))}),[R,e,k]),Object(i.useEffect)((function(){ie()}),[ie,e.editorProps,e.editorProps.options]),Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(l.GlobalHotKeys,{keyMap:ce,handlers:ue}),Object(h.jsxs)("div",{className:"CodeEditor-container"+(H?" editor_display_double_editor":""),children:[z&&Object(h.jsx)(i.Suspense,{fallback:Object(h.jsx)(v.a,{}),children:Object(h.jsx)(w,Object(o.a)({},e.diffEditor))}),H&&Object(h.jsx)(s.b,Object(o.a)(Object(o.a)(Object(o.a)({className:"editor_left"},E),e.editorProps),{},{value:e.diffEditor.diffEditorProps.original,defaultValue:e.diffEditor.diffEditorProps.original,path:"original_Item",options:Object(o.a)(Object(o.a)({},x),{},{readOnly:!0}),onMount:void 0})),Object(h.jsx)(s.b,Object(o.a)(Object(o.a)(Object(o.a)({className:z?" d-none":""},E),e.editorProps),{},{onMount:function(a,o){u.logging.logDebug("Editor -> handleEditorDidMount -> instantiated",_),_||(f(!0),a.addAction({id:"TOGGLE_DARK_LIGHT_THEME",label:"Toggle dark/light theme",precondition:void 0,keybindingContext:void 0,contextMenuGroupId:"navigation",contextMenuOrder:1.5,keybindings:[d.b.Alt|d.a.KEY_T],run:function(e){u.logging.logDebug('Editor -> handleEditorDidMount -> editor.addAction({id: "TOGGLE_DARK_LIGHT_THEME") -> run'),oe(!0)}}),a.addAction({id:"SAVE",label:"Save",keybindings:[d.b.CtrlCmd|d.a.KEY_S],run:function(e){u.logging.logDebug('Editor -> handleEditorDidMount -> editor.addAction({id: "SAVE") -> run'),X(!0)}}),a.onDidChangeModelContent((function(){u.logging.logDebug("Editor -> handleEditorDidMount -> onDidChangeModelContent"),ee(!0)})),a.onDidDispose((function(){u.logging.logDebug("Editor -> handleEditorDidMount -> onDidDispose")})),t.current=a,n.current=o,e.editorProps.onMount&&e.editorProps.onMount(a,o))},beforeMount:function(e){u.logging.logDebug("Editor -> handleEditorBeforeMount -> monaco",e)}})),!!I&&!!I.preview&&!!I.code&&Object(h.jsx)(b.a,{className:"code_editor_markdown"+(I.className?" "+I.className:""),code:I.code}),e.disabled&&Object(h.jsx)("div",{className:"disable_editor",onClick:_e,onMouseDown:_e,onMouseUp:_e,onKeyDown:_e,onKeyUp:_e,onScroll:_e})]}),!!I&&!!I.code&&e.mobileViewElementDisplayed===C.a.CodeEditor&&Object(h.jsx)("div",{className:"edit_markdown_group",children:Object(h.jsxs)("div",{className:"edit_markdown_button"+(I.disable?" disabled":""),onClick:I.onClick,children:[I.preview?"Edit markdown":"Preview markdown",I.preview?Object(h.jsx)(m,{className:"code_editor_pencil_icon"}):Object(h.jsx)(g,{slashed:!1})]})})]})}},732:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return i}));var a,o=n(211),c=n(210);!function(e){e[e.Unknown=0]="Unknown",e[e.Backspace=1]="Backspace",e[e.Tab=2]="Tab",e[e.Enter=3]="Enter",e[e.Shift=4]="Shift",e[e.Ctrl=5]="Ctrl",e[e.Alt=6]="Alt",e[e.PauseBreak=7]="PauseBreak",e[e.CapsLock=8]="CapsLock",e[e.Escape=9]="Escape",e[e.Space=10]="Space",e[e.PageUp=11]="PageUp",e[e.PageDown=12]="PageDown",e[e.End=13]="End",e[e.Home=14]="Home",e[e.LeftArrow=15]="LeftArrow",e[e.UpArrow=16]="UpArrow",e[e.RightArrow=17]="RightArrow",e[e.DownArrow=18]="DownArrow",e[e.Insert=19]="Insert",e[e.Delete=20]="Delete",e[e.KEY_0=21]="KEY_0",e[e.KEY_1=22]="KEY_1",e[e.KEY_2=23]="KEY_2",e[e.KEY_3=24]="KEY_3",e[e.KEY_4=25]="KEY_4",e[e.KEY_5=26]="KEY_5",e[e.KEY_6=27]="KEY_6",e[e.KEY_7=28]="KEY_7",e[e.KEY_8=29]="KEY_8",e[e.KEY_9=30]="KEY_9",e[e.KEY_A=31]="KEY_A",e[e.KEY_B=32]="KEY_B",e[e.KEY_C=33]="KEY_C",e[e.KEY_D=34]="KEY_D",e[e.KEY_E=35]="KEY_E",e[e.KEY_F=36]="KEY_F",e[e.KEY_G=37]="KEY_G",e[e.KEY_H=38]="KEY_H",e[e.KEY_I=39]="KEY_I",e[e.KEY_J=40]="KEY_J",e[e.KEY_K=41]="KEY_K",e[e.KEY_L=42]="KEY_L",e[e.KEY_M=43]="KEY_M",e[e.KEY_N=44]="KEY_N",e[e.KEY_O=45]="KEY_O",e[e.KEY_P=46]="KEY_P",e[e.KEY_Q=47]="KEY_Q",e[e.KEY_R=48]="KEY_R",e[e.KEY_S=49]="KEY_S",e[e.KEY_T=50]="KEY_T",e[e.KEY_U=51]="KEY_U",e[e.KEY_V=52]="KEY_V",e[e.KEY_W=53]="KEY_W",e[e.KEY_X=54]="KEY_X",e[e.KEY_Y=55]="KEY_Y",e[e.KEY_Z=56]="KEY_Z",e[e.Meta=57]="Meta",e[e.ContextMenu=58]="ContextMenu",e[e.F1=59]="F1",e[e.F2=60]="F2",e[e.F3=61]="F3",e[e.F4=62]="F4",e[e.F5=63]="F5",e[e.F6=64]="F6",e[e.F7=65]="F7",e[e.F8=66]="F8",e[e.F9=67]="F9",e[e.F10=68]="F10",e[e.F11=69]="F11",e[e.F12=70]="F12",e[e.F13=71]="F13",e[e.F14=72]="F14",e[e.F15=73]="F15",e[e.F16=74]="F16",e[e.F17=75]="F17",e[e.F18=76]="F18",e[e.F19=77]="F19",e[e.NumLock=78]="NumLock",e[e.ScrollLock=79]="ScrollLock",e[e.US_SEMICOLON=80]="US_SEMICOLON",e[e.US_EQUAL=81]="US_EQUAL",e[e.US_COMMA=82]="US_COMMA",e[e.US_MINUS=83]="US_MINUS",e[e.US_DOT=84]="US_DOT",e[e.US_SLASH=85]="US_SLASH",e[e.US_BACKTICK=86]="US_BACKTICK",e[e.US_OPEN_SQUARE_BRACKET=87]="US_OPEN_SQUARE_BRACKET",e[e.US_BACKSLASH=88]="US_BACKSLASH",e[e.US_CLOSE_SQUARE_BRACKET=89]="US_CLOSE_SQUARE_BRACKET",e[e.US_QUOTE=90]="US_QUOTE",e[e.OEM_8=91]="OEM_8",e[e.OEM_102=92]="OEM_102",e[e.NUMPAD_0=93]="NUMPAD_0",e[e.NUMPAD_1=94]="NUMPAD_1",e[e.NUMPAD_2=95]="NUMPAD_2",e[e.NUMPAD_3=96]="NUMPAD_3",e[e.NUMPAD_4=97]="NUMPAD_4",e[e.NUMPAD_5=98]="NUMPAD_5",e[e.NUMPAD_6=99]="NUMPAD_6",e[e.NUMPAD_7=100]="NUMPAD_7",e[e.NUMPAD_8=101]="NUMPAD_8",e[e.NUMPAD_9=102]="NUMPAD_9",e[e.NUMPAD_MULTIPLY=103]="NUMPAD_MULTIPLY",e[e.NUMPAD_ADD=104]="NUMPAD_ADD",e[e.NUMPAD_SEPARATOR=105]="NUMPAD_SEPARATOR",e[e.NUMPAD_SUBTRACT=106]="NUMPAD_SUBTRACT",e[e.NUMPAD_DECIMAL=107]="NUMPAD_DECIMAL",e[e.NUMPAD_DIVIDE=108]="NUMPAD_DIVIDE",e[e.KEY_IN_COMPOSITION=109]="KEY_IN_COMPOSITION",e[e.ABNT_C1=110]="ABNT_C1",e[e.ABNT_C2=111]="ABNT_C2",e[e.MAX_VALUE=112]="MAX_VALUE"}(a||(a={}));var i=Object(o.a)((function e(){Object(c.a)(this,e)}));i.CtrlCmd=2048,i.Shift=1024,i.Alt=512,i.WinCtrl=256},733:function(e,t,n){"use strict";var a=n(9),o=n(221),c=n(1273),i=n(1215),r=n(1220),s=(n(815),n(1280)),l=n(1252),d=n(816),u=n.n(d),b=n(1221),_=n(3),f=["node","inline","className","children"];t.a=function(e){return Object(_.jsx)("div",{className:"markdown-body "+u.a.markdown_body+(e.className?" "+e.className:""),children:Object(_.jsx)(c.a,{children:e.code,remarkPlugins:[i.a],rehypePlugins:[r.a,b.a],components:{code:function(e){e.node;var t=e.inline,n=e.className,c=e.children,i=Object(o.a)(e,f),r=/language-(\w+)/.exec(n||"");return!t&&r?Object(_.jsx)(s.a,Object(a.a)({children:String(c).replace(/\n$/,""),style:l.a,language:r[1],PreTag:"div"},i)):Object(_.jsx)("code",Object(a.a)(Object(a.a)({className:n},i),{},{children:c}))}}})})}},755:function(e,t,n){},784:function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));var a,o=n(26),c=n(1),i=n(602),r=n(1253),s=n(1254),l=n(1110),d=n(1249),u=["title","titleId"];function b(){return b=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},b.apply(this,arguments)}function _(e,t){if(null==e)return{};var n,a,o=function(e,t){if(null==e)return{};var n,a,o={},c=Object.keys(e);for(a=0;a<c.length;a++)n=c[a],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(a=0;a<c.length;a++)n=c[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function f(e,t){var n=e.title,o=e.titleId,i=_(e,u);return c.createElement("svg",b({width:14,height:14,viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":o},i),n?c.createElement("title",{id:o},n):null,a||(a=c.createElement("path",{d:"M13.4864 1.53836L12.4607 0.512695C12.1192 0.170898 11.6713 0 11.2234 0C10.7755 0 10.3276 0.170898 9.98581 0.512422L0.350418 10.1478L0.00315229 13.271C-0.0405977 13.6642 0.269207 14 0.653934 14C0.67827 14 0.702605 13.9986 0.727488 13.9959L3.8485 13.6511L13.4866 4.01297C14.1699 3.32965 14.1699 2.22168 13.4864 1.53836ZM3.44682 12.8155L0.903035 13.0974L1.18632 10.5498L8.40206 3.33402L10.6653 5.59727L3.44682 12.8155ZM12.8678 3.39445L11.2838 4.97848L9.02057 2.71523L10.6046 1.13121C10.7698 0.966055 10.9896 0.875 11.2234 0.875C11.4572 0.875 11.6767 0.966055 11.8422 1.13121L12.8678 2.15687C13.2088 2.49812 13.2088 3.0532 12.8678 3.39445Z",fill:"#282A35"})))}var p,j=c.forwardRef(f),m=(n.p,n(675)),h=n(688),O=n(689),g=n(1109),v=n.n(g),C=n(3);!function(e){e.CodeEditor="code_editor",e.Files="files",e.Terminal="terminal",e.Status="status",e.Log="log",e.Admin="admin"}(p||(p={}));t.b=function(e){var t=e.disabled,n=void 0!==t&&t,a=e.activeItem,u=void 0===a?p.CodeEditor:a,b=e.onClickItem,_=e.isDynamicSpace,f=void 0!==_&&_,g=e.terminalIsConnected,w=void 0!==g&&g,x=e.logsIsConnected,E=void 0!==x&&x,S=e.id,P=e.className,N=Object(c.useState)(!1),k=Object(o.a)(N,2),L=k[0],y=k[1],T=Object(c.useState)(!1),I=Object(o.a)(T,2),M=I[0],D=I[1];return Object(c.useEffect)((function(){u===p.CodeEditor||u===p.Terminal||u===p.Log||u===p.Status?D(!0):D(!1)}),[u]),Object(c.useEffect)((function(){y(n)}),[n]),Object(C.jsxs)(h.a,{id:S,className:P?" ".concat(P):"",disabled:L,displayMenu:!0,menuChildren:Object(C.jsxs)(C.Fragment,{children:[f&&Object(C.jsxs)(O.a,{className:v.a.menuChild,disabled:L,onClick:function(){return b(p.Terminal)},children:[u===p.Terminal&&Object(C.jsx)(i.a,{className:v.a.checkIcon}),Object(C.jsx)(r.a,{className:w?v.a.color_green:""}),Object(C.jsx)("div",{children:"Terminal"})]}),f&&Object(C.jsxs)(O.a,{className:v.a.menuChild,disabled:L,onClick:function(){return b(p.Log)},children:[u===p.Log&&Object(C.jsx)(i.a,{className:v.a.checkIcon}),Object(C.jsx)(s.a,{}),E&&Object(C.jsx)("svg",{className:"".concat(v.a.display_log_dot).concat(u!==p.Log?" ".concat(v.a.not_selected):""),viewBox:"0 0 64 64",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:Object(C.jsx)("circle",{cx:"12",cy:"12",r:"12"})}),"Log"]}),Object(C.jsxs)(O.a,{className:v.a.menuChild,disabled:L,onClick:function(){return b(p.Status)},children:[u===p.Status&&Object(C.jsx)(i.a,{className:v.a.checkIcon}),Object(C.jsx)(l.a,{}),"Status"]})]}),children:[Object(C.jsxs)(m.a,{selected:M,disabled:L,onClick:function(){return b(p.CodeEditor)},children:[Object(C.jsx)(j,{})," Editor"]}),Object(C.jsxs)(m.a,{selected:u===p.Files,disabled:L,onClick:function(){return b(p.Files)},children:[Object(C.jsx)(d.a,{})," Files"]})]})}},816:function(e,t,n){e.exports={markdown_body:"MarkdownViewer_markdown_body__YAAqc"}}}]);
//# sourceMappingURL=17.8e2c45d1.chunk.js.map