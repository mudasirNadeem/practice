(this["webpackJsonphosting-ui"]=this["webpackJsonphosting-ui"]||[]).push([[18,24],{1277:function(e,t,a){"use strict";a.r(t);var s,n=a(77),i=a(15),c=a(30),r=a(210),l=a(211),o=a(213),d=a(214),p=a(1),b=a.n(p),h=a(630),u=a(337),j=a(1217),m=a(812),f=a(682),O=a(1251),g=a(32),_=a(669),v=a(723),x=a(724),w=a(782),y=a(41),C=a(33),N=a(42),S=a(22),k=a(728),D=a(9),M=a(227),E=a(16),F=a(1248),T=a(633),P=a(215),I=(a(670),a(81)),L=a(91),A=(a(672),a(673)),U=a(1241),R=a(1242),H=a(1243),B=a(1244),V=a(1245),z=a(1246),q=a(1247),G=a(801),Z=a(729),K=a(654),W=a(683),Q=a(730),Y=a(3),J=function(e){Object(o.a)(a,e);var t=Object(d.a)(a);function a(e){var s;return Object(r.a)(this,a),(s=t.call(this,e)).state={copied:!1,turnOffCopiedCallback:void 0},s}return Object(l.a)(a,[{key:"externalLink",get:function(){return I.i(this.props.file,!1,this.props.customDomain)}},{key:"isAudio",get:function(){return this.props.file.mime_type===I.c.mp3}},{key:"isVideo",get:function(){return this.props.file.mime_type===I.c.mp4}},{key:"previewTooltip",get:function(){return"Preview"}},{key:"render",value:function(){var e=this;return Object(Y.jsxs)("div",{className:(this.props.className?this.props.className+" ":"")+"action-round-btns-wrp",children:[!this.props.file.is_folder&&(this.props.file.is_text_based?Object(Y.jsx)(P.a,{text:"Edit",disabled:this.props.editProcessing||this.props.disabled,children:Object(Y.jsx)(T.a,{className:"btn-sm-round",disabled:this.props.editProcessing||this.props.disabled||"pdf"===this.props.file.extension,onClick:function(t){return e.props.handleShowEditModal(t,e.props.file)},children:Object(Y.jsx)(U.a,{})})}):Object(Y.jsx)(P.a,{text:this.previewTooltip,disabled:this.props.disabled,children:Object(Y.jsxs)(T.a,{className:"btn-sm-round",disabled:this.props.disabled,onClick:function(){return e.props.handleShowImagePreviewModal(e.props.file)},children:[this.isAudio&&Object(Y.jsx)(R.a,{}),this.isVideo&&Object(Y.jsx)(H.a,{}),!this.isAudio&&!this.isVideo&&Object(Y.jsx)(B.a,{})]})})),!this.props.file.is_folder&&Object(Y.jsx)(P.a,{className:"file_action_btn_copy_path",text:this.state.copied?"Copied!":"Copy full path",disabled:this.props.disabled,children:Object(Y.jsx)(Z.CopyToClipboard,{text:this.externalLink,onCopy:function(){clearTimeout(e.state.turnOffCopiedCallback),e.setState({copied:!0,turnOffCopiedCallback:setTimeout((function(){e.setState({copied:!1,turnOffCopiedCallback:void 0})}),1e3)})},children:Object(Y.jsx)(T.a,{className:"btn-sm-round",disabled:this.props.disabled,children:Object(Y.jsx)(V.a,{})})})}),Object(Y.jsx)(K.a,{triggerElm:Object(Y.jsx)(P.a,{text:"More",disabled:this.props.disabled,children:Object(Y.jsx)(T.a,{className:"btn-sm-round",disabled:this.props.disabled,children:Object(Y.jsx)(W.a,{})})}),disabled:this.props.disabled,children:Object(Y.jsxs)(Y.Fragment,{children:[!this.props.file.is_folder&&Object(Y.jsxs)(T.a,{className:"-menu-item",href:this.externalLink,target:"_blank",disabled:this.props.disabled,children:[Object(Y.jsx)(Q.a,{size:14})," Open in tab"]}),Object(Y.jsxs)(T.a,{className:"-menu-item",onClick:function(t){t.stopPropagation(),t.preventDefault(),e.props.handleShowRenameModal(e.props.file)},disabled:this.props.disabled,children:[Object(Y.jsx)(z.a,{})," Rename"]}),!this.props.file.is_folder&&Object(Y.jsxs)(T.a,{className:"-menu-item",onClick:function(t){t.preventDefault(),e.props.handleShowMoveModal(e.props.file)},children:[Object(Y.jsx)(q.a,{})," Move to folder"]}),Object(Y.jsx)("div",{className:"-divider"}),Object(Y.jsxs)(T.a,{className:"-menu-item -red-text",onClick:function(t){t.stopPropagation(),t.preventDefault(),e.props.handleShowDeleteModal(e.props.file)},disabled:this.props.disabled,children:[Object(Y.jsx)(G.a,{})," ",this.props.file.is_folder?"Delete folder":"Delete"]})]})})]})}}]),a}(b.a.Component),X=a(726),$=a(5),ee=a(308),te=a(307),ae=function(e){Object(o.a)(a,e);var t=Object(d.a)(a);function a(e){var s;return Object(r.a)(this,a),(s=t.call(this,e)).displayNameTooltip=void 0,s.validFileName=void 0,s.timeoutId=void 0,s.handleClickFolder=function(e){e.preventDefault(),e.stopPropagation(),s.props.editProcessing||s.action_is_disabled||s.props.handleEnterFolder(s.props.file)},s.handleCloseError=function(){s.props.deleteFileUploaded(s.props.file)},s.state={displaySuccess:!1,displayAction:"undefined"===typeof s.props.processing_status,displayError:!(s.props.processing_status!==E.a.Error)},s.transitionEndUploaded=s.transitionEndUploaded.bind(Object(M.a)(s)),s.validFileName=I.o(s.props.file.base_name),s.displayNameTooltip=s.validFileName!==s.props.file.base_name,s.timeoutId=void 0,s}return Object(l.a)(a,[{key:"shouldComponentUpdate",value:function(e,t){return this.props.file&&this.props.file.base_name!==e.file.base_name&&(this.validFileName=I.o(e.file.base_name),this.displayNameTooltip=this.validFileName!==e.file.base_name),!0}},{key:"componentWillUnmount",value:function(){this.timeoutId&&(clearTimeout(this.timeoutId),this.timeoutId=void 0),this.props.file.processing_status&&!this.props.file.processing&&this.props.setProcessingStatus(this.props.file,void 0)}},{key:"componentDidUpdate",value:function(e,t,a){if(this.props.processing_status!==e.processing_status)switch(this.props.processing_status){case E.a.NewFolder:case E.a.Uploaded:this.setState({displaySuccess:!0,displayError:!1,displayAction:!1});break;case E.a.Error:this.setState({displayError:!0,displaySuccess:!1,displayAction:!1});break;default:"undefined"===typeof this.props.processing_status&&this.setState({displayError:!1,displaySuccess:!1,displayAction:!0})}}},{key:"transitionEndUploaded",value:function(){var e=this;this.state.displaySuccess&&(this.timeoutId=setTimeout((function(){e.timeoutId=void 0,e.setState({displaySuccess:!1}),e.props.setProcessingStatus(e.props.file,void 0)}),this.props.file.is_folder?2500:4e3))}},{key:"isIndex",get:function(){return"index.html"===this.props.file.base_name_lowercased&&this.props.file.path===this.props.space.id+"/index.html"}},{key:"externalLink",get:function(){return I.i(this.props.file,!0,this.props.customDomain)}},{key:"action_is_disabled",get:function(){return"DELETED"===this.props.space.state||"BANNED"===this.props.space.state}},{key:"render",value:function(){var e=this;return this.props.file.processing?Object(Y.jsxs)("tr",{children:[Object(Y.jsx)("td",{children:this.displayNameTooltip?Object(Y.jsx)("div",{className:"w3s-disabled-color cursor-default -overflow-text",children:Object(Y.jsx)(P.a,{text:this.props.file.base_name,fileName:!0,children:this.validFileName})}):Object(Y.jsx)("div",{className:"w3s-disabled-color cursor-default -overflow-text",children:this.validFileName})}),Object(Y.jsx)("td",{className:"-tablemobile w3s-text-align-right cursor-default w3s-disabled-color",children:L.a(this.props.file.size)}),Object(Y.jsx)("td",{className:"-tablemobile w3s-text-align-right cursor-default w3s-disabled-color",children:this.props.file.last_modified&&Object(Y.jsx)(P.a,{text:Object(g.b)(this.props.file.last_modified),children:Object(A.c)(this.props.file.last_modified)})}),this.props.processing_status===E.a.Error&&Object(Y.jsx)("td",{children:Object(Y.jsxs)("div",{className:(this.state.displayError?"-action-in-visible ":"")+"d-flex justify-content-end align-items-center w3s-disabled-color -action-in",children:[Object(Y.jsx)(P.a,{text:this.props.file.processing_status_error,children:Object(Y.jsx)(ee.a,{})}),Object(Y.jsx)(P.a,{text:"Close item",children:Object(Y.jsx)("button",{className:"ml-3",children:Object(Y.jsx)("span",{className:"close pr-2",onClick:this.handleCloseError,children:"x"})})})]})}),this.props.processing_status!==E.a.Error&&Object(Y.jsx)("td",{children:Object(Y.jsxs)("div",{className:"pr-1 w3s-disabled-color d-flex align-items-center justify-content-end",children:[Object(Y.jsx)("span",{className:"mr-2",children:"Uploading..."}),Object(Y.jsx)($.Spinner,{size:$.Spinner.utils.size.md})]})})]}):this.props.file.is_folder?Object(Y.jsxs)("tr",{className:"folder-row"+(this.props.editProcessing||this.action_is_disabled?" disabled":""),children:[Object(Y.jsx)("td",{onClick:this.handleClickFolder,children:Object(Y.jsxs)(T.a,{variant:"std",className:"btn-link btn-inline folder-name-table-cell w3s-black-color -overflow-text",onClick:this.handleClickFolder,disabled:this.props.editProcessing||this.action_is_disabled,children:[Object(Y.jsx)(X.a,{}),Object(Y.jsx)("div",{children:this.props.file.name})]})}),Object(Y.jsx)("td",{className:"-tablemobile w3s-text-align-right",onClick:this.handleClickFolder,children:"-"}),Object(Y.jsx)("td",{className:"-tablemobile w3s-text-align-right",onClick:this.handleClickFolder,children:"-"}),this.props.processing_status===E.a.NewFolder?Object(Y.jsx)("td",{className:(this.state.displaySuccess?"-action-in-visible ":"")+"w3s-text-align-right -action-in",onClick:this.handleClickFolder,onTransitionEnd:this.transitionEndUploaded,children:Object(Y.jsx)(te.a,{})}):Object(Y.jsx)("td",{className:"w3s-text-align-right file-action-row",onClick:this.handleClickFolder,children:Object(Y.jsx)(J,Object(D.a)({className:"-action-in "+(this.state.displayAction?"-action-in-visible":""),disabled:this.action_is_disabled},this.props))})]}):Object(Y.jsxs)("tr",{children:[Object(Y.jsxs)("td",{children:[this.props.file.is_text_based||this.action_is_disabled?this.displayNameTooltip?Object(Y.jsx)(P.a,{text:this.props.file.base_name,fileName:!0,children:Object(Y.jsx)(T.a,{variant:"std",className:"btn-link btn-inline w3s-black-color -overflow-text",onClick:function(t){return e.props.handleShowEditModal(t,e.props.file)},disabled:this.props.editProcessing||this.action_is_disabled||"pdf"===this.props.file.extension,children:this.validFileName})}):Object(Y.jsx)(T.a,{variant:"std",className:"btn-link btn-inline w3s-black-color -overflow-text",onClick:function(t){return e.props.handleShowEditModal(t,e.props.file)},disabled:this.props.editProcessing||this.action_is_disabled||"pdf"===this.props.file.extension,children:this.validFileName}):this.displayNameTooltip?Object(Y.jsx)(P.a,{text:this.props.file.base_name,fileName:!0,children:Object(Y.jsx)("a",{className:"w3s-black-color -overflow-text",href:this.externalLink,target:"_blank",rel:"noopener noreferrer",children:this.validFileName})}):Object(Y.jsx)("a",{className:"w3s-black-color -overflow-text",href:this.externalLink,target:"_blank",rel:"noopener noreferrer",children:this.validFileName}),this.isIndex&&Object(Y.jsx)(P.a,{text:"This will be used as the home page for visitors to your space",disabled:this.action_is_disabled,children:Object(Y.jsx)(F.a,{className:"index-star"})})]}),Object(Y.jsx)("td",{className:"-tablemobile cursor-default w3s-text-align-right",children:L.a(this.props.file.size)}),Object(Y.jsx)("td",{className:"-tablemobile cursor-default w3s-text-align-right",children:this.props.file.last_modified?Object(Y.jsx)(P.a,{text:Object(g.b)(this.props.file.last_modified),disabled:this.action_is_disabled,children:Object(A.c)(this.props.file.last_modified)}):"-"}),this.props.processing_status&&this.props.processing_status===E.a.Uploaded&&Object(Y.jsx)("td",{children:Object(Y.jsxs)("div",{className:(this.state.displaySuccess?"-action-in-visible ":"")+"d-flex align-items-center justify-content-end pr-2 -action-in",onTransitionEnd:this.transitionEndUploaded,children:[Object(Y.jsx)("span",{className:"mr-2",children:"Uploaded"}),Object(Y.jsx)(te.a,{})]})}),(!this.props.processing_status||this.props.processing_status!==E.a.Uploaded)&&Object(Y.jsx)("td",{className:"w3s-text-align-right file-action-row",children:Object(Y.jsx)(J,Object(D.a)({className:"-action-in "+(this.state.displayAction?"-action-in-visible":""),disabled:this.action_is_disabled},this.props))})]})}}]),a}(b.a.Component),se=Object(S.b)((function(e){return{}}),(function(e){return Object(N.bindActionCreators)({deleteFileUploaded:C.c,setProcessingStatus:C.o},e)}))(ae),ne=a(43),ie=a(217),ce=(a(802),a(216)),re=function(e){Object(o.a)(a,e);var t=Object(d.a)(a);function a(e){var s;return Object(r.a)(this,a),(s=t.call(this,e)).handleClose=function(){s.props.close()},s.state={},s}return Object(l.a)(a,[{key:"render",value:function(){return Object(Y.jsx)(ce.a,{show:this.props.show,size:"lg",className:"quota-error-modal",title:this.props.meta.title,displayCancel:!1,okText:"Got it",handleClose:this.handleClose,handleOk:this.handleClose,children:this.props.meta.contents})}}]),a}(b.a.Component),le=a(109),oe=a(725),de=a(684),pe=a(645),be=a(671),he=a(646),ue=a(218);a(803);!function(e){e[e.Name=1]="Name",e[e.Size=2]="Size",e[e.Modified=3]="Modified"}(s||(s={}));var je,me=function(e){Object(o.a)(a,e);var t=Object(d.a)(a);function a(e){var n;Object(r.a)(this,a),(n=t.call(this,e)).timerID=void 0,n.setEditorLocalStorage=function(e){n.props.setEditorContent({url:"https://".concat(n.state.spaceId,".").concat(Object(g.e)()),file_path:null===e||void 0===e?void 0:e.path,domainNameForSpace:n.domainNameForSpace||null})},n.handleShowMoveModalSingle=function(e){$.logging.logDebug("FileBrowser -> handleShowMoveModalSingle() -> file",e),n.setState({showMoveModal:!0,selectedFiles:[e]})},n.handleOpenFolder=function(e){$.logging.logDebug("FileBrowser -> handleOpenFolder() -> folder",e),n.props.setSpacePath(e.path)},n.handleFetchFiles=function(){n.props.fetchFiles(n.state.spaceId,n.props.main_state,(function(){n.setState({files_fetched:!0})}))},n.handleShowDeleteModal=function(e){n.setState({showDeleteModal:!0,selectedFiles:[e]})},n.handleShowImagePreviewModal=function(){var e=Object(c.a)(Object(i.a)().mark((function e(t){return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.setState({showImagePreviewModal:!0,previewImage:t});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.handleShowEditModal=function(e,t){n.props.setHideTooltip(!0),n.setState({editProcessing:!0,selectedFiles:[t]}),n.setEditorLocalStorage(t),n.props.history.push("/space/".concat(n.state.spaceId,"/editor"))},n.handleCloseEditModal=function(){n.props.setHideTooltip(!1),n.setState({selectedFiles:[],editProcessing:!1})},n.handleShowDeleteSpaceModal=function(){n.setState({showDeleteSpaceModal:!0})};var l=e.match.params.spaceId;return e.selectedPath&&""!==e.selectedPath||e.setSpacePath(l+"/"),n.state={files_fetched:!1,selectedFiles:[],showDeleteModal:!1,showRenameModal:!1,showNewFolderModal:!1,showDeleteSpaceModal:!1,showResetSpaceModal:!1,showImagePreviewModal:!1,showMoveModal:!1,showNewFileModal:!1,renameFileName:"",previewImage:void 0,copied:!1,status:"",fileUploading:!1,editProcessing:!1,spaceId:l,showQuotaErrorModal:!1,quotaErrorMeta:{title:"",contents:""},sortingSelected:s.Modified,sortingAscending:!0},n}return Object(l.a)(a,[{key:"space",get:function(){var e=this,t=this.props.spaces.filter((function(t){return t.id===e.state.spaceId}));return t.length>0?t[0]:void 0}},{key:"spaceTechnology",get:function(){return Object(ue.a)(this.space)}},{key:"componentDidMount",value:function(){"undefined"!==typeof this.space&&"DELETED"!==this.space.state&&"BANNED"!==this.space.state?this.handleFetchFiles():this.props.history.push("/")}},{key:"componentWillUnmount",value:function(){this.timerID&&clearInterval(this.timerID)}},{key:"hasDomainForSpace",get:function(){var e=this;return this.props.domains.filter((function(t){return t.spaceId===e.state.spaceId&&!t.status.DOMAIN_LOST&&!t.status.DOMAIN_CLEANUP_COMPLETED&&!t.active})).length>0}},{key:"domainNameForSpace",get:function(){var e=this,t=this.props.domains.filter((function(t){return t.spaceId===e.state.spaceId&&t.status.ORDER_PROCESSING_COMPLETED&&!t.status.DOMAIN_LOST&&!t.status.DOMAIN_CLEANUP_COMPLETED&&!t.active}));if(t.length>0)return t[0].domainName}},{key:"spaceUrl",get:function(){var e=this.domainNameForSpace;return e?"https://".concat(e):"https://".concat(this.state.spaceId,".").concat(Object(g.e)())}},{key:"render",value:function(){var e,t=this;return Object(Y.jsxs)(Y.Fragment,{children:[Object(Y.jsxs)(h.a,{className:"justify-content-between mt-3 mr-md-2 -mobile-row",children:[Object(Y.jsx)("span",{className:"ml-3",children:Object(Y.jsx)(ie.a,{text:"Back",to:"/spaces"})}),Object(Y.jsxs)(h.a,{className:"direction-reverse d-none d-md-flex",children:[Object(Y.jsx)("div",{className:"btn-wrp mr-12 -mobile-mr",children:Object(Y.jsx)(pe.a,{variant:"dark",can_be_upgraded:this.props.main_state.subscription_plan.can_be_upgraded})}),Object(Y.jsx)("div",{className:"btn-wrp mr-12",children:this.hasDomainForSpace?Object(Y.jsx)($.Button,{variant:"tertiary",onClick:function(){$.GoogleAnalytics.sendEvent({name:'Clicked on "'.concat("free"===t.props.main_state.subscription_plan.name?"My domain":"My domains",'" on ').concat(t.props.main_state.subscription_plan.cname," plan"),category:"Domains"}),t.props.history.push("/domains")},children:"free"===this.props.main_state.subscription_plan.name?"My domain":"My domains"}):Object(Y.jsx)($.Button,{variant:"tertiary",onClick:function(){$.GoogleAnalytics.sendEvent({name:'Clicked on "Get a domain" on '.concat(t.props.main_state.subscription_plan.cname," plan"),category:"Domains"}),t.props.history.push("/domains/start/".concat(t.state.spaceId))},children:"Get a domain"})})]})]}),Object(Y.jsx)(h.a,{className:"-mobile-row",children:Object(Y.jsx)(u.a,{children:Object(Y.jsx)("div",{className:"file-table",children:Object(Y.jsx)("div",{className:"-header",children:Object(Y.jsxs)("div",{className:"-info-wrapper",children:[Object(Y.jsxs)("div",{className:"-header",children:[Object(Y.jsx)(be.a,{size:he.a.Large,spaceState:null===(e=this.space)||void 0===e?void 0:e.state,spaceTechnology:this.spaceTechnology}),Object(Y.jsxs)("div",{className:"-inner-wrapper",children:[Object(Y.jsx)("h3",{className:"-title",children:this.state.spaceId}),Object(Y.jsx)("p",{children:Object(Y.jsx)("a",{href:this.spaceUrl,target:"_blank",rel:"noopener noreferrer",children:this.spaceUrl})})]})]}),Object(Y.jsx)("div",{className:"-body",children:Object(Y.jsx)("p",{children:this.state.status})})]})})})})})]})}}]),a}(b.a.Component),fe=Object(ne.j)(Object(S.b)((function(e){return{spaces:e.main.spaces,domains:e.domains.orders,main_state:e.main,files_uploaded:e.main.files_uploaded,selectedPath:e.main.space_path}}),(function(e){return Object(N.bindActionCreators)({fetchFiles:C.d,setHideTooltip:C.l,setSpacePath:C.p,setEditorContent:C.k},e)}))(me)),Oe=a(223),ge=a(632),_e=["title","titleId"];function ve(){return ve=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&(e[s]=a[s])}return e},ve.apply(this,arguments)}function xe(e,t){if(null==e)return{};var a,s,n=function(e,t){if(null==e)return{};var a,s,n={},i=Object.keys(e);for(s=0;s<i.length;s++)a=i[s],t.indexOf(a)>=0||(n[a]=e[a]);return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)a=i[s],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}function we(e,t){var a=e.title,s=e.titleId,n=xe(e,_e);return p.createElement("svg",ve({width:25,height:18,viewBox:"0 0 25 18",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":s},n),a?p.createElement("title",{id:s},a):null,je||(je=p.createElement("path",{d:"M12.207 5.58203C12.0234 5.39844 11.7266 5.39844 11.543 5.58203L7.70312 9.42188C7.51953 9.60547 7.51953 9.90234 7.70312 10.0859L7.92578 10.3086C8.10938 10.4922 8.40625 10.4922 8.58984 10.3086L11.2539 7.64453V13.5312C11.2539 13.7891 11.4648 14 11.7227 14H12.0352C12.293 14 12.5039 13.7891 12.5039 13.5312V7.64453L15.168 10.3086C15.3516 10.4922 15.6484 10.4922 15.832 10.3086L16.0547 10.0859C16.2383 9.90234 16.2383 9.60547 16.0547 9.42188L12.207 5.58203ZM22.332 8.32812C22.4414 7.94141 22.5 7.53906 22.5 7.125C22.5 4.70703 20.543 2.75 18.125 2.75C17.4727 2.75 16.8398 2.89063 16.25 3.17188C15.0156 1.41406 12.957 0.25 10.625 0.25C6.9375 0.25 3.91797 3.16016 3.75781 6.82031C1.53125 7.60156 0 9.71484 0 12.125C0 15.2344 2.51562 17.75 5.625 17.75H20C22.7617 17.75 25 15.5156 25 12.75C25 10.9141 23.9922 9.20312 22.332 8.32812ZM20 16.5H5.625C3.20703 16.5 1.25 14.543 1.25 12.125C1.25 9.90625 2.89844 8.07422 5.03906 7.78906C5.01172 7.57031 5 7.34766 5 7.125C5 4.01953 7.51953 1.5 10.625 1.5C12.9805 1.5 14.9961 2.94531 15.8359 5C16.4062 4.38672 17.2188 4 18.125 4C19.8516 4 21.25 5.39844 21.25 7.125C21.25 7.84766 21.0039 8.51562 20.5898 9.04688C22.3828 9.32812 23.75 10.8789 23.75 12.75C23.75 14.8203 22.0703 16.5 20 16.5Z",fill:"white"})))}var ye,Ce=p.forwardRef(we),Ne=(a.p,a(653)),Se=(a(722),["title","titleId"]);function ke(){return ke=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&(e[s]=a[s])}return e},ke.apply(this,arguments)}function De(e,t){if(null==e)return{};var a,s,n=function(e,t){if(null==e)return{};var a,s,n={},i=Object.keys(e);for(s=0;s<i.length;s++)a=i[s],t.indexOf(a)>=0||(n[a]=e[a]);return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)a=i[s],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}function Me(e,t){var a=e.title,s=e.titleId,n=De(e,Se);return p.createElement("svg",ke({width:14,height:18,viewBox:"0 0 14 18",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":s},n),a?p.createElement("title",{id:s},a):null,ye||(ye=p.createElement("path",{d:"M13.0043 3.44138L10.0547 0.491774C9.73881 0.17513 9.31015 -0.00316254 8.86289 -0.00392914H1.6875C1.2398 -0.00244209 0.810905 0.176307 0.494658 0.493213C0.178412 0.810118 0.000555304 1.23938 0 1.68709L0 16.3121C0 16.7596 0.17779 17.1889 0.494257 17.5053C0.810725 17.8218 1.23995 17.9996 1.6875 17.9996H11.8125C12.2601 17.9996 12.6893 17.8218 13.0057 17.5053C13.3222 17.1889 13.5 16.7596 13.5 16.3121V4.6367C13.4993 4.1884 13.321 3.75862 13.0043 3.44138ZM12.2098 4.23943C12.2819 4.31094 12.333 4.40095 12.3574 4.49959H9V1.14216C9.09864 1.16655 9.18865 1.21764 9.26016 1.28982L12.2098 4.23943ZM11.8125 16.8746H1.6875C1.53832 16.8746 1.39524 16.8153 1.28975 16.7098C1.18426 16.6043 1.125 16.4613 1.125 16.3121V1.68709C1.125 1.5379 1.18426 1.39483 1.28975 1.28934C1.39524 1.18385 1.53832 1.12459 1.6875 1.12459H7.875V4.78084C7.87472 4.89172 7.89636 5.00156 7.93866 5.10406C7.98096 5.20655 8.0431 5.29967 8.12151 5.37808C8.19991 5.45648 8.29304 5.51862 8.39553 5.56093C8.49803 5.60323 8.60787 5.62487 8.71875 5.62459H12.375V16.3121C12.375 16.4613 12.3157 16.6043 12.2102 16.7098C12.1048 16.8153 11.9617 16.8746 11.8125 16.8746ZM10.125 10.5465V10.8277C10.125 10.9396 10.0806 11.0469 10.0014 11.126C9.92232 11.2051 9.81501 11.2496 9.70312 11.2496H7.3125V13.6402C7.3125 13.7521 7.26805 13.8594 7.18894 13.9385C7.10982 14.0176 7.00251 14.0621 6.89062 14.0621H6.60938C6.49749 14.0621 6.39018 14.0176 6.31106 13.9385C6.23195 13.8594 6.1875 13.7521 6.1875 13.6402V11.2496H3.79688C3.68499 11.2496 3.57768 11.2051 3.49856 11.126C3.41945 11.0469 3.375 10.9396 3.375 10.8277V10.5465C3.375 10.4346 3.41945 10.3273 3.49856 10.2482C3.57768 10.169 3.68499 10.1246 3.79688 10.1246H6.1875V7.73396C6.1875 7.62207 6.23195 7.51477 6.31106 7.43565C6.39018 7.35653 6.49749 7.31209 6.60938 7.31209H6.89062C7.00251 7.31209 7.10982 7.35653 7.18894 7.43565C7.26805 7.51477 7.3125 7.62207 7.3125 7.73396V10.1246H9.70312C9.81501 10.1246 9.92232 10.169 10.0014 10.2482C10.0806 10.3273 10.125 10.4346 10.125 10.5465Z",fill:"#282A35"})))}var Ee,Fe=p.forwardRef(Me),Te=(a.p,function(e){Object(o.a)(a,e);var t=Object(d.a)(a);function a(e){var s;return Object(r.a)(this,a),(s=t.call(this,e)).handleClick=function(e){e.preventDefault(),s.props.handleClick(e)},s.state={},s}return Object(l.a)(a,[{key:"render",value:function(){return Object(Y.jsx)(P.a,{text:"Create an empty text file",disabled:this.props.loading||this.props.disabled,children:Object(Y.jsxs)("div",{className:"create-file-button",children:[Object(Y.jsx)("div",{className:"d-none d-md-flex",children:Object(Y.jsx)($.Button,{variant:"secondary",onClick:this.handleClick,disabled:this.props.loading||this.props.disabled,children:"New file"})}),Object(Y.jsx)(T.a,{className:"btn-md-round d-sm-flex d-md-none green-border",variant:"flat",onClick:this.handleClick,disabled:this.props.loading||this.props.disabled,children:Object(Y.jsx)(Fe,{})})]})})}}]),a}(b.a.Component)),Pe=["title","titleId"];function Ie(){return Ie=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&(e[s]=a[s])}return e},Ie.apply(this,arguments)}function Le(e,t){if(null==e)return{};var a,s,n=function(e,t){if(null==e)return{};var a,s,n={},i=Object.keys(e);for(s=0;s<i.length;s++)a=i[s],t.indexOf(a)>=0||(n[a]=e[a]);return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)a=i[s],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}function Ae(e,t){var a=e.title,s=e.titleId,n=Le(e,Pe);return p.createElement("svg",Ie({width:20,height:16,viewBox:"0 0 20 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":s},n),a?p.createElement("title",{id:s},a):null,Ee||(Ee=p.createElement("path",{d:"M18.125 3H10.625L8.49102 0.866016C8.37492 0.749949 8.2371 0.657886 8.08543 0.595085C7.93375 0.532283 7.77119 0.499974 7.60703 0.5H1.875C1.37772 0.5 0.900805 0.697544 0.549175 1.04917C0.197544 1.40081 0 1.87772 0 2.375L0 13.625C0 14.1223 0.197544 14.5992 0.549175 14.9508C0.900805 15.3025 1.37772 15.5 1.875 15.5H18.125C18.6223 15.5 19.0992 15.3025 19.4508 14.9508C19.8025 14.5992 20 14.1223 20 13.625V4.875C20 4.37772 19.8025 3.90081 19.4508 3.54917C19.0992 3.19754 18.6223 3 18.125 3ZM18.75 13.625C18.75 13.7908 18.6842 13.9497 18.5669 14.0669C18.4497 14.1842 18.2908 14.25 18.125 14.25H1.875C1.70924 14.25 1.55027 14.1842 1.43306 14.0669C1.31585 13.9497 1.25 13.7908 1.25 13.625V2.375C1.25 2.20924 1.31585 2.05027 1.43306 1.93306C1.55027 1.81585 1.70924 1.75 1.875 1.75H7.60703L9.74102 3.88398C9.85711 4.00005 9.99493 4.09211 10.1466 4.15492C10.2983 4.21772 10.4608 4.25003 10.625 4.25H18.125C18.2908 4.25 18.4497 4.31585 18.5669 4.43306C18.6842 4.55027 18.75 4.70924 18.75 4.875V13.625ZM13.2617 8.625H10.6055V5.96875C10.6055 5.84443 10.5561 5.7252 10.4682 5.63729C10.3803 5.54939 10.261 5.5 10.1367 5.5H9.82422C9.6999 5.5 9.58067 5.54939 9.49276 5.63729C9.40485 5.7252 9.35547 5.84443 9.35547 5.96875V8.625H6.69922C6.5749 8.625 6.45567 8.67439 6.36776 8.76229C6.27985 8.8502 6.23047 8.96943 6.23047 9.09375V9.40625C6.23047 9.53057 6.27985 9.6498 6.36776 9.73771C6.45567 9.82561 6.5749 9.875 6.69922 9.875H9.35547V12.5312C9.35547 12.6556 9.40485 12.7748 9.49276 12.8627C9.58067 12.9506 9.6999 13 9.82422 13H10.1367C10.261 13 10.3803 12.9506 10.4682 12.8627C10.5561 12.7748 10.6055 12.6556 10.6055 12.5312V9.875H13.2617C13.386 9.875 13.5053 9.82561 13.5932 9.73771C13.6811 9.6498 13.7305 9.53057 13.7305 9.40625V9.09375C13.7305 8.96943 13.6811 8.8502 13.5932 8.76229C13.5053 8.67439 13.386 8.625 13.2617 8.625Z",fill:"#282A35"})))}var Ue,Re=p.forwardRef(Ae),He=(a.p,a(110)),Be=a(182),Ve=function(e){Object(o.a)(a,e);var t=Object(d.a)(a);function a(e){var s;return Object(r.a)(this,a),(s=t.call(this,e)).handleClick=function(e){e.preventDefault();var t=Be.c(s.props.main_state,s.props.space,"folder");if("0"!==t.code)return"quota"===t.context?s.props.addQuotaError(t):s.props.addModal({id:Object(g.f)(),dismissed:!1,type:"error",header:Object(Y.jsx)(Y.Fragment,{children:"Space temporarily closed"}),body:Object(Y.jsx)(Y.Fragment,{children:t.description}),dismissButtonText:"Got it"}),void s.setState({loading:!1});s.props.onClick(e)},s.state={},s}return Object(l.a)(a,[{key:"render",value:function(){return Object(Y.jsx)(P.a,{text:"Create a new folder",disabled:this.props.disabled,children:Object(Y.jsxs)("div",{children:[Object(Y.jsx)("div",{className:"d-none d-md-flex",children:Object(Y.jsx)($.Button,{variant:"tertiary",onClick:this.handleClick,disabled:this.props.disabled,children:"New folder"})}),Object(Y.jsx)(T.a,{className:"btn-md-round d-sm-flex d-md-none",variant:"tertiary",onClick:this.handleClick,disabled:this.props.disabled,children:Object(Y.jsx)(Re,{})})]})})}}]),a}(b.a.Component),ze=Object(S.b)((function(e){return{main_state:e.main}}),(function(e){return Object(N.bindActionCreators)({addModal:He.a,addQuotaError:le.a},e)}))(Ve),qe=a(783),Ge=a(731),Ze=a(687);!function(e){e[e.Name=1]="Name",e[e.Size=2]="Size",e[e.Modified=3]="Modified"}(Ue||(Ue={}));var Ke,We=function(e){Object(o.a)(a,e);var t=Object(d.a)(a);function a(e){var s;Object(r.a)(this,a),(s=t.call(this,e)).handleShowNewFolderModal=function(){s.setState({showNewFolderModal:!0,selectedFiles:[]})},s.handleShowResetSpaceModal=function(){var e=Be.b(s.props.main_state);"0"===e.code?s.setState({showResetSpaceModal:!0}):s.props.addQuotaError(e)},s.handleShowNewFileModal=function(){s.props.main_state.usage_status._out_of_quota?s.props.addQuotaError({code:"ACTION_FORBIDDEN_WHEN_QUOTA_EXCEEDED",description:"Your space is temporarily closed, and creating a new file is not allowed.",meta:{header_text:"Space temporarily closed"}}):s.setState({showNewFileModal:!0,selectedFiles:[]})},s.handleCloseNewFileModal=function(){s.setState({showNewFileModal:!1,selectedFiles:[]})},s.handleCloseNewFolderModal=function(){s.setState({showNewFolderModal:!1,selectedFiles:[]})},s.handleCloseResetSpaceModal=function(e){$.logging.logDebug("handleCloseResetSpaceModal -> success: ",e),e?s.props.history.push("/"):s.setState({showResetSpaceModal:!1})},s.handleCloseImagePreviewModal=function(){s.setState({showImagePreviewModal:!1,previewImage:void 0})};var n=e.match.params.spaceId;return e.selectedPath&&""!==e.selectedPath||e.setSpacePath(n+"/"),s.state={files_fetched:!1,selectedFiles:[],showNewFolderModal:!1,showResetSpaceModal:!1,showImagePreviewModal:!1,showNewFileModal:!1,renameFileName:"",previewImage:void 0,copied:!1,status:"",fileUploading:!1,editProcessing:!1,spaceId:n,sortingSelected:Ue.Modified,sortingAscending:!0},s}return Object(l.a)(a,[{key:"space",get:function(){var e=this,t=this.props.spaces.filter((function(t){return t.id===e.state.spaceId}));return t.length>0?t[0]:void 0}},{key:"spaceVariantType",get:function(){return Object(ue.b)(this.space)}},{key:"spaceTechnology",get:function(){return Object(ue.a)(this.space)}},{key:"isDynamic",get:function(){return Object(ue.c)(this.space)}},{key:"render",value:function(){var e,t,a=this;return Object(Y.jsx)("div",{className:"-btns-wrapper",children:Object(Y.jsxs)("div",{className:"-right-btn-wrapper",children:[Object(Y.jsx)("div",{className:"-header-mobile-replace-tabs",children:"Files"}),Object(Y.jsx)("div",{className:"btn-wrp mr-12 -mobile-mr",children:Object(Y.jsx)(P.a,{text:"Reset space",children:Object(Y.jsx)(T.a,{variant:"flat",className:"btn-md-round",onClick:this.handleShowResetSpaceModal,children:Object(Y.jsx)(ge.a,{className:this.props.main_state.loading.includes("fetchFiles")?"loading-spin":""})})})}),Object(Y.jsx)("div",{className:"btn-wrp mr-12 -mobile-mr",children:Object(Y.jsx)(ze,{space:this.space,onClick:this.handleShowNewFolderModal,disabled:this.props.main_state.loading.includes("fetchFiles")||this.props.selectedPath.split("/").length>=Ne.b.MAX+2})}),Object(Y.jsx)("div",{className:"btn-wrp mr-12 -mobile-mr",children:Object(Y.jsx)(Te,{handleClick:this.handleShowNewFileModal,disabled:this.props.main_state.loading.includes("fetchFiles"),loading:this.props.main_state.loading.includes("fetchFiles")})}),Object(Y.jsx)("div",{className:"btn-wrp -mobile-mr",children:Object(Y.jsxs)(_.a,{space:this.space,active_path:this.props.selectedPath,innerProps:{noClick:!0,noKeyboard:!0},children:[Object(Y.jsx)("div",{className:"btn-wrp -mobile-mr",children:Object(Y.jsx)(_.a,{space:this.space,active_path:this.props.selectedPath,innerProps:{noDragEventsBubbling:!0},lite:!0,children:Object(Y.jsxs)("div",{children:[Object(Y.jsx)("div",{className:"d-none d-md-flex",children:Object(Y.jsx)($.Button,{variant:"primary",children:"Upload files"})}),Object(Y.jsx)("div",{children:Object(Y.jsx)(P.a,{text:"Upload files",children:Object(Y.jsx)(T.a,{className:"btn-md-round d-sm-flex d-md-none btn-color-green",variant:"flat",children:Object(Y.jsx)(Ce,{})})})})]})})}),Object(Y.jsxs)(Y.Fragment,{children:[Object(Y.jsx)(qe.a,{show:this.state.showNewFileModal,close:this.handleCloseNewFileModal,space:this.space,spaceId:this.state.spaceId,active_path:this.props.selectedPath,spaceVariantType:this.spaceVariantType,spaceTechnology:this.spaceTechnology}),Object(Y.jsx)(Ge.a,{show:this.state.showNewFolderModal,close:this.handleCloseNewFolderModal,path:this.props.selectedPath,spaceId:this.state.spaceId,existingFolders:null===(e=this.space)||void 0===e?void 0:e.folders,defaultName:Object(Ne.g)(this.props.selectedPath,null===(t=this.space)||void 0===t?void 0:t.folders)}),this.state.showResetSpaceModal&&Object(Y.jsx)(Ze.a,{show:!0,close:function(){return a.handleCloseResetSpaceModal(!1)},closeWithStatus:this.handleCloseResetSpaceModal,space_id:this.state.spaceId,resetFileUpload:function(){return a.props.resetFileUpload()}})]})]})})]})})}}]),a}(b.a.Component),Qe=Object(ne.j)(Object(S.b)((function(e){return{spaces:e.main.spaces,domains:e.domains.orders,main_state:e.main,files_uploaded:e.main.files_uploaded,selectedPath:e.main.space_path}}),(function(e){return Object(N.bindActionCreators)({addQuotaError:le.a,addNotification:y.a,dismissNotification:y.c,updateNotification:y.e,fetchFiles:C.d,setHideTooltip:C.l,resetFileUpload:C.h,setSpacePath:C.p,setDisplayFooter:C.i,setDisplayHeader:C.j,setEditorContent:C.k},e)}))(We)),Ye=a(26),Je=a(602),Xe=a(1249),$e=a(1250),et=a(675),tt=a(688),at=a(689),st=a(811),nt=a.n(st);!function(e){e.Files="files",e.Analytics="analytics",e.Upgrade="upgrade",e.Data="data",e.Environment="environment",e.PackageManager="package_manager"}(Ke||(Ke={}));var it,ct=function(e){var t=e.disabled,a=void 0!==t&&t,s=e.hasDomainForSpace,n=void 0!==s&&s,i=e.activeItem,c=void 0===i?Ke.Files:i,r=e.subScriptionPlan,l=e.isDynamicSpace,o=void 0!==l&&l,d=e.spaceId,b=e.history,h=e.onClickItem,u=e.id,j=e.className,m=Object(p.useState)(!1),f=Object(Ye.a)(m,2),O=f[0],g=f[1];return Object(p.useEffect)((function(){g(a)}),[a]),Object(Y.jsxs)(tt.a,{id:u,className:"".concat(nt.a.wrapper).concat(j?" ".concat(j):""),displayMenu:!0,disabled:O,menuChildren:Object(Y.jsxs)(Y.Fragment,{children:[o&&Object(Y.jsxs)(Y.Fragment,{children:[Object(Y.jsxs)(at.a,{className:"".concat(nt.a.menuChild),disabled:O,onClick:function(){return h(Ke.Data)},children:[c===Ke.Data&&Object(Y.jsx)(Je.a,{}),Object(Y.jsx)("div",{children:"Data"})]}),Object(Y.jsxs)(at.a,{className:"".concat(nt.a.menuChild),disabled:O,onClick:function(){return h(Ke.Environment)},children:[c===Ke.Environment&&Object(Y.jsx)(Je.a,{}),Object(Y.jsx)("div",{children:"Environment"})]}),Object(Y.jsxs)(at.a,{className:"".concat(nt.a.menuChild),disabled:O,onClick:function(){return h(Ke.PackageManager)},children:[c===Ke.PackageManager&&Object(Y.jsx)(Je.a,{}),Object(Y.jsx)("div",{children:"Package Manager"})]})]}),Object(Y.jsx)(at.a,{className:"".concat(nt.a.menuChild," ").concat(nt.a.upgrade_menu_item),disabled:O,children:Object(Y.jsx)(pe.a,{type:"menu-item",can_be_upgraded:r.can_be_upgraded})}),n?Object(Y.jsx)(at.a,{className:nt.a.menuChild,disabled:O,onClick:function(){O||($.GoogleAnalytics.sendEvent({name:'Clicked on "'.concat("free"===r.name?"My domain":"My domains",'" on ').concat(r.cname," plan"),category:"Domains"}),b.push("/domains"))},children:Object(Y.jsx)("div",{children:"free"===r.name?"My domain":"My domains"})}):Object(Y.jsx)(at.a,{className:nt.a.menuChild,disabled:O,onClick:function(){O||($.GoogleAnalytics.sendEvent({name:'Clicked on "Get a domain" on '.concat(r.cname," plan"),category:"Domains"}),b.push("/domains/start/".concat(d)))},children:"Get a domain"})]}),children:[Object(Y.jsxs)(et.a,{selected:c===Ke.Files,disabled:O,onClick:function(){return h(Ke.Files)},children:[Object(Y.jsx)(Xe.a,{})," Files"]}),Object(Y.jsxs)(et.a,{selected:c===Ke.Analytics,disabled:O,onClick:function(){return h(Ke.Analytics)},children:[Object(Y.jsx)($e.a,{})," Analytics"]})]})},rt=a(781),lt=a(694),ot=b.a.lazy((function(){return Promise.all([a.e(1),a.e(6),a.e(33)]).then(a.bind(null,1218))})),dt=function(e,t,a){return a?e.name.toLowerCase()>t.name.toLowerCase()?1:-1:e.name.toLowerCase()<t.name.toLowerCase()?1:-1};!function(e){e[e.Name=1]="Name",e[e.Size=2]="Size",e[e.Modified=3]="Modified"}(it||(it={}));var pt=function(e){Object(o.a)(a,e);var t=Object(d.a)(a);function a(e){var s;Object(r.a)(this,a),(s=t.call(this,e)).timerID=void 0,s.setEditorLocalStorage=function(e){s.props.setEditorContent({url:"https://".concat(s.state.spaceId,".").concat(Object(g.e)()),file_path:null===e||void 0===e?void 0:e.path,domainNameForSpace:s.domainNameForSpace||null})},s.handleShowMoveModalSingle=function(e){$.logging.logDebug("FileBrowser -> handleShowMoveModalSingle() -> file",e),s.setState({showMoveModal:!0,selectedFiles:[e]})},s.handleOpenFolder=function(e){$.logging.logDebug("FileBrowser -> handleOpenFolder() -> folder",e),s.props.setSpacePath(e.path)},s.handleFetchFiles=function(){s.props.fetchFiles(s.state.spaceId,s.props.main_state,(function(){s.setState({files_fetched:!0})}))},s.handleShowDeleteModal=function(e){s.setState({showDeleteModal:!0,selectedFiles:[e]})},s.handleCloseDeleteModal=function(){s.setState({showDeleteModal:!1,selectedFiles:[]})},s.handleCloseMoveModal=function(){s.setState({showMoveModal:!1,selectedFiles:[]})},s.handleShowImagePreviewModal=function(){var e=Object(c.a)(Object(i.a)().mark((function e(t){return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:s.setState({showImagePreviewModal:!0,previewImage:t});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),s.handleCloseImagePreviewModal=function(){s.setState({showImagePreviewModal:!1,previewImage:void 0})},s.handleShowEditModal=function(e,t){s.props.setHideTooltip(!0),s.setState({editProcessing:!0,selectedFiles:[t]}),s.setEditorLocalStorage(t),s.props.history.push("/space/".concat(s.state.spaceId,"/editor"))},s.handleCloseEditModal=function(){s.props.setHideTooltip(!1),s.setState({selectedFiles:[],editProcessing:!1})},s.handleShowRenameModal=function(e){s.props.main_state.usage_status._out_of_quota?s.props.addQuotaError({code:"ACTION_FORBIDDEN_WHEN_QUOTA_EXCEEDED",description:"Your space is temporarily closed, and renaming files/folders is not allowed.",meta:{header_text:"Space temporarily closed"}}):s.setState({showRenameModal:!0,selectedFiles:[e],renameFileName:s.displayFileKey(e.path)})},s.handleCloseRenameModal=function(){s.setState({showRenameModal:!1,selectedFiles:[]})},s.handleCloseQuotaErrorModal=function(){s.setState({showQuotaErrorModal:!1,quotaErrorMeta:{title:"",contents:""},selectedFiles:[]})},s.displayFileKey=function(e){return e.split("/").splice(1).join("/")},s.clickBreadcrumbItem=function(e){$.logging.logDebug("FileBrowser -> clickBreadcrumItem() -> event",e),s.props.setSpacePath(e)},s.clickedTableHeader=function(e,t){s.setState({sortingSelected:e,sortingAscending:t})},s.sortingFunction=function(e,t){return e.is_folder&&!t.is_folder?-1:e.is_folder&&t.is_folder?s.state.sortingSelected===it.Name?dt(e,t,s.state.sortingAscending):e.name.toLowerCase()>t.name.toLowerCase()?1:-1:s.state.sortingSelected===it.Name?dt(e,t,s.state.sortingAscending):s.state.sortingSelected===it.Size?e.size===t.size?dt(e,t,s.state.sortingAscending):s.state.sortingAscending?e.size>t.size?1:-1:e.size<t.size?1:-1:e.last_modified&&t.last_modified?e.last_modified.getTime()===t.last_modified.getTime()?dt(e,t,s.state.sortingAscending):s.state.sortingAscending?e.last_modified<t.last_modified?1:-1:e.last_modified>t.last_modified?1:-1:e.last_modified?1:-1},s.onClickMobileItem=function(e){switch(e){case Ke.Analytics:case Ke.Files:case Ke.Data:case Ke.Environment:case Ke.PackageManager:s.setActiveTab(e)}},s.setActiveTab=function(e){var t=s.state.analyticsDisplayed||e===Ke.Analytics,a=s.state.dataTabDisplayed||e===Ke.Data;s.setState({dataTabDisplayed:a,analyticsDisplayed:t,activeTab:e})};var n=e.match.params.spaceId;return e.selectedPath&&""!==e.selectedPath||e.setSpacePath(n+"/"),s.state={files_fetched:!1,selectedFiles:[],showDeleteModal:!1,showRenameModal:!1,showImagePreviewModal:!1,showMoveModal:!1,renameFileName:"",previewImage:void 0,copied:!1,analyticsDisplayed:!1,dataTabDisplayed:!1,status:"",activeTab:Ke.Files,fileUploading:!1,editProcessing:!1,spaceId:n,showQuotaErrorModal:!1,quotaErrorMeta:{title:"",contents:""},sortingSelected:it.Modified,sortingAscending:!0},s}return Object(l.a)(a,[{key:"space",get:function(){var e=this,t=this.props.spaces.filter((function(t){return t.id===e.state.spaceId}));return t.length>0?t[0]:void 0}},{key:"isDynamic",get:function(){return Object(ue.c)(this.space)}},{key:"componentDidMount",value:function(){"undefined"!==typeof this.space?"DELETED"===this.space.state||"BANNED"===this.space.state||this.isDynamic&&"free"===this.props.main_state.subscription_plan.name?this.props.history.push("/"):(this.props.setDisplayFooter(!0),this.props.setDisplayHeader(!0),Object(g.d)(),window.addEventListener("resize",g.d),this.handleFetchFiles()):this.props.history.push("/")}},{key:"componentWillUnmount",value:function(){this.timerID&&clearInterval(this.timerID),window.removeEventListener("resize",g.d)}},{key:"hasDomainForSpace",get:function(){var e=this;return this.props.domains.filter((function(t){return t.spaceId===e.state.spaceId&&!t.status.DOMAIN_LOST&&!t.status.DOMAIN_CLEANUP_COMPLETED&&!t.active})).length>0}},{key:"domainNameForSpace",get:function(){var e=this,t=this.props.domains.filter((function(t){return t.spaceId===e.state.spaceId&&t.status.ORDER_PROCESSING_COMPLETED&&!t.status.DOMAIN_LOST&&!t.status.DOMAIN_CLEANUP_COMPLETED&&!t.active}));if(t.length>0)return t[0].domainName}},{key:"spaceUrl",get:function(){var e=this.domainNameForSpace;return e?"https://".concat(e):"https://".concat(this.state.spaceId,".").concat(Object(g.e)())}},{key:"itemsDisplayed",get:function(){var e=this,t=[];if("undefined"!==typeof this.space){var a,s,i=this.props.selectedPath.split("/").length;t=this.space.files.filter((function(t){return t.path.includes(e.props.selectedPath)&&i===t.path.split("/").length}));var c=this.space.folders.filter((function(t){return t.path.includes(e.props.selectedPath)&&i===t.path.split("/").length-1}));(a=t).push.apply(a,Object(n.a)(c));var r=this.props.files_uploaded.filter((function(t){return t.path.includes(e.props.selectedPath)&&i===t.path.split("/").length}));(s=t).push.apply(s,Object(n.a)(r))}return t}},{key:"render",value:function(){var e=this;return Object(Y.jsxs)("div",{className:"w3s-file-browser",children:["undefined"===typeof this.space&&Object(Y.jsxs)(Y.Fragment,{children:[Object(Y.jsx)(h.a,{children:Object(Y.jsx)(u.a,{className:"w3s-back-col",children:Object(Y.jsx)(ie.a,{text:"Back to all spaces",to:"/",handleOnClick:function(){localStorage.removeItem("w3s-editor"),e.props.resetFileUpload()}})})}),Object(Y.jsx)(h.a,{children:Object(Y.jsx)(u.a,{className:"file-table-refresh-col",children:Object(Y.jsx)("h1",{className:"file-browser-header",children:"Space not found"})})}),Object(Y.jsx)(h.a,{children:Object(Y.jsxs)(u.a,{children:[Object(Y.jsx)("div",{style:{padding:"20px 0"},children:"Sorry, we cannot find the space you were looking for."}),Object(Y.jsx)($.Button,{variant:"primary",as:"a",href:"/",children:"Back"})]})})]}),"undefined"!==typeof this.space&&this.state.files_fetched&&Object(Y.jsxs)(Y.Fragment,{children:[Object(Y.jsx)(fe,{}),Object(Y.jsx)("div",{className:"-files-tab",children:Object(Y.jsxs)(j.a,{id:"-files-tabs-wrapper",activeKey:this.state.activeTab||Ke.Files,onSelect:function(t){return e.setActiveTab(t)},className:"mb-3 pb-3",children:[Object(Y.jsxs)(m.a,{eventKey:Ke.Files,title:"Files",tabClassName:"h3",style:{position:"relative"},children:[Object(Y.jsx)(Qe,{}),Object(Y.jsx)("div",{className:"file-table",children:Object(Y.jsx)("div",{className:"-body",children:Object(Y.jsx)(_.a,{space:this.space,active_path:this.props.selectedPath,innerProps:{noClick:!0,noKeyboard:!0},children:Object(Y.jsxs)(Y.Fragment,{children:[Object(Y.jsx)("div",{className:"rounded-table-wrapper "+(0===this.itemsDisplayed.length?"empty":""),children:Object(Y.jsxs)(f.a,{hover:!0,className:"rounded-table",children:[Object(Y.jsxs)("thead",{children:[Object(Y.jsx)("tr",{children:Object(Y.jsx)("th",{colSpan:4,className:"breadcrumb-header white-background",children:Object(Y.jsx)(oe.a,{path:this.props.selectedPath.split("/"),folderIsSelected:this.props.selectedPath!==this.state.spaceId+"/",spaceId:this.state.spaceId,handleClickItem:this.clickBreadcrumbItem})})}),Object(Y.jsxs)("tr",{children:[Object(Y.jsx)(de.a,{className:"first-tablemobile",selected:this.state.sortingSelected===it.Name,hideSortIndicators:!0,onClick:function(t){e.clickedTableHeader(it.Name,t)},children:Object(Y.jsx)("div",{className:"mr-2",children:"Name"})}),Object(Y.jsx)(de.a,{selected:this.state.sortingSelected===it.Size,className:"-tablemobile",rightAlignText:!0,hideSortIndicators:!0,onClick:function(t){return e.clickedTableHeader(it.Size,t)},children:Object(Y.jsx)("div",{className:"mr-2",children:"Size"})}),Object(Y.jsx)(de.a,{selected:this.state.sortingSelected===it.Modified,className:"-tablemobile -table-min-width",rightAlignText:!0,hideSortIndicators:!0,onClick:function(t){return e.clickedTableHeader(it.Modified,t)},children:Object(Y.jsx)("div",{className:"mr-2",children:"Last modified"})}),Object(Y.jsx)("th",{className:"th-action-cell file-action-row-header"})]})]}),Object(Y.jsx)("tbody",{children:this.space&&this.itemsDisplayed.length>0&&this.itemsDisplayed.sort(this.sortingFunction).map((function(t,a){return Object(Y.jsx)(se,{processing_status:t.processing_status,space:e.space,file:t,customDomain:e.domainNameForSpace,handleShowEditModal:e.handleShowEditModal,editProcessing:e.state.editProcessing,handleShowImagePreviewModal:e.handleShowImagePreviewModal,handleShowRenameModal:e.handleShowRenameModal,handleShowDeleteModal:e.handleShowDeleteModal,handleShowMoveModal:e.handleShowMoveModalSingle,handleEnterFolder:e.handleOpenFolder},t.path)}))})]})}),0===this.itemsDisplayed.length&&Object(Y.jsxs)("div",{className:"-no-files-banner",children:[Object(Y.jsx)(h.a,{children:Object(Y.jsx)(u.a,{children:Object(Y.jsx)("div",{className:"no-files-banner-icon-circle",children:Object(Y.jsx)(O.a,{size:"50"})})})}),Object(Y.jsx)(h.a,{children:Object(Y.jsxs)(u.a,{children:[Object(Y.jsx)("h4",{children:"Drop files here to upload"}),Object(Y.jsxs)("div",{className:"-subtitle",children:["or use the"," ",Object(Y.jsx)(_.a,{space:this.space,innerProps:{noDragEventsBubbling:!0},lite:!0,active_path:this.props.selectedPath,children:"Upload files"})," ","button"]})]})})]}),Object(Y.jsxs)(Y.Fragment,{children:[Object(Y.jsx)(re,{show:this.state.showQuotaErrorModal,close:this.handleCloseQuotaErrorModal,spaceId:this.state.spaceId,file:this.state.selectedFiles[0],meta:this.state.quotaErrorMeta}),Object(Y.jsx)(v.a,{show:this.state.showRenameModal,close:this.handleCloseRenameModal,file:this.state.selectedFiles[0],spaceId:this.state.spaceId,active_path:this.props.selectedPath}),Object(Y.jsx)(x.a,{show:this.state.showDeleteModal,close:this.handleCloseDeleteModal,file:this.state.selectedFiles[0],spaceId:this.state.spaceId}),Object(Y.jsx)(w.a,{show:this.state.showMoveModal,close:this.handleCloseMoveModal,files:this.state.selectedFiles,spaceId:this.state.spaceId,space_folders:this.space.folders,active_path:this.props.selectedPath}),this.state.showImagePreviewModal&&Object(Y.jsx)(k.a,{show:!0,close:this.handleCloseImagePreviewModal,file:this.state.previewImage})]})]})})})}),Object(Y.jsx)("div",{className:"footer-terms -display-in-mobile-usage",children:Object(Y.jsx)($.Terms,{position:"relative"})})]}),Object(Y.jsx)(m.a,{eventKey:Ke.Analytics,title:"Analytics",tabClassName:"h3",children:Object(Y.jsxs)(Y.Fragment,{children:[Object(Y.jsx)("div",{className:"-header-mobile-replace-tabs -menu-analytics",children:"Analytics"}),(this.state.activeTab===Ke.Analytics||this.state.analyticsDisplayed)&&Object(Y.jsx)(p.Suspense,{fallback:Object(Y.jsx)(Oe.a,{}),children:Object(Y.jsx)(ot,{className:"-file-browser-analytics"})}),Object(Y.jsx)("div",{className:"footer-terms -display-in-mobile-usage",children:Object(Y.jsx)($.Terms,{position:"relative"})})]})}),this.isDynamic&&Object(Y.jsx)(m.a,{eventKey:Ke.Data,title:"Data",tabClassName:"h3",children:Object(Y.jsxs)(Y.Fragment,{children:[Object(Y.jsx)("div",{className:"-header-mobile-replace-tabs -menu-analytics",children:"Data"}),(this.state.activeTab===Ke.Data||this.state.dataTabDisplayed)&&Object(Y.jsx)(p.Suspense,{fallback:Object(Y.jsx)(Oe.a,{}),children:Object(Y.jsx)(rt.default,{})}),Object(Y.jsx)("div",{className:"footer-terms -display-in-mobile-usage",children:Object(Y.jsx)($.Terms,{position:"relative"})})]})}),this.isDynamic&&Object(Y.jsx)(m.a,{eventKey:Ke.Environment,title:"Environment",tabClassName:"h3",children:Object(Y.jsxs)(Y.Fragment,{children:[Object(Y.jsx)("div",{className:"-header-mobile-replace-tabs -menu-analytics",children:"Environment"}),this.state.activeTab===Ke.Environment&&Object(Y.jsx)(p.Suspense,{fallback:Object(Y.jsx)(Oe.a,{}),children:Object(Y.jsx)(lt.a,{})}),Object(Y.jsx)("div",{className:"footer-terms -display-in-mobile-usage",children:Object(Y.jsx)($.Terms,{position:"relative"})})]})}),this.isDynamic&&Object(Y.jsx)(m.a,{eventKey:Ke.PackageManager,title:"Package Manager",tabClassName:"h3",children:Object(Y.jsxs)(Y.Fragment,{children:[Object(Y.jsx)("div",{className:"-header-mobile-replace-tabs -menu-analytics",children:"Package Manager"}),this.state.activeTab===Ke.PackageManager&&Object(Y.jsx)(p.Suspense,{fallback:Object(Y.jsx)(Oe.a,{}),children:Object(Y.jsx)("div",{style:{height:"100%"},children:"Package Manager"})}),Object(Y.jsx)("div",{className:"footer-terms -display-in-mobile-usage",children:Object(Y.jsx)($.Terms,{position:"relative"})})]})})]})}),Object(Y.jsx)(ct,{className:"mobile-file-panel",subScriptionPlan:this.props.main_state.subscription_plan,hasDomainForSpace:this.hasDomainForSpace,activeItem:this.state.activeTab,spaceId:this.state.spaceId,history:this.props.history,onClickItem:this.onClickMobileItem,isDynamicSpace:this.isDynamic})]})]})}}]),a}(b.a.Component);t.default=Object(ne.j)(Object(S.b)((function(e){return{spaces:e.main.spaces,domains:e.domains.orders,main_state:e.main,files_uploaded:e.main.files_uploaded,selectedPath:e.main.space_path}}),(function(e){return Object(N.bindActionCreators)({addQuotaError:le.a,addNotification:y.a,dismissNotification:y.c,updateNotification:y.e,fetchFiles:C.d,setHideTooltip:C.l,resetFileUpload:C.h,setSpacePath:C.p,setDisplayFooter:C.i,setDisplayHeader:C.j,setEditorContent:C.k},e)}))(pt))},643:function(e,t,a){"use strict";var s=a(3);t.a=function(e){var t=e.width,a=void 0===t?"24":t,n=e.height,i=void 0===n?"24":n;return Object(s.jsxs)("svg",{width:a,height:i,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[Object(s.jsx)("path",{d:"M1.5 12C1.5 6.20101 6.20101 1.5 12 1.5C17.799 1.5 22.5 6.20101 22.5 12C22.5 17.799 17.799 22.5 12 22.5C6.20101 22.5 1.5 17.799 1.5 12ZM-5.24537e-07 12C-8.1423e-07 18.6274 5.37258 24 12 24C18.6274 24 24 18.6274 24 12C24 5.37258 18.6274 -2.34843e-07 12 -5.24537e-07C5.37258 -8.1423e-07 -2.34843e-07 5.37258 -5.24537e-07 12Z",fill:"black"}),Object(s.jsx)("path",{d:"M17.0303 6.96967C17.3232 7.26256 17.3232 7.73744 17.0303 8.03033L13.0607 12L17.0303 15.9697C17.3232 16.2626 17.3232 16.7374 17.0303 17.0303C16.7374 17.3232 16.2626 17.3232 15.9697 17.0303L12 13.0607L8.03033 17.0303C7.73744 17.3232 7.26256 17.3232 6.96967 17.0303C6.67677 16.7374 6.67677 16.2626 6.96967 15.9697L10.9393 12L6.96967 8.03033C6.67677 7.73744 6.67677 7.26256 6.96967 6.96967C7.26256 6.67678 7.73744 6.67678 8.03033 6.96967L12 10.9393L15.9697 6.96967C16.2626 6.67678 16.7374 6.67678 17.0303 6.96967Z",fill:"black"})]})}},645:function(e,t,a){"use strict";var s,n=a(5),i=a(633),c=(a(658),a(1)),r=["title","titleId"];function l(){return l=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&(e[s]=a[s])}return e},l.apply(this,arguments)}function o(e,t){if(null==e)return{};var a,s,n=function(e,t){if(null==e)return{};var a,s,n={},i=Object.keys(e);for(s=0;s<i.length;s++)a=i[s],t.indexOf(a)>=0||(n[a]=e[a]);return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)a=i[s],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}function d(e,t){var a=e.title,n=e.titleId,i=o(e,r);return c.createElement("svg",l({"aria-hidden":"true",focusable:"false","data-prefix":"lau","data-icon":"long-arrow-up",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 320 512",ref:t,"aria-labelledby":n},i),a?c.createElement("title",{id:n},a):null,s||(s=c.createElement("path",{fill:"currentColor",d:"M19.716 184.485l19.626 19.626c4.753 4.753 12.484 4.675 17.14-.173L134 123.22V468c0 6.627 5.373 12 12 12h28c6.627 0 12-5.373 12-12V123.22l77.518 80.717c4.656 4.849 12.387 4.927 17.14.173l19.626-19.626c4.686-4.686 4.686-12.284 0-16.971L168.485 35.716c-4.686-4.686-12.284-4.686-16.971 0L19.716 167.515c-4.686 4.686-4.686 12.284 0 16.97z"})))}var p=c.forwardRef(d),b=(a.p,a(215)),h=a(3),u=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return e?"menu-item"===t?"Upgrade plan":"Upgrade":a?"View billing plans":"View plans"};t.a=function(e){var t=e.can_be_upgraded,a=e.type,s=e.variant,c=e.className,r=u(t,a||"std"),l=u(t,a||"std",!0);return Object(h.jsxs)(h.Fragment,{children:["circle"===a&&Object(h.jsx)(b.a,{text:l,placement:"top-center",children:Object(h.jsx)(i.a,{variant:"flat",className:"btn-md-round btn-color-green".concat(c?" ".concat(c):""),as:"a",href:n.util.getUpgradeLink(),children:Object(h.jsx)(p,{})})}),"std"===a&&Object(h.jsx)("a",{"data-google-interstitial":"false",href:n.util.getUpgradeLink(),className:"btn-cta btn-cta-upgrade ".concat("secondary"===s?"btn-cta-upgrade-secondary":"").concat(c?" ".concat(c):""),role:"button",children:r}),"menu-item"===a&&Object(h.jsx)("a",{"data-google-interstitial":"false",href:n.util.getUpgradeLink(),role:"button",className:c||"",children:r}),!a&&Object(h.jsx)(n.Button,{variant:t?s:"tertiary",onClick:function(){window.location.href=n.util.getUpgradeLink()},children:r})]})}},647:function(e,t,a){"use strict";var s=a(3);t.a=function(e){var t=e.width,a=void 0===t?"24":t,n=e.height,i=void 0===n?"24":n;return Object(s.jsx)("svg",{width:a,height:i,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:Object(s.jsx)("path",{d:"M12.2188 1.30334C12.2187 0.889122 12.5545 0.553336 12.9688 0.553336C13.383 0.553336 13.7188 0.889124 13.7188 1.30334L13.7188 12.2206L24.636 12.2206C25.0502 12.2206 25.386 12.5564 25.386 12.9706C25.386 13.3848 25.0502 13.7206 24.636 13.7206L13.7188 13.7206L13.7187 24.6379C13.7187 25.0521 13.383 25.3879 12.9688 25.3879C12.5545 25.3879 12.2187 25.0521 12.2188 24.6379V13.7206L1.30149 13.7206C0.887274 13.7206 0.551488 13.3848 0.551489 12.9706C0.551488 12.5564 0.887275 12.2206 1.30149 12.2206L12.2187 12.2206L12.2188 1.30334Z",fill:"black"})})}},658:function(e,t,a){},659:function(e,t,a){"use strict";a.d(t,"b",(function(){return s})),a.d(t,"f",(function(){return n})),a.d(t,"e",(function(){return c})),a.d(t,"g",(function(){return r})),a.d(t,"c",(function(){return l})),a.d(t,"d",(function(){return o})),a.d(t,"a",(function(){return d}));var s=function(e){return document.cookie.replaceAll(" ","").split(";").map((function(e){var t=e.indexOf("=");return{name:e.slice(0,t),value:e.slice(t+1)}})).filter((function(t){return t.name===e})).map((function(e){return e.value}))},n=function(){switch(function(){var e=window.location.href;return e.includes("https://spaces-local.w3schools.com")||e.includes("https://spaces-dev.w3schools.com")?"dev":e.includes("https://spaces-stage.w3schools.com")?"stage":(e.includes("https://spaces.w3schools.com"),"prod")}()){case"dev":return"stats-api.w3sdevelop.com";case"stage":return"stats-api.w3stages.com";default:return"stats-api.w3spaces.com"}},i=function(e){var t=e.date,a=864e5*(e.days-1);return function(e){var t=new Date(e).toISOString(),a=t.indexOf("T");return t.slice(0,a)}(t.getTime()-a)},c=function(e){var t=new Date;if("Week"===e)return i({date:t,days:7});if("Month"===e)return i({date:t,days:30});if("Year"===e){var a=t.getUTCFullYear();return"".concat(a,"-01-01")}return"0000-00-00"},r=["Week","Month","Year","Total"],l=function(){var e=o();return{Week:e,Month:e,Year:e,Total:e}},o=function(){return{browser:{},device:{},location:{},os:{},fileStats:{},data:0,numberOfRequests:0,numberOfUniqueRequests:0}},d={browser:{chrome:2070,edge:824,fireFox:719,safari:587},device:{mobile:2070,tablet:824,other:719,desktop:587},location:{"India:IND":3070,"United States:USA":1200,"Germany:DEU":824,"China:CHN":719,"Norway:NOR":587},os:{android:2070,ios:824,linux:719,mac:587,windows:0},fileStats:{index_html:2070,style_css:824,script_js:719,README_md:587,image_jpg:0},data:0,numberOfRequests:0,numberOfUniqueRequests:0}},672:function(e,t,a){},684:function(e,t,a){"use strict";var s,n=a(26),i=a(1),c=a.n(i),r=a(685),l=a.n(r),o=a(215),d=a(3);!function(e){e[e.UNSELECTED=0]="UNSELECTED",e[e.ASC=1]="ASC",e[e.DESC=2]="DESC"}(s||(s={})),t.a=function(e){var t=c.a.useState(e.selected?s.ASC:s.UNSELECTED),a=Object(n.a)(t,2),i=a[0],r=a[1];return c.a.useEffect((function(){e.selected?r(s.ASC):r(s.UNSELECTED)}),[e.selected]),Object(d.jsx)("th",{className:l.a.table_header_cell+(e.disabled?" "+l.a.disabled:"")+(e.className?" "+e.className:""),style:e.style?e.style:void 0,children:Object(d.jsxs)("div",{onClick:function(){var t=s.UNSELECTED;t=i===s.ASC?s.DESC:(s.DESC,s.ASC),r(t),e.onClick(t===s.ASC)},className:l.a.table_header_div+(e.rightAlignText?" justify-content-end pr-0":" px-3"),children:[e.children,Object(d.jsx)(o.a,{text:"Sort "+(i===s.DESC?"descending":"ascending"),disabled:e.disabled||i===s.UNSELECTED,children:Object(d.jsxs)("div",{className:l.a.sort_group,children:[(!e.hideSortIndicators||i===s.DESC)&&Object(d.jsx)("div",{className:l.a.select_minimal+" "+l.a.sort_desc+(i===s.DESC?" "+l.a.selected:"")}),(!e.hideSortIndicators||i===s.ASC)&&Object(d.jsx)("div",{className:l.a.select_minimal+" "+l.a.sort_asc+(i===s.ASC?" "+l.a.selected:"")})]})})]})})}},685:function(e,t,a){e.exports={table_header_cell:"TableHeaderCell_table_header_cell__Tz_cM",disabled:"TableHeaderCell_disabled__1ZUtZ",table_header_div:"TableHeaderCell_table_header_div__l_bw2",select_minimal:"TableHeaderCell_select_minimal__1Nx63",sort_asc:"TableHeaderCell_sort_asc__2g-YX",sort_desc:"TableHeaderCell_sort_desc__2fEyu",selected:"TableHeaderCell_selected__2-0oB",sort_group:"TableHeaderCell_sort_group__22qnM"}},687:function(e,t,a){"use strict";var s=a(26),n=a(1),i=a(43),c=a(629),r=a(33),l=a(22),o=a(42),d=a(216),p=a(3);t.a=Object(o.compose)(i.j)((function(e){var t=Object(l.c)(),a=Object(i.g)(),o=Object(n.useState)(!1),b=Object(s.a)(o,2),h=b[0],u=b[1],j=Object(n.useState)(!1),m=Object(s.a)(j,2),f=m[0],O=m[1],g=Object(n.useState)(),_=Object(s.a)(g,1)[0],v=Object(l.d)((function(e){return e.main.user}));Object(n.useEffect)((function(){f&&v.is_resetting_space&&v.is_resetting_space.length&&(O(!1),a.push("/createspace?is_resetting_space="+v.is_resetting_space))}),[f,v.is_resetting_space,a]);return Object(p.jsxs)(d.a,{show:e.show,size:"lg",className:"reset-space-modal",disabled:h,loading:h,title:"Reset space and select new template?",okButtonVariant:"destructive",okText:"Yes, reset my space",handleClose:e.close,handleOk:function(a){a.preventDefault(),u(!0),e.resetFileUpload&&e.resetFileUpload(),t(Object(r.s)({is_resetting_space:e.space_id})),O(!0)},children:[Object(p.jsxs)("p",{children:["When you reset your space, all files on the space ",Object(p.jsx)("strong",{children:e.space_id})," will be permanently deleted, and you can select a new template."]}),Object(p.jsxs)("ul",{children:[Object(p.jsx)("li",{children:"This action cannot be undone"}),Object(p.jsx)("li",{children:"The space name will be kept"}),Object(p.jsx)("li",{children:"All progress will be lost"})]}),_&&Object(p.jsx)(c.a,{variant:"danger",children:_})]})}))},690:function(e,t,a){e.exports={tables_buttons:"Tables_tables_buttons__3BoUH",delete_table_button:"Tables_delete_table_button__34wLh",tables_buttons_text:"Tables_tables_buttons_text__32WiG",disable:"Tables_disable__2Ws9E",select:"Tables_select__35KR4"}},691:function(e,t,a){e.exports={data_wrapper:"Data_data_wrapper__1-nt1",no_table_selected_text:"Data_no_table_selected_text__2UNb5",database_empty_text:"Data_database_empty_text__pgc5H",tables_buttons_wrapper:"Data_tables_buttons_wrapper__bJ1Kq",tables_buttons_header_text:"Data_tables_buttons_header_text__12Cmx",create_table_button:"Data_create_table_button__3i0Mo",disabled:"Data_disabled__t6ni5",fetch_tables_spinner:"Data_fetch_tables_spinner__1fZMF",hide:"Data_hide__TI5d4",table_wrapper:"Data_table_wrapper__1gpkO",fetch_table_page_spinner:"Data_fetch_table_page_spinner__2YPwA",table_header:"Data_table_header__2E7QF",table_header_text:"Data_table_header_text__1XWP6",table_next_prev_buttons:"Data_table_next_prev_buttons__3Ryvd",prev_button:"Data_prev_button__3y7al",prev_button_disable:"Data_prev_button_disable__dxL9B",next_button:"Data_next_button__2evIZ",next_button_disable:"Data_next_button_disable__1oY4K",page_number:"Data_page_number__2KGIL",second_delete_button_col:"Data_second_delete_button_col__1XcRQ",second_delete_button:"Data_second_delete_button__2OqcJ",focus:"Data_focus__k0AsP"}},692:function(e,t,a){},693:function(e,t,a){e.exports={form_wrapper:"CreateTable_form_wrapper__fNSqw",column_input_wrapper:"CreateTable_column_input_wrapper__2hzEi",input_group:"CreateTable_input_group__38m-x",column_error_text:"CreateTable_column_error_text__1rVzI",table_error_text:"CreateTable_table_error_text__1yVzW",remove_column_button:"CreateTable_remove_column_button__3tXbW",add_column_button:"CreateTable_add_column_button__2uFd_",add_column_button_text:"CreateTable_add_column_button_text__UWHPO",column_header_text:"CreateTable_column_header_text__3Y7-u",form_group:"CreateTable_form_group__2SP1A"}},694:function(e,t,a){"use strict";var s=a(221),n=a(667),i=a(15),c=a(148),r=a(9),l=a(30),o=a(26),d=a(1),p=a(635),b=a(5),h=a(643),u=a(647),j=a(43),m=a(32),f=a(22),O=a(41),g=a(216),_=a(695),v=a.n(_),x=a(3);t.a=function(e){var t=e.className,a=Object(d.useState)({}),_=Object(o.a)(a,2),w=_[0],y=_[1],C=Object(d.useState)({}),N=Object(o.a)(C,2),S=N[0],k=N[1],D=Object(d.useState)(0),M=Object(o.a)(D,2),E=M[0],F=M[1],T=Object(d.useState)(!0),P=Object(o.a)(T,2),I=P[0],L=P[1],A=Object(d.useState)(!1),U=Object(o.a)(A,2),R=U[0],H=U[1],B=Object(d.useState)(!1),V=Object(o.a)(B,2),z=V[0],q=V[1],G=Object(d.useState)(!1),Z=Object(o.a)(G,2),K=Z[0],W=Z[1],Q=Object(d.useState)(!1),Y=Object(o.a)(Q,2),J=Y[0],X=Y[1],$=Object(d.useState)(!1),ee=Object(o.a)($,2),te=ee[0],ae=ee[1],se=Object(d.useState)(""),ne=Object(o.a)(se,2),ie=ne[0],ce=ne[1],re=Object(d.useRef)({}),le=Object(d.useRef)({}),oe=Object(j.i)().spaceId,de=Object(f.c)(),pe=Object(d.useCallback)((function(e,t){de(Object(O.a)({id:Object(m.f)(),dismissed:!1,type:"success",header:t,body:Object(x.jsx)(x.Fragment,{children:e})}))}),[de]),be=Object(d.useCallback)((function(e,t){de(Object(O.a)({id:Object(m.f)(),dismissed:!1,type:"error",header:t,body:Object(x.jsx)("span",{children:e})}))}),[de]);Object(d.useEffect)((function(){var e=function(){var e=Object(l.a)(Object(i.a)().mark((function e(){var t,a;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return H(!0),e.next=3,Object(b.fetchDynamicSpaces)({url:"api2/dynamic-spaces/".concat(oe,"/user-env"),method:"GET"});case 3:200===(t=e.sent).status?(b.logging.logDebug("settings -> environment -> reqRes:",t),a=Object.keys(t.data).reduce((function(e,a,s){return Object(r.a)(Object(r.a)({},e),{},Object(c.a)({},s.toString(),{key:a,value:t.data[a]}))}),{}),b.logging.logDebug("settings -> keysValues ->",a),k(a),y(a),F(Object.keys(t.data).length)):be(t.data.message||t.data.errorMessage,"Fetch environment error"),H(!1);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[de,be,oe]),Object(d.useLayoutEffect)((function(){Object.keys(w).forEach((function(e){var t=re.current[e].value,a=re.current[e].key,s=le.current[e];t.style.height="46px",a.style.height="46px",s.style.height="46px";var n=Math.max(t.scrollHeight,a.scrollHeight);t.style.height="".concat(n,"px"),a.style.height="".concat(n,"px"),s.style.height="".concat(n,"px")}))}),[w,re]);var he=function(e){return Object(x.jsx)(x.Fragment,{children:Object(x.jsx)("div",{className:v.a.remove_row_button_box,ref:function(t){le.current=Object(r.a)(Object(r.a)({},le.current),{},Object(c.a)({},e,t))},children:Object(x.jsx)("div",{className:v.a.remove_row_button,onClick:function(t){t.preventDefault(),""!==w[e].key?(ce(e),X(!0)):ue(e)},children:Object(x.jsx)(h.a,{})})})})},ue=function(e){var t=w[e],a=(t.key,t.value,Object(s.a)(w,[e].map(n.a)));y(a),L(!1),X(!1)},je=function(){var e=Object(l.a)(Object(i.a)().mark((function e(){var t,a,s;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Object.keys(w).reduce((function(e,t){return""===w[t].value||""===w[t].key?e:Object(r.a)(Object(r.a)({},e),{},Object(c.a)({},w[t].key,w[t].value))}),{}),b.logging.logDebug("settings -> environment -> save:",t),e.next=4,Object(b.fetchDynamicSpaces)({url:"api2/dynamic-spaces/".concat(oe,"/user-env"),method:"POST",data:JSON.stringify(t)});case 4:200===(a=e.sent).status?(b.logging.logDebug("settings -> environment -> save -> reqRes:",a),s=Object.keys(a.data).reduce((function(e,t,s){return Object(r.a)(Object(r.a)({},e),{},Object(c.a)({},s.toString(),{key:t,value:a.data[t]}))}),{}),b.logging.logDebug("settings -> keysValues ->",s),k(s),y(s),F(Object.keys(a.data).length),pe("Save environment success",".env is successfully saved")):be(a.data.message||a.data.errorMessage,"Save environment error");case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),me=function(){var e=Object(l.a)(Object(i.a)().mark((function e(){return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return q(!0),e.next=3,je();case 3:L(!0),q(!1);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),fe=function(){var e=Object(l.a)(Object(i.a)().mark((function e(){var t;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(b.fetchDynamicSpaces)({url:"api2/dynamic-spaces/".concat(oe,"/restart-app"),method:"POST",data:JSON.stringify({runtime:"node"})});case 2:200!==(t=e.sent).status?(b.logging.logDebug("settings -> environment -> save -> reqRes:",t),be(t.data.message||t.data.errorMessage,"Restart application error")):pe("Application is restarting","Restart application success");case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Oe=function(){var e=Object(l.a)(Object(i.a)().mark((function e(){return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return W(!0),e.next=3,je();case 3:return e.next=5,fe();case 5:L(!0),W(!1),ae(!1);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(x.jsxs)("div",{className:v.a.env_wrapper+" w3s-environment-view"+(t?" ".concat(t):""),children:[J&&Object(x.jsx)(g.a,{title:"Remove key?",backdrop:"static",cancelText:"Cancel",okText:"Remove",show:J,okButtonVariant:"destructive",handleClose:function(){return X(!1)},handleOk:function(){ue(ie)},children:Object(x.jsxs)(x.Fragment,{children:["Remove key ",'"'.concat(w[ie].key,'"?')]})}),te&&Object(x.jsx)(g.a,{title:"Save and restart?",size:"lg",backdrop:"static",cancelText:"Cancel",okText:"Save and restart",show:te,okButtonVariant:"primary",loading:K,extraButtons:Object(x.jsx)(b.Button,{onClick:function(e){e.preventDefault(),ae(!1),me()},text:"Just save",variant:"secondary"}),handleClose:function(){ae(!1)},handleOk:function(){Oe()},children:Object(x.jsx)(x.Fragment,{children:"Save and restart application? Restarting application may take up to a few minutes."})}),R&&Object(x.jsx)("div",{className:v.a.loading_box_wrapper,children:Object(x.jsx)(b.LoadingBox,{})}),Object(x.jsxs)("div",{className:v.a.env_table_wrapper+(R?" ".concat(v.a.loading):""),children:[Object(x.jsxs)("div",{className:v.a.env_table_header_text,children:[".env ",Object(x.jsx)("span",{children:Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)("span",{className:v.a.add_row_text,children:"add"}),Object(x.jsx)("div",{className:v.a.add_row_button,onClick:function(e){var t;e.preventDefault(),F(E+1),y(Object(r.a)(Object(r.a)({},w),{},Object(c.a)({},E+1,{key:"",value:""}))),window.scrollTo({top:document.documentElement.scrollHeight});var a=null===(t=document)||void 0===t?void 0:t.querySelector(".modal-body");null===a||void 0===a||a.scrollTo({top:a.scrollHeight}),L(!1)},children:Object(x.jsx)(u.a,{width:"20",height:"20"})})]})})]}),Object(x.jsx)("div",{children:Object(x.jsxs)(p.a,{children:[Object(x.jsxs)("div",{style:{width:"800px",display:"table-row"},children:[Object(x.jsx)("div",{className:v.a.env_table_header,children:"Key"}),Object(x.jsx)("div",{className:v.a.env_table_header,children:" Value"}),Object(x.jsx)("div",{style:{width:"50px",height:"46px",border:"1px solid #dee2e6",display:"table-cell",background:"#dcdcdc"}})]}),Object(x.jsx)(x.Fragment,{children:Object.keys(w).map((function(e,t){return Object(x.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[Object(x.jsx)("textarea",{value:w[e].key,className:v.a.env_text_area+" ".concat(v.a.keys),onChange:function(t){t.preventDefault(),y(Object(r.a)(Object(r.a)({},w),{},Object(c.a)({},e,Object(r.a)(Object(r.a)({},w[e]),{},{key:t.target.value.replace("\n","")})))),L(!1)},ref:function(t){re.current[e]=Object(r.a)(Object(r.a)({},re.current[e]),{},{key:t})}}),Object(x.jsx)("textarea",{value:w[e].value,onChange:function(t){t.preventDefault(),y(Object(r.a)(Object(r.a)({},w),{},Object(c.a)({},e,Object(r.a)(Object(r.a)({},w[e]),{},{value:t.target.value.replace("\n","")})))),L(!1)},className:v.a.env_text_area+" ".concat(v.a.values),ref:function(t){re.current[e]=Object(r.a)(Object(r.a)({},re.current[e]),{},{value:t})}}),he(e)]},e)}))})]})}),Object(x.jsxs)("div",{className:v.a.save_revert_buttons,children:[Object(x.jsx)(b.Button,{text:"Revert",variant:"tertiary",disabled:I,onClick:function(e){e.preventDefault(),e.target.blur(),y(S),F(Object.keys(S).length),L(!0)}}),Object(x.jsx)(b.Button,{text:I?"Saved":"Save",disabled:I,variant:"primary",loading:z,onClick:function(e){e.preventDefault(),e.target.blur(),ae(!0)}})]})]})]})}},695:function(e,t,a){e.exports={env_wrapper:"Environment_env_wrapper__1N2M0",env_spinner:"Environment_env_spinner__1lvGB",env_table_wrapper:"Environment_env_table_wrapper__YZAeh",loading:"Environment_loading__3vGqX",env_table_header_text:"Environment_env_table_header_text__2ozRc",add_row_button:"Environment_add_row_button__2PZ11",add_row_text:"Environment_add_row_text__2ikd3",env_table_header:"Environment_env_table_header__3TYzG",env_text_area:"Environment_env_text_area__1EUWp",remove_row_button_box:"Environment_remove_row_button_box__1rhwX",remove_row_button:"Environment_remove_row_button__1R6sJ",values:"Environment_values__1YZ8d",save_revert_buttons:"Environment_save_revert_buttons__128Gj",loading_box_wrapper:"Environment_loading_box_wrapper__2PlcK"}},781:function(e,t,a){"use strict";a.r(t);var s=a(148),n=a(9),i=a(15),c=a(30),r=a(26),l=a(1),o=a(630),d=a(337),p=a(347),b=a.n(p),h=a(659),u=a(5),j=function(){var e=Object(c.a)(Object(i.a)().mark((function e(t){var a,s,n;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"https://dynspaces-api.w3sdevelop.com/api2/dynamic-spaces/",n=Object(h.b)("accessToken")[0],t.baseURL="https://dynspaces-api.w3sdevelop.com/api2/dynamic-spaces/",t.headers||(t.headers={}),t.method||(t.method="GET"),null!==(a=t.headers)&&void 0!==a&&a["Content-Type"]||(t.headers["Content-Type"]="application/json"),null!==(s=t.headers)&&void 0!==s&&s.Authorization||(u.logging.logDebug("dynamicSpacesUserApi -> attaching accessToken"),t.headers.Authorization="Bearer ".concat(n)),u.logging.logDebug("prs: ",t),e.abrupt("return",b()(t).then((function(e){return Promise.resolve(m(e))})).catch((function(e){return Promise.resolve(f(e))})));case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),m=function(e){return{status:e.status,data:e.data}},f=function(e){return{status:e.response.status,data:e.response.data}},O=a(22),g=a(41),_=a(32),v=a(643),x=a(690),w=a.n(x),y=a(3),C=function(e){var t=e.tableName,a=e.handleOnClick,s=e.handleOnClickDelete,n=e.disable,i=e.selectedTable;return Object(y.jsx)("div",{children:Object(y.jsxs)("div",{onClick:function(e){a(e,t)},className:"".concat(w.a.tables_buttons," ").concat(n?w.a.disable:""," ").concat(i===t?w.a.select:""),children:[Object(y.jsx)("span",{className:w.a.tables_buttons_text,children:t}),Object(y.jsx)("div",{className:"".concat(w.a.delete_table_button," ").concat(n?w.a.disable:""),onClick:function(e){s(e,t)},children:Object(y.jsx)(v.a,{})})]})})},N=a(691),S=a.n(N),k=a(16),D={data:{tables:null,table:{}}},M=function(e){return Object(k.e)("Settings::setUserTables",e)},E=function(e){return Object(k.e)("Settings::setUserTable",e)};function F(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:D,a=arguments.length>1?arguments[1]:void 0;switch(u.logging.logDebug("SettingsReducer -> action: ",a.type),a.type){case"Settings::setUserTables":return u.logging.logDebug("settingsReducer -> Settings:setUserTables -> action.payload: ",a.payload),Object(n.a)(Object(n.a)({},t),{},{data:Object(n.a)(Object(n.a)({},t.data),{},{tables:a.payload})});case"Settings::setUserTable":u.logging.logDebug("settingsReducer -> Settings:setUserTable -> action.payload: ",a.payload);var i=a.payload.page,c=Object(n.a)(Object(n.a)({},(null===(e=t.data.table[a.payload.tableName])||void 0===e?void 0:e.page)||{}),{},Object(s.a)({},i,a.payload.rows));return Object(n.a)(Object(n.a)({},t),{},{data:Object(n.a)(Object(n.a)({},t.data),{},{table:Object(n.a)(Object(n.a)({},t.data.table),{},Object(s.a)({},a.payload.tableName,{page:Object(n.a)({},c),nextPage:a.payload.nextPage}))})});default:return t}}var T=a(682),P=(a(692),function(e){e.tableName;var t,a=e.tableRows,s=function(e){return Object.keys(e).map((function(t){return Object(y.jsx)("td",{children:e[t]})}))};return Object(y.jsx)("div",{children:Object(y.jsx)("div",{className:"w3-table-wrapper"+(0===a.length?" empty":""),id:"w3-table-wrapper",children:0===a.length?Object(y.jsx)("div",{className:"empty-table-text",children:"No data in table"}):Object(y.jsxs)(T.a,{bordered:!0,children:[Object(y.jsx)("thead",{children:Object(y.jsx)("tr",{children:(t=a[0],Object.keys(t).map((function(e){return Object(y.jsx)("th",{className:"header-grey",children:e})})))})}),Object(y.jsx)("tbody",{children:a.map((function(e){return Object(y.jsx)("tr",{children:s(e)})}))})]})})})}),I=a(216),L=a(647),A=a(221),U=a(667),R=a(631),H=a(635),B=a(693),V=a.n(B),z=function(e){var t=e.displayCreateTableModal,a=e.handleCloseCreateTableModal,i=e.handleOnSubmitCreateTable,c=e.createTableLoading,o=e.tables,d=Object(l.useState)(""),p=Object(r.a)(d,2),b=p[0],h=p[1],u=Object(l.useState)({1:"",2:"",3:"",4:""}),j=Object(r.a)(u,2),m=j[0],f=j[1],O=Object(l.useState)(4),g=Object(r.a)(O,2),_=g[0],x=g[1],w=Object(l.useState)({}),C=Object(r.a)(w,2),N=C[0],S=C[1],k=Object(l.useState)(""),D=Object(r.a)(k,2),M=D[0],E=D[1],F=Object(l.useState)(!1),T=Object(r.a)(F,2),P=T[0],B=T[1],z=Object(l.useState)(!1),q=Object(r.a)(z,2),G=q[0],Z=q[1],K=function(e){return Object(y.jsx)(y.Fragment,{children:Object(y.jsx)("div",{className:V.a.remove_column_button,onClick:function(t){t.preventDefault();m[e];var a=Object(A.a)(m,[e].map(U.a));f(a)},children:Object(y.jsx)(v.a,{})})})};return Object(y.jsx)(y.Fragment,{children:t&&Object(y.jsx)(I.a,{title:"New table",backdrop:"static",cancelText:"Cancel",okText:"Create",show:t,okButtonVariant:"primary",loading:c,handleClose:a,handleOk:function(e){e.preventDefault(),B(!1),function(e){var t=!0,a=!0,i={};E("");var c=Object.keys(e).filter((function(t){for(var a=0,s=Object.entries(e);a<s.length;a++){var n=Object(r.a)(s[a],2),i=n[0],c=n[1];if(i!==t&&c===e[t])return!0}return!1}));c.length>0&&(c.forEach((function(e){i=Object(n.a)(Object(s.a)({},e,"Duplicate column name - Please change!"),i)})),t=!1);for(var l=0,d=Object.entries(e);l<d.length;l++){var p=Object(r.a)(d[l],2),h=p[0],u=p[1];/^[0-9]/g.test(u)&&(i=Object(n.a)(Object(s.a)({},h,"Column name cannot start with a number - Please change!"),i),t=!1),""===u&&(i=Object(n.a)(Object(n.a)({},i),{},Object(s.a)({},h,"Please input a column name...")),t=!1)}return""===b&&(E("Please input a table name..."),t=!1,a=!1),null!==o&&void 0!==o&&o.map((function(e){return e.name})).includes(b)&&(E("Table already exists - Please change name..."),t=!1,a=!1),B(!t),Z(a),S(i),t}(m)&&i(m,b)},children:Object(y.jsx)("div",{className:V.a.form_wrapper,children:Object(y.jsxs)(H.a,{children:[Object(y.jsxs)(H.a.Group,{className:V.a.form_group,children:[Object(y.jsx)(H.a.Label,{children:"Table"}),Object(y.jsx)(H.a.Control,{type:"text",value:b,onChange:function(e){h(e.target.value.replace(/[^\w]/g,""))},className:P&&M?"invalid":"",placeholder:"Enter table name...",isValid:G}),P&&Object(y.jsx)("div",{className:V.a.table_error_text,children:M})]}),Object(y.jsxs)("div",{className:V.a.column_header_text,children:["Columns ",Object(y.jsx)("span",{children:Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)("span",{className:V.a.add_column_button_text,children:"Add"}),Object(y.jsx)("div",{className:V.a.add_column_button,onClick:function(e){e.preventDefault(),x(_+1),f(Object(n.a)(Object(n.a)({},m),{},Object(s.a)({},"".concat(_+1),"")))},children:Object(y.jsx)(L.a,{width:"16",height:"16"})})]})})]}),Object(y.jsx)("div",{className:V.a.column_input_wrapper,children:Object(y.jsx)(y.Fragment,{children:Object.keys(m).map((function(e,t){return Object(y.jsxs)("div",{children:[Object(y.jsxs)(R.a,{className:V.a.input_group,children:[Object(y.jsx)(H.a.Control,{className:P&&N[e]?"invalid":"",type:"text",value:m[e],onChange:function(t){f(Object(n.a)(Object(n.a)({},m),{},Object(s.a)({},e,t.target.value.replace(/[^\w]/g,""))))},placeholder:"Name column ".concat(t+1,"...")}),Object(y.jsxs)(R.a.Append,{className:P&&N[e]?"invalid":"",children:[t>0&&K(e),0===t&&Object(y.jsxs)("div",{style:{width:"24px",height:"24px",marginLeft:"10px"},children:[" ",""," "]})," "]})]}),P&&N[e]?Object(y.jsxs)("div",{className:V.a.column_error_text,children:[N[e]," "]}):Object(y.jsx)("div",{style:{height:"15px",marginBottom:"5px"}})]},e)}))})})]})}),className:"w3s-create-table-modal"})})};var q=function(){return Object(y.jsx)("svg",{width:"8",height:"14",viewBox:"0 0 8 14",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:Object(y.jsx)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M7.35355 0.646447C7.54882 0.841709 7.54882 1.15829 7.35355 1.35355L1.70711 7L7.35355 12.6464C7.54882 12.8417 7.54882 13.1583 7.35355 13.3536C7.15829 13.5488 6.84171 13.5488 6.64645 13.3536L0.646447 7.35355C0.451184 7.15829 0.451184 6.84171 0.646447 6.64645L6.64645 0.646447C6.84171 0.451184 7.15829 0.451184 7.35355 0.646447Z",fill:"black"})})};var G=function(){return Object(y.jsx)("svg",{width:"8",height:"14",viewBox:"0 0 8 14",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:Object(y.jsx)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M0.646447 0.646447C0.841709 0.451184 1.15829 0.451184 1.35355 0.646447L7.35355 6.64645C7.54882 6.84171 7.54882 7.15829 7.35355 7.35355L1.35355 13.3536C1.15829 13.5488 0.841709 13.5488 0.646447 13.3536C0.451184 13.1583 0.451184 12.8417 0.646447 12.6464L6.29289 7L0.646447 1.35355C0.451184 1.15829 0.451184 0.841709 0.646447 0.646447Z",fill:"black"})})},Z=a(43),K={data:{tables:null,table:{}}};t.default=function(){var e,t,a,p=Object(O.c)(),b=Object(l.useReducer)(F,K),h=Object(r.a)(b,2),m=h[0],f=h[1],x=m.data,w=x.tables,N=Object(l.useState)(!1),k=Object(r.a)(N,2),D=k[0],T=k[1],A=Object(l.useState)(!1),U=Object(r.a)(A,2),R=U[0],H=U[1],B=Object(l.useState)(!1),V=Object(r.a)(B,2),W=V[0],Q=V[1],Y=Object(l.useState)(!1),J=Object(r.a)(Y,2),X=J[0],$=J[1],ee=Object(l.useState)(!1),te=Object(r.a)(ee,2),ae=te[0],se=te[1],ne=Object(l.useState)(""),ie=Object(r.a)(ne,2),ce=ie[0],re=ie[1],le=Object(l.useState)(""),oe=Object(r.a)(le,2),de=oe[0],pe=oe[1],be=Object(l.useState)(0),he=Object(r.a)(be,2),ue=he[0],je=he[1],me=Object(l.useState)(!1),fe=Object(r.a)(me,2),Oe=fe[0],ge=fe[1],_e=Object(l.useState)(!1),ve=Object(r.a)(_e,2),xe=ve[0],we=ve[1],ye=Object(Z.i)().spaceId,Ce=Object(l.useState)({}),Ne=Object(r.a)(Ce,2),Se=Ne[0],ke=Ne[1],De=function(){var e=Object(c.a)(Object(i.a)().mark((function e(t){var a;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u.logging.logDebug("Data-view -> Fetching tables"),H(!0),e.next=4,j({url:"".concat(t,"/user-sqlite-database/tables"),method:"GET"});case 4:200===(a=e.sent).status?(u.logging.logDebug("reqRes: ",a.data),null===a.data?(T(!0),f(M([]))):(u.logging.logDebug("disaptch -> Settings::setUserTables"),f(M(a.data.tables)),T(!1))):p(Object(g.a)({id:Object(_.f)(),dismissed:!1,type:"error",header:"Fetch database tables error",body:Object(y.jsx)("span",{children:a.data.message||a.data.errorMessage})})),H(!1),u.logging.logDebug("Data-view -> Fetching tables done");case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();Object(l.useEffect)((function(){w||De(ye)}),[p,f,w]);var Me=function(){var e=Object(c.a)(Object(i.a)().mark((function e(t,a,c){var r;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u.logging.logDebug("Fetching table page: ",c),Q(!0),e.next=4,j({url:"".concat(t,"/user-sqlite-database/table/").concat(a,"/").concat(c,"/300"),method:"GET"});case 4:200===(r=e.sent).status?(u.logging.logDebug("dispatch -> Settings::setUserTable"),u.logging.logDebug("reqRes: ",r.data),null===r.data?(u.logging.logDebug("Date-view -> empty table"),ke(Object(n.a)(Object(n.a)({},Se),{},Object(s.a)({},a,0))),f(E({tableName:a,rows:[],page:0,nextPage:null}))):(f(E({tableName:a,rows:r.data.table,page:c,nextPage:r.data.nextPage})),null===r.data.nextPage&&ke(Object(n.a)(Object(n.a)({},Se),{},Object(s.a)({},a,c)))),u.logging.logDebug("settings -> data -> maxPage: ",Se)):p(Object(g.a)({id:Object(_.f)(),dismissed:!1,type:"error",header:"Fetch table error",body:Object(y.jsx)("span",{children:r.data.message||r.data.errorMessage})})),Q(!1);case 7:case"end":return e.stop()}}),e)})));return function(t,a,s){return e.apply(this,arguments)}}(),Ee=function(){var e=Object(c.a)(Object(i.a)().mark((function e(t,a){var s;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return $(!0),s=ce,e.next=4,j({url:"".concat(t,"/user-sqlite-database/table"),method:"DELETE",data:JSON.stringify({tableName:a})});case 4:200===e.sent.status&&p(Object(g.a)({id:Object(_.f)(),dismissed:!1,type:"success",header:"Delete table success",body:Object(y.jsx)(y.Fragment,{children:'Table "'.concat(a,'" has been deleted')})})),$(!1),ge(!1),re(a===s?"":s),De(t);case 10:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),Fe=function(){var e=Object(c.a)(Object(i.a)().mark((function e(t,a,s){var n;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(se(!0),null===w||void 0===w||!w.map((function(e){return e.name})).includes(a)){e.next=6;break}return p(Object(g.a)({id:Object(_.f)(),dismissed:!1,type:"error",header:"Create table error",body:Object(y.jsx)(y.Fragment,{children:"Table already exists"})})),we(!1),se(!1),e.abrupt("return");case 6:return e.next=8,j({url:"".concat(s,"/user-sqlite-database/table"),method:"POST",data:JSON.stringify({tableSchema:{schema:t,tableName:a}})});case 8:200===(n=e.sent).status?(p(Object(g.a)({id:Object(_.f)(),dismissed:!1,type:"success",header:"Create table success",body:Object(y.jsx)(y.Fragment,{children:'Table "'.concat(a,'" has been created')})})),u.logging.logDebug("Data-view -> selecting created table"),re(a),T(!1)):(p(Object(g.a)({id:Object(_.f)(),dismissed:!1,type:"error",header:"Create table error",body:Object(y.jsx)("span",{children:n.data.message||n.data.errorMessage})})),re("")),se(!1),we(!1),De(s),Me(s,a,0);case 14:case"end":return e.stop()}}),e)})));return function(t,a,s){return e.apply(this,arguments)}}(),Te=function(e,t){var a,s;e.preventDefault(),re(t),u.logging.logDebug("Table Name: ",t),je(0),null!==(a=x.table[t])&&void 0!==a&&null!==(s=a.page)&&void 0!==s&&s[0]||Me(ye,t,0)},Pe=function(e,t){e.preventDefault(),e.stopPropagation(),ge(!0),pe(t)};return Object(y.jsxs)("div",{className:S.a.data_wrapper,children:[Oe&&Object(y.jsxs)(I.a,{title:'Delete table "'.concat(de,'"?'),size:"lg",backdrop:"static",cancelText:"Keep table",okText:"Delete table",show:Oe,okButtonVariant:"destructive",loading:X,handleClose:function(){return ge(!1)},handleOk:function(){Ee(ye,de)},children:[Object(y.jsxs)("div",{children:[Object(y.jsx)("strong",{children:"WARNING! "}),"this action cannot be reverted. All records in table will be ",Object(y.jsx)("strong",{children:"lost"}),"."]}),Object(y.jsxs)("div",{style:{marginTop:"25px"},children:["Are you sure you want to delete table ",'"'.concat(de,'"'),"?"]})]}),xe&&Object(y.jsx)(z,{displayCreateTableModal:xe,handleCloseCreateTableModal:function(){we(!1)},handleOnSubmitCreateTable:function(e,t){var a=Object.keys(e).map((function(t){return{columnName:e[t],dataType:"",columnConstrain:""}}));Fe(a,t,ye)},createTableLoading:ae,tables:w||[]},"create-table"),Object(y.jsxs)("div",{className:S.a.tables_buttons_wrapper,children:[Object(y.jsxs)(o.a,{className:S.a.tables_buttons_header_text,children:["DATA",Object(y.jsx)("div",{className:S.a.create_table_button+" "+(R?S.a.disabled:""),onClick:function(e){!function(e){e.preventDefault(),we(!0)}(e)},children:Object(y.jsx)(L.a,{})})]}),R||!w?Object(y.jsx)(o.a,{className:S.a.fetch_tables_spinner+" w3-fetch-tables-spinner-override"+(D?" ".concat(S.a.hide):""),children:Object(y.jsx)(u.Spinner,{size:"medium"})}):w.map((function(e){return Object(y.jsx)(o.a,{style:{maxHeight:"46px",marginBottom:"10px"},children:Object(y.jsx)(C,{tableName:e.name,handleOnClick:Te,handleOnClickDelete:Pe,disable:W,selectedTable:ce})},e.name)}))]}),Object(y.jsxs)("div",{className:S.a.table_wrapper,children:[""!==ce&&Object(y.jsxs)(o.a,{className:S.a.table_header,children:[Object(y.jsx)(d.a,{className:S.a.table_header_text,children:ce}),Object(y.jsxs)(d.a,{className:S.a.table_next_prev_buttons,children:[Object(y.jsx)("div",{className:S.a.prev_button+" "+(0===ue||W?S.a.prev_button_disable:""),onClick:function(e){!function(e,t){e.preventDefault(),u.logging.logDebug("prev page: ",t),t>0&&je(t-1)}(e,ue)},children:Object(y.jsx)(q,{})}),Object(y.jsx)("div",{className:S.a.page_number,children:ue+1}),Object(y.jsx)("div",{className:S.a.next_button+" "+(ue===Se[ce]||W?S.a.next_button_disable:""),onClick:function(e){!function(e,t,a){var s,n;e.preventDefault(),null!==a&&(je(a),null!==(s=x.table[ce])&&void 0!==s&&null!==(n=s.page)&&void 0!==n&&n[a]||Me(ye,t,a))}(e,ce,null===Se[ce]||ue!==Se[ce]?ue+1:null)},children:Object(y.jsx)(G,{})})]}),Object(y.jsx)(d.a,{className:S.a.second_delete_button_col,children:Object(y.jsxs)("button",{className:S.a.second_delete_button,onClick:function(e){Pe(e,ce),e.target.blur()},children:["DELETE",Object(y.jsx)(v.a,{width:"16",height:"16"})]})})]}),W?Object(y.jsx)("div",{className:S.a.fetch_table_page_spinner,children:Object(y.jsx)(u.Spinner,{size:"large"})}):""!==ce&&null!==(e=x.table)&&void 0!==e&&null!==(t=e[ce])&&void 0!==t&&null!==(a=t.page)&&void 0!==a&&a[ue]?Object(y.jsx)(P,{tableName:ce,tableRows:x.table[ce].page[ue]}):D?Object(y.jsx)("div",{className:S.a.database_empty_text,children:"Database is empty"}):Object(y.jsx)("div",{className:S.a.no_table_selected_text,children:"Please select a table"})]})]})}},802:function(e,t,a){},803:function(e,t,a){},811:function(e,t,a){e.exports={wrapper:"MobileFilePanel_wrapper__35T0D",menuChild:"MobileFilePanel_menuChild__ujK7i",upgrade_menu_item:"MobileFilePanel_upgrade_menu_item__3xe3V"}}}]);
//# sourceMappingURL=18.0d6eab5b.chunk.js.map